/*!
 * jQuery JavaScript Library v3.1.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-09-22T22:30Z
 */
function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function debounce(e,t,n){var i;return function(){var o=this,r=arguments,s=function(){i=null,n||e.apply(o,r)},a=n&&!i;clearTimeout(i),i=setTimeout(s,t),a&&e.apply(o,r)}}function clone(e){var t={};for(var n in e)t[n]=e[n];return t}function getGAClientID(){if(void 0===window.ga){var e=document.cookie.match("(?:^|;)\\s*_ga=([^;]*)"),t=e?decodeURIComponent(e[1]):null;return t&&((e=t.match(/(\d+\.\d+)$/))?e[1]:null)||""}if(void 0!==ga.getAll)return ga.getAll()[0].get("clientId")||""}function GTMpushEvent(e,t="",n=""){"undefined"!=typeof dataLayer?(dataLayer.push({event:e,eventCategory:t,eventLabel:n}),console.info("GTMpushEvent: "+e+", GTMpushCategory: "+t+", GTMpushLabel: "+n)):console.log("dataLayer is undefined")}function GTMpushEventLoadForm(e,t=""){"undefined"!=typeof dataLayer?("CONTACT_US_FORM"==e&&(dataLayer.push({event:"MainFormLoad"}),dataLayer.push({event:"Form_Main_Open",eventCategory:"Form_Main"})),"Form_Main_Foreign"==e&&(dataLayer.push({event:"MainFormLoad"}),dataLayer.push({event:"Form_Main_Foreign_Open",eventCategory:"Form_Main_Foreign"})),"FORM_UPRAVLENKA"==e&&dataLayer.push({event:"Form_Upravlenka_Access_Open",eventCategory:"Form_Upravlenka_Access"}),"CONTACT_US_ACCOUNTING_MOBILE_FORM"==e&&dataLayer.push({event:"Form_BS_outsourcing_Mobile_Open",eventCategory:"Form_BS_outsourcing_mobile"}),"CONTACT_US_OUTSOURCING_FORM"==e&&dataLayer.push({event:"MainFormLoad"}),"CALLBACK_FORM"==e&&(dataLayer.push({event:"1CWACallbackFormLoad"}),dataLayer.push({event:"Form_Callback_Long_Open",eventCategory:"Form_Callback_Long"})),"CALLBACK_FORM_SHORT"==e&&(dataLayer.push({event:"1CWACallbackFormLoad"}),dataLayer.push({event:"Form_Callback_Short_Open",eventCategory:"Form_Callback_Short"})),"CALLBACK_FORM_BASA"==e&&dataLayer.push({event:"Form_Proverim_Bazu_Open",eventCategory:"Form_Proverim_Bazu"}),"SEND_VCARD_FORM"==e&&(dataLayer.push({event:"FormBusinesscardEmailLoad"}),dataLayer.push({event:"Form_Visitka_Open",eventCategory:"Form_Visitka"})),"BREAKFAST_INVITE_FORM"==e&&dataLayer.push({event:"getInvitation"}),"BUSINESS_CLUB_UNICREDIT_FORM"==e&&dataLayer.push({event:"getInvitation"}),"Club_DIRECTOR"==e&&dataLayer.push({event:"getInvitation"}),"ZERO_CONTACT_FORM"==e&&(dataLayer.push({event:"NullFormLoad"}),dataLayer.push({event:"Form_Nulevka_Open",eventCategory:"Form_Nulevka"})),"PAYMENT_FORM"==e&&(dataLayer.push({event:"NullFormBuyLoad"}),dataLayer.push({event:"Form_Pay_By_Card_Open",eventCategory:"Form_Pay_By_Card"})),"POPUP_SUBSCRIPTION"==e&&(dataLayer.push({event:"InfoSubscriptionPopupLoad"}),dataLayer.push({event:"Form_Blog_Subscription_Open",eventCategory:"Form_Blog_Subscription"})),"POPUP_SIMPLY_SUBSCRIPTION"==e&&dataLayer.push({event:"Form_Send_File_Open",eventCategory:"Form_Send_File"}),"finance_callback"==e&&dataLayer.push({event:"Form_FRM_Open",eventCategory:"Form_FRM"}),"FORM_PAYROLL"==e&&dataLayer.push({event:"Payroll_Quiz_Demo_Form_Open",eventCategory:"Payroll_Quiz"}),console.info("GTMpushEventLoadForm: "+e)):console.log("dataLayer is undefined")}function GTMpushEventSendForm(e,t=""){"undefined"!=typeof dataLayer?("FORM_UPRAVLENKA"==e&&dataLayer.push({event:"Form_Upravlenka_Access_Sent",eventCategory:"Form_Upravlenka_Access"}),"Form_Upravlenka_Mobile"==e&&dataLayer.push({event:"Form_Upravlenka_Mobile_Sent",eventCategory:"Form_Upravlenka_Mobile"}),"FORM_PAYROLL"==e&&dataLayer.push({event:"Payroll_Quiz_Demo_Form_Sent",eventCategory:"Payroll_Quiz"}),"CALLBACK_FORM_BASA"==e&&dataLayer.push({event:"Form_Proverim_Bazu_Sent",eventCategory:"Form_Proverim_Bazu"}),"CONTACT_US_FORM"==e&&(dataLayer.push({event:"MainFormSent"}),dataLayer.push({event:"Form_Main_Sent",eventCategory:"Form_Main"}),"/outsourcing/"==window.location.pathname&&dataLayer.push({event:"Accountig1_Quiz_Main_Form_Sent",eventCategory:"Accountig1_Quiz"}),"/payroll/"==window.location.pathname&&dataLayer.push({event:"Payroll_Quiz_Main_Form_Sent",eventCategory:"Payroll_Quiz"})),"Form_Main_Foreign"==e&&(dataLayer.push({event:"MainFormSent"}),dataLayer.push({event:"Form_Main_Foreign_Sent",eventCategory:"Form_Main_Foreign"})),"CONTACT_US_ACCOUNTING_CALC_FORM"==e&&dataLayer.push({event:"Form_Accounting_Calculator_Extended_Sent",eventCategory:t,eventLabel:"Form_Accounting_Calculator_Extended"}),"CONTACT_US_ACCOUNTING_MOBILE_FORM"==e&&dataLayer.push({event:"Form_BS_outsourcing_Mobile_Sent",eventCategory:"Form_BS_outsourcing_mobile"}),"CONTACT_US_OUTSOURCING_FORM"==e&&dataLayer.push({event:"MainFormSent"}),"CALLBACK_FORM"==e&&(dataLayer.push({event:"1CWACallbackFormSent"}),dataLayer.push({event:"Form_Callback_Long_Sent",eventCategory:"Form_Callback_Long"})),"CALLBACK_FORM_SHORT"==e&&(dataLayer.push({event:"1CWACallbackFormSent"}),dataLayer.push({event:"Form_Callback_Short_Sent",eventCategory:"Form_Callback_Short"})),"SEND_VCARD_FORM"==e&&(dataLayer.push({event:"FormBusinesscardEmailSent"}),dataLayer.push({event:"Form_Visitka_Sent",eventCategory:"Form_Visitka"})),"BREAKFAST_INVITE_FORM"==e&&dataLayer.push({event:"businessBbreakfast"}),"BUSINESS_CLUB_UNICREDIT_FORM"==e&&dataLayer.push({event:"businessBbreakfast"}),"Club_DIRECTOR"==e&&dataLayer.push({event:"businessBreakfast"}),"ZERO_CONTACT_FORM"==e&&(dataLayer.push({event:"NullFormSent"}),dataLayer.push({event:"Form_Nulevka_Sent",eventCategory:"Form_Nulevka"})),"finance_callback"==e&&dataLayer.push({event:"Form_FRM_Sent",eventCategory:"Form_FRM"}),"Payroll_Quiz_Calculator"==e&&dataLayer.push({event:"Payroll_Quiz_Calculator_Sent",eventCategory:t}),"Payroll_Quiz_Recount_Form"==e&&dataLayer.push({event:"Payroll_Quiz_Recount_Form_Sent",eventCategory:t}),"PAYMENT_FORM"==e&&(dataLayer.push({event:"NullFormBuySent"}),dataLayer.push({event:"Form_Pay_By_Card_Sent",eventCategory:"Form_Pay_By_Card"})),"POPUP_SUBSCRIPTION"==e&&(dataLayer.push({event:"InfoSubscriptionPopupSent"}),dataLayer.push({event:"Form_Blog_Subscription_Sent",eventCategory:"Form_Blog_Subscription"})),"PARTNER_SPECIAL"==e&&dataLayer.push({event:"PartnerSpecialSent"}),"POPUP_SIMPLY_SUBSCRIPTION"==e&&dataLayer.push({event:"Form_Send_File_Sent",eventCategory:"Form_Send_File"}),console.info("GTMpushEventSendForm: "+e+", GTMpushCategory: "+t)):console.log("dataLayer is undefined")}function GTMpushEventTouchForm(e,t="",n=""){"undefined"!=typeof dataLayer?("CONTACT_US_ACCOUNTING_CALC_FORM"==e&&(t="Form_Accounting_Calculator_Extended"),"CALLBACK_FORM_BASA"==e&&(t="Form_Proverim_Bazu"),"finance_callback"==e&&(t="Form_FRM"),"FORM_UPRAVLENKA"==e&&(t="Form_Upravlenka_Access"),"Form_Upravlenka_Mobile"==e&&(t="Form_Upravlenka_Mobile"),"CONTACT_US_FORM"==e&&(dataLayer.push({event:"MainFormBeginFilling"}),t="Form_Main"),"Form_Main_Foreign"==e&&(dataLayer.push({event:"MainFormBeginFilling"}),t="Form_Main_Foreign"),"CONTACT_US_OUTSOURCING_FORM"==e&&dataLayer.push({event:"MainFormBeginFilling"}),"CONTACT_US_ACCOUNTING_MOBILE_FORM"==e&&(t="Form_BS_outsourcing_mobile"),"CALLBACK_FORM"==e&&(dataLayer.push({event:"1CWACallbackBeginFilling"}),t="Form_Callback_Long"),"CALLBACK_FORM_SHORT"==e&&(dataLayer.push({event:"1CWACallbackBeginFilling"}),t="Form_Callback_Short"),"SEND_VCARD_FORM"==e&&(t="Form_Visitka",dataLayer.push({event:"FormBusinesscardEmailBeginFilling"})),"BREAKFAST_INVITE_FORM"==e&&dataLayer.push({event:"BuisnessBreakfastBeginFilling"}),"ZERO_CONTACT_FORM"==e&&(t="Form_Nulevka",dataLayer.push({event:"NullFormBeginFilling"})),"PAYMENT_FORM"==e&&(t="Form_Pay_By_Card",dataLayer.push({event:"NullFormBuyBeginFilling"})),"POPUP_SUBSCRIPTION"==e&&(t="Form_Blog_Subscription",dataLayer.push({event:"InfoSubscriptionPopupBeginFilling"}),"popup_subs_rubric_2"==n&&dataLayer.push({event:t+"_Position_Owner",eventCategory:t}),"popup_subs_rubric_3"==n&&dataLayer.push({event:t+"_Position_Foreign",eventCategory:t}),"popup_subs_rubric_4"==n&&dataLayer.push({event:t+"_Position_Main_Accountant",eventCategory:t}),"popup_subs_rubric_5"==n&&dataLayer.push({event:t+"_Position_Financial_Director",eventCategory:t}),"popup_subs_rubric_6"==n&&dataLayer.push({event:t+"_Position_HR_Director",eventCategory:t}),"popup_subs_rubric_7"==n&&dataLayer.push({event:t+"_Position_Other",eventCategory:t}),"popup_subs_rubric_moscow"==n&&dataLayer.push({event:t+"_City_Moscow",eventCategory:t}),"popup_subs_rubric_spb"==n&&dataLayer.push({event:t+"_City_Spb",eventCategory:t}),"popup_subs_rubric_other"==n&&dataLayer.push({event:t+"_City_Other",eventCategory:t})),"PARTNER_SPECIAL"==e&&dataLayer.push({event:"PartnerSpecialBeginFilling"}),"POPUP_SIMPLY_SUBSCRIPTION"==e&&(t="Form_Send_File"),"Payroll_Quiz_Calculator"==e&&(t="Payroll_Quiz_Calculator"),"Payroll_Quiz_Recount_Form"==e&&(t="Payroll_Quiz_Recount_Form"),"FORM_PAYROLL"==e&&(t="Payroll_Quiz_Demo_Form"),"FORM_PHONE"==n&&dataLayer.push({event:t+"_Filled_Phone",eventCategory:t}),"FORM_EMAIL"==n&&dataLayer.push({event:t+"_Filled_Email",eventCategory:t}),"FORM_NAME"==n&&dataLayer.push({event:t+"_Filled_Name",eventCategory:t}),"FORM_COMMENT"==n&&dataLayer.push({event:t+"_Filled_Comment",eventCategory:t}),"FORM_TEL"==n&&dataLayer.push({event:t+"_Click_Phone",eventCategory:t}),"FORM_PAY"==n&&dataLayer.push({event:t+"_Click_Card",eventCategory:t}),"FORM_INN"==n&&dataLayer.push({event:t+"_Filled_INN",eventCategory:t}),"FORM_TIME"==n&&dataLayer.push({event:t+"_Filled_Calling_Time",eventCategory:t}),"FORM_WHATSAPP"==n&&dataLayer.push({event:t+"_Filled_Whatsapp",eventCategory:t}),"FORM_FACEBOOK"==n&&dataLayer.push({event:t+"_Filled_Facebook",eventCategory:t}),"FORM_SKYPE"==n&&dataLayer.push({event:t+"_Filled_Skype",eventCategory:t}),"FORM_CONCRETELY_INTERESTED"==n&&dataLayer.push({event:t+"_Filled_Interested",eventCategory:t}),-1!==n.indexOf("FORM_INTERESTED_")&&(index=n.replace("FORM_INTERESTED_",""),dataLayer.push({event:t+"_Choosed_Interested"+index,eventCategory:t})),console.info("GTMpushEventTouchForm: "+e)):console.log("dataLayer is undefined")}function GTMpushEventErrorForm(e,t="",n=""){"undefined"!=typeof dataLayer?("CONTACT_US_ACCOUNTING_CALC_FORM"==e?(event="Form_Accounting_Calculator_Extended_Error",n="Form_Accounting_Calculator_Extended"):"FORM_UPRAVLENKA"==e?(event="Form_Upravlenka_Access_Error",t="Form_Upravlenka_Access"):"Form_Upravlenka_Mobile"==e?(event="Form_Upravlenka_Mobile_Error",t="Form_Upravlenka_Mobile"):"CALLBACK_FORM"==e?(event="Form_Callback_Long_Error",t="Form_Callback_Long"):"CONTACT_US_FORM"==e?(event="Form_Main_Error",t="Form_Main"):"Form_Main_Foreign"==e?(event="Form_Main_Foreign_Error",t="Form_Main_Foreign"):"SEND_VCARD_FORM"==e?(event="Form_Visitka_Error",t="Form_Visitka"):"ZERO_CONTACT_FORM"==e?(event="Form_Nulevka_Error",t="Form_Nulevka"):"PAYMENT_FORM"==e?(event="Form_Pay_By_Card_Error",t="Form_Pay_By_Card"):"POPUP_SIMPLY_SUBSCRIPTION"==e?(event="Form_Send_File_Error",t="Form_Send_File"):"CALLBACK_FORM_BASA"==e?(event="Form_Proverim_Bazu_Error",t="Form_Proverim_Bazu"):"finance_callback"==e?(event="Form_FRM_Error",t="Form_FRM"):"CONTACT_US_ACCOUNTING_MOBILE_FORM"==e?(event="Form_BS_outsourcing_mobile_Error",t="Form_BS_outsourcing_mobile"):"CALLBACK_FORM_SHORT"==e?(event="Form_Callback_Short_Error",t="Form_Callback_Short"):"POPUP_SUBSCRIPTION"==e?(event="Form_Blog_Subscription_Error",t="Form_Blog_Subscription"):"FORM_PAYROLL"==e?(event="Payroll_Quiz_Demo_Form_Error",t="Payroll_Quiz"):"Payroll_Quiz_Recount_Form"==e?(event="Payroll_Quiz_Recount_Form_Error",t="Payroll_Quiz"):"Payroll_Quiz_Calculator"==e?(event="Payroll_Quiz_Calculator_Error",t="Payroll_Quiz"):(event="Error",n=e),dataLayer.push({event:event,eventCategory:t,eventLabel:n}),console.info("GTMpushEventErrorForm: "+e+", GTMpushCategory: "+t+", GTMpushLabel: "+n)):console.log("dataLayer is undefined")}function financeNumAnimate(){var e=0;$(".finance--block-bank_time_title").each((function(t,n){var i=0;if(!$(n).hasClass("finance--block-bank_time_title_final"))var o=setInterval((function(){t==e&&($(n).text(i+" мин"),(1==t&&i>=40||i>=10&&1!=t)&&($(n).addClass("finance--block-bank_time_title_final"),e++,clearInterval(o)),i++)}),[100,25,100][t])}))}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],i=e.document,o=Object.getPrototypeOf,r=n.slice,s=n.concat,a=n.push,l=n.indexOf,c={},u=c.toString,d=c.hasOwnProperty,p=d.toString,h=p.call(Object),f={};function m(e,t){var n=(t=t||i).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}var g=function(e,t){return new g.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,_=/-([a-z])/g,b=function(e,t){return t.toUpperCase()};function w(e){var t=!!e&&"length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}g.fn=g.prototype={jquery:"3.1.1",constructor:g,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},g.extend=g.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||g.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(c&&i&&(g.isPlainObject(i)||(o=g.isArray(i)))?(o?(o=!1,r=n&&g.isArray(n)?n:[]):r=n&&g.isPlainObject(n)?n:{},s[t]=g.extend(c,r,i)):void 0!==i&&(s[t]=i));return s},g.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=g.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=o(e))||"function"==typeof(n=d.call(t,"constructor")&&t.constructor)&&p.call(n)===h)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[u.call(e)]||"object":typeof e},globalEval:function(e){m(e)},camelCase:function(e){return e.replace(y,"ms-").replace(_,b)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(w(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?g.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,s=!n;o<r;o++)!t(e[o],o)!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,a=[];if(w(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&a.push(o);return s.apply([],a)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),g.isFunction(e))return i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||g.guid++,o},now:Date.now,support:f}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=n[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var C=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){var t,n,i,o,r,s,a,l,c,u,d,p,h,f,m,g,v,y,_,b="sizzle"+1*new Date,w=e.document,C=0,x=0,k=se(),T=se(),S=se(),A=function(e,t){return e===t&&(d=!0),0},E={}.hasOwnProperty,O=[],M=O.pop,$=O.push,F=O.push,P=O.slice,j=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",R="\\["+N+"*("+L+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+N+"*\\]",W=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",D=new RegExp(N+"+","g"),z=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),B=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),q=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),U=new RegExp(W),V=new RegExp("^"+L+"$"),G={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},oe=ye((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{F.apply(O=P.call(w.childNodes),w.childNodes),O[w.childNodes.length].nodeType}catch(e){F={apply:O.length?function(e,t){$.apply(e,P.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,i,o){var r,a,c,u,d,f,v,y=t&&t.ownerDocument,C=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return i;if(!o&&((t?t.ownerDocument||t:w)!==h&&p(t),t=t||h,m)){if(11!==C&&(d=Y.exec(e)))if(r=d[1]){if(9===C){if(!(c=t.getElementById(r)))return i;if(c.id===r)return i.push(c),i}else if(y&&(c=y.getElementById(r))&&_(t,c)&&c.id===r)return i.push(c),i}else{if(d[2])return F.apply(i,t.getElementsByTagName(e)),i;if((r=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return F.apply(i,t.getElementsByClassName(r)),i}if(n.qsa&&!S[e+" "]&&(!g||!g.test(e))){if(1!==C)y=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ne):t.setAttribute("id",u=b),a=(f=s(e)).length;a--;)f[a]="#"+u+" "+ve(f[a]);v=f.join(","),y=X.test(e)&&me(t.parentNode)||t}if(v)try{return F.apply(i,y.querySelectorAll(v)),i}catch(e){}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,i,o)}function se(){var e=[];return function t(n,o){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ae(e){return e[b]=!0,e}function le(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae((function(t){return t=+t,ae((function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=re.support={},r=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=re.setDocument=function(e){var t,o,s=e?e.ownerDocument||e:w;return s!==h&&9===s.nodeType&&s.documentElement?(f=(h=s).documentElement,m=!r(h),w!==h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=K.test(h.getElementsByClassName),n.getById=le((function(e){return f.appendChild(e).id=b,!h.getElementsByName||!h.getElementsByName(b).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=K.test(h.querySelectorAll))&&(le((function(e){f.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+N+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=K.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",W)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=K.test(f.compareDocumentPosition),_=t||K.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===h||e.ownerDocument===w&&_(w,e)?-1:t===h||t.ownerDocument===w&&_(w,t)?1:u?j(u,e)-j(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,s=[e],a=[t];if(!o||!r)return e===h?-1:t===h?1:o?-1:r?1:u?j(u,e)-j(u,t):0;if(o===r)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ue(s[i],a[i]):s[i]===w?-1:a[i]===w?1:0},h):h},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&p(e),t=t.replace(q,"='$1']"),n.matchesSelector&&m&&!S[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,h,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==h&&p(e),_(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==h&&p(e);var o=i.attrHandle[t.toLowerCase()],r=o&&E.call(i.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==r?r:n.attributes||!m?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},re.escape=function(e){return(e+"").replace(te,ne)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],o=0,r=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(A),d){for(;t=e[r++];)t===e[r]&&(o=i.push(r));for(;o--;)e.splice(i[o],1)}return u=null,e},o=re.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(i=re.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var o=re.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(D," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(g){if(r){for(;m;){for(p=t;p=p[m];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(_=(h=(c=(u=(d=(p=g)[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===C&&c[1])&&c[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(_=h=0)||f.pop();)if(1===p.nodeType&&++_&&p===t){u[e]=[C,h,_];break}}else if(y&&(_=h=(c=(u=(d=(p=t)[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===C&&c[1]),!1===_)for(;(p=++h&&p&&p[m]||(_=h=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++_||(y&&((u=(d=p[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[C,_]),p!==t)););return(_-=o)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,t){var n,o=i.pseudos[e]||i.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return o[b]?o(t):o.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,n){for(var i,r=o(e,t),s=r.length;s--;)e[i=j(e,r[s])]=!(n[i]=r[s])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ae((function(e){var t=[],n=[],i=a(e.replace(z,"$1"));return i[b]?ae((function(e,t,n,o){for(var r,s=i(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))})):function(e,o,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}})),has:ae((function(e){return function(t){return re(e,t).length>0}})),contains:ae((function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}})),lang:ae((function(e){return V.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe((function(){return[0]})),last:fe((function(e,t){return[t-1]})),eq:fe((function(e,t,n){return[n<0?n+t:n]})),even:fe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:fe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:fe((function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e})),gt:fe((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ge(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(e,t,n){var i=t.dir,o=t.next,r=o||i,s=n&&"parentNode"===r,a=x++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,p=[C,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(u=(d=t[b]||(t[b]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[r])&&c[0]===C&&c[1]===a)return p[2]=c[2];if(u[r]=p,p[2]=e(t,n,l))return!0}return!1}}function _e(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function be(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),c&&t.push(a)));return s}function we(e,t,n,i,o,r){return i&&!i[b]&&(i=we(i)),o&&!o[b]&&(o=we(o,r)),ae((function(r,s,a,l){var c,u,d,p=[],h=[],f=s.length,m=r||function(e,t,n){for(var i=0,o=t.length;i<o;i++)re(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!r&&t?m:be(m,p,e,a,l),v=n?o||(r?e:f||i)?[]:s:g;if(n&&n(g,v,a,l),i)for(c=be(v,h),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(g[h[u]]=d));if(r){if(o||e){if(o){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);o(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=o?j(r,d):p[u])>-1&&(r[c]=!(s[c]=d))}}else v=be(v===s?v.splice(f,v.length):v),o?o(null,s,v,l):F.apply(s,v)}))}function Ce(e){for(var t,n,o,r=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,u=ye((function(e){return e===t}),a,!0),d=ye((function(e){return j(t,e)>-1}),a,!0),p=[function(e,n,i){var o=!s&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,o}];l<r;l++)if(n=i.relative[e[l].type])p=[ye(_e(p),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(o=++l;o<r&&!i.relative[e[o].type];o++);return we(l>1&&_e(p),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<o&&Ce(e.slice(l,o)),o<r&&Ce(e=e.slice(o)),o<r&&ve(e))}p.push(n)}return _e(p)}return ge.prototype=i.filters=i.pseudos,i.setFilters=new ge,s=re.tokenize=function(e,t){var n,o,r,s,a,l,c,u=T[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=i.preFilter;a;){for(s in n&&!(o=H.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=B.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(z," ")}),a=a.slice(n.length)),i.filter)!(o=G[s].exec(a))||c[s]&&!(o=c[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?re.error(e):T(e,l).slice(0)},a=re.compile=function(e,t){var n,o=[],r=[],a=S[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Ce(t[n]))[b]?o.push(a):r.push(a);(a=S(e,function(e,t){var n=t.length>0,o=e.length>0,r=function(r,s,a,l,u){var d,f,g,v=0,y="0",_=r&&[],b=[],w=c,x=r||o&&i.find.TAG("*",u),k=C+=null==w?1:Math.random()||.1,T=x.length;for(u&&(c=s===h||s||u);y!==T&&null!=(d=x[y]);y++){if(o&&d){for(f=0,s||d.ownerDocument===h||(p(d),a=!m);g=e[f++];)if(g(d,s||h,a)){l.push(d);break}u&&(C=k)}n&&((d=!g&&d)&&v--,r&&_.push(d))}if(v+=y,n&&y!==v){for(f=0;g=t[f++];)g(_,b,s,a);if(r){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=M.call(l));b=be(b)}F.apply(l,b),u&&!r&&b.length>0&&v+t.length>1&&re.uniqueSort(l)}return u&&(C=k,c=w),_};return n?ae(r):r}(r,o))).selector=e}return a},l=re.select=function(e,t,n,o){var r,l,c,u,d,p="function"==typeof e&&e,h=!o&&s(e=p.selector||e);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(J,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=G.needsContext.test(e)?0:l.length;r--&&(c=l[r],!i.relative[u=c.type]);)if((d=i.find[u])&&(o=d(c.matches[0].replace(J,ee),X.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(r,1),!(e=o.length&&ve(l)))return F.apply(n,o),n;break}}return(p||a(e,h))(o,t,!m,n,!t||X.test(e)&&me(t.parentNode)||t),n},n.sortStable=b.split("").sort(A).join("")===b,n.detectDuplicates=!!d,p(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ce(I,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),re}(e);g.find=C,g.expr=C.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=C.uniqueSort,g.text=C.getText,g.isXMLDoc=C.isXML,g.contains=C.contains,g.escapeSelector=C.escape;var x=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&g(e).is(n))break;i.push(e)}return i},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=g.expr.match.needsContext,S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,A=/^.[^:#\[\.,]*$/;function E(e,t,n){return g.isFunction(t)?g.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?g.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?g.grep(e,(function(e){return l.call(t,e)>-1!==n})):A.test(t)?g.filter(t,e,n):(t=g.filter(t,e),g.grep(e,(function(e){return l.call(t,e)>-1!==n&&1===e.nodeType})))}g.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?g.find.matchesSelector(i,e)?[i]:[]:g.find.matches(e,g.grep(t,(function(e){return 1===e.nodeType})))},g.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(g(e).filter((function(){for(t=0;t<i;t++)if(g.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)g.find(e,o[t],n);return i>1?g.uniqueSort(n):n},filter:function(e){return this.pushStack(E(this,e||[],!1))},not:function(e){return this.pushStack(E(this,e||[],!0))},is:function(e){return!!E(this,"string"==typeof e&&T.test(e)?g(e):e||[],!1).length}});var O,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(g.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:i,!0)),S.test(o[1])&&g.isPlainObject(t))for(o in t)g.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(r=i.getElementById(o[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==n.ready?n.ready(e):e(g):g.makeArray(e,this)}).prototype=g.fn,O=g(i);var $=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}g.fn.extend({has:function(e){var t=g(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(g.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,o=this.length,r=[],s="string"!=typeof e&&g(e);if(!T.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?g.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?l.call(g(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return e.contentDocument||g.merge([],e.childNodes)}},(function(e,t){g.fn[e]=function(n,i){var o=g.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=g.filter(i,o)),this.length>1&&(F[e]||g.uniqueSort(o),$.test(e)&&o.reverse()),this.pushStack(o)}}));var j=/[^\x20\t\r\n\f]+/g;function I(e){return e}function N(e){throw e}function L(e,t,n){var i;try{e&&g.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&g.isFunction(i=e.then)?i.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}g.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return g.each(e.match(j)||[],(function(e,n){t[n]=!0})),t}(e):g.extend({},e);var t,n,i,o,r=[],s=[],a=-1,l=function(){for(o=e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<r.length;)!1===r[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},c={add:function(){return r&&(n&&!t&&(a=r.length-1,s.push(n)),function t(n){g.each(n,(function(n,i){g.isFunction(i)?e.unique&&c.has(i)||r.push(i):i&&i.length&&"string"!==g.type(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return g.each(arguments,(function(e,t){for(var n;(n=g.inArray(t,r,n))>-1;)r.splice(n,1),n<=a&&a--})),this},has:function(e){return e?g.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=s=[],n||t||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},g.extend({Deferred:function(t){var n=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return g.Deferred((function(t){g.each(n,(function(n,i){var o=g.isFunction(e[i[4]])&&e[i[4]];r[i[1]]((function(){var e=o&&o.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,o){var r=0;function s(t,n,i,o){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<r)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,g.isFunction(c)?o?c.call(e,s(r,n,I,o),s(r,n,N,o)):(r++,c.call(e,s(r,n,I,o),s(r,n,N,o),s(r,n,I,n.notifyWith))):(i!==I&&(a=void 0,l=[e]),(o||n.resolveWith)(a,l))}},u=o?c:function(){try{c()}catch(e){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(e,u.stackTrace),t+1>=r&&(i!==N&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?u():(g.Deferred.getStackHook&&(u.stackTrace=g.Deferred.getStackHook()),e.setTimeout(u))}}return g.Deferred((function(e){n[0][3].add(s(0,e,g.isFunction(o)?o:I,e.notifyWith)),n[1][3].add(s(0,e,g.isFunction(t)?t:I)),n[2][3].add(s(0,e,g.isFunction(i)?i:N))})).promise()},promise:function(e){return null!=e?g.extend(e,o):o}},r={};return g.each(n,(function(e,t){var s=t[2],a=t[5];o[t[1]]=s.add,a&&s.add((function(){i=a}),n[3-e][2].disable,n[0][2].lock),s.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=s.fireWith})),o.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),o=r.call(arguments),s=g.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?r.call(arguments):n,--t||s.resolveWith(i,o)}};if(t<=1&&(L(e,s.done(a(n)).resolve,s.reject),"pending"===s.state()||g.isFunction(o[n]&&o[n].then)))return s.then();for(;n--;)L(o[n],a(n),s.reject);return s.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&R.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},g.readyException=function(t){e.setTimeout((function(){throw t}))};var W=g.Deferred();function D(){i.removeEventListener("DOMContentLoaded",D),e.removeEventListener("load",D),g.ready()}g.fn.ready=function(e){return W.then(e).catch((function(e){g.readyException(e)})),this},g.extend({isReady:!1,readyWait:1,holdReady:function(e){e?g.readyWait++:g.ready(!0)},ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||W.resolveWith(i,[g]))}}),g.ready.then=W.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(g.ready):(i.addEventListener("DOMContentLoaded",D),e.addEventListener("load",D));var z=function(e,t,n,i,o,r,s){var a=0,l=e.length,c=null==n;if("object"===g.type(n))for(a in o=!0,n)z(e,t,a,n[a],!0,r,s);else if(void 0!==i&&(o=!0,g.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(g(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:c?t.call(e):l?t(e[0],n):r},H=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=g.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},H(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[g.camelCase(t)]=n;else for(i in t)o[g.camelCase(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][g.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=g.isArray(t)?t.map(g.camelCase):(t=g.camelCase(t))in i?[t]:t.match(j)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||g.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!g.isEmptyObject(t)}};var q=new B,U=new B,V=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,G=/[A-Z]/g;function Q(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(G,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:V.test(e)?JSON.parse(e):e)}(n)}catch(e){}U.set(e,t,n)}else n=void 0;return n}g.extend({hasData:function(e){return U.hasData(e)||q.hasData(e)},data:function(e,t,n){return U.access(e,t,n)},removeData:function(e,t){U.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),g.fn.extend({data:function(e,t){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=U.get(r),1===r.nodeType&&!q.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=g.camelCase(i.slice(5)),Q(r,i,o[i]));q.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){U.set(this,e)})):z(this,(function(t){var n;if(r&&void 0===t)return void 0!==(n=U.get(r,e))||void 0!==(n=Q(r,e))?n:void 0;this.each((function(){U.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){U.remove(this,e)}))}}),g.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=q.get(e,t),n&&(!i||g.isArray(n)?i=q.access(e,t,g.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),i=n.length,o=n.shift(),r=g._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,(function(){g.dequeue(e,t)}),r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:g.Callbacks("once memory").add((function(){q.remove(e,[t+"queue",n])}))})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each((function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){g.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=g.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=q.get(r[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,K=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),Y=["Top","Right","Bottom","Left"],X=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&g.contains(e.ownerDocument,e)&&"none"===g.css(e,"display")},J=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in o=n.apply(e,i||[]),t)e.style[r]=s[r];return o};function ee(e,t,n,i){var o,r=1,s=20,a=i?function(){return i.cur()}:function(){return g.css(e,t,"")},l=a(),c=n&&n[3]||(g.cssNumber[t]?"":"px"),u=(g.cssNumber[t]||"px"!==c&&+l)&&K.exec(g.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=r=r||".5",g.style(e,t,u+c)}while(r!==(r=a()/l)&&1!==r&&--s)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}var te={};function ne(e){var t,n=e.ownerDocument,i=e.nodeName,o=te[i];return o||(t=n.body.appendChild(n.createElement(i)),o=g.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),te[i]=o,o)}function ie(e,t){for(var n,i,o=[],r=0,s=e.length;r<s;r++)(i=e[r]).style&&(n=i.style.display,t?("none"===n&&(o[r]=q.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&X(i)&&(o[r]=ne(i))):"none"!==n&&(o[r]="none",q.set(i,"display",n)));for(r=0;r<s;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}g.fn.extend({show:function(){return ie(this,!0)},hide:function(){return ie(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){X(this)?g(this).show():g(this).hide()}))}});var oe=/^(?:checkbox|radio)$/i,re=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,se=/^$|\/(?:java|ecma)script/i,ae={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function le(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&g.nodeName(e,t)?g.merge([e],n):n}function ce(e,t){for(var n=0,i=e.length;n<i;n++)q.set(e[n],"globalEval",!t||q.get(t[n],"globalEval"))}ae.optgroup=ae.option,ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td;var ue,de,pe=/<|&#?\w+;/;function he(e,t,n,i,o){for(var r,s,a,l,c,u,d=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if((r=e[h])||0===r)if("object"===g.type(r))g.merge(p,r.nodeType?[r]:r);else if(pe.test(r)){for(s=s||d.appendChild(t.createElement("div")),a=(re.exec(r)||["",""])[1].toLowerCase(),l=ae[a]||ae._default,s.innerHTML=l[1]+g.htmlPrefilter(r)+l[2],u=l[0];u--;)s=s.lastChild;g.merge(p,s.childNodes),(s=d.firstChild).textContent=""}else p.push(t.createTextNode(r));for(d.textContent="",h=0;r=p[h++];)if(i&&g.inArray(r,i)>-1)o&&o.push(r);else if(c=g.contains(r.ownerDocument,r),s=le(d.appendChild(r),"script"),c&&ce(s),n)for(u=0;r=s[u++];)se.test(r.type||"")&&n.push(r);return d}ue=i.createDocumentFragment().appendChild(i.createElement("div")),(de=i.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),ue.appendChild(de),f.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue;var fe=i.documentElement,me=/^key/,ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ve=/^([^.]*)(?:\.(.+)|)/;function ye(){return!0}function _e(){return!1}function be(){try{return i.activeElement}catch(e){}}function we(e,t,n,i,o,r){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)we(e,a,n,i,t[a],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=_e;else if(!o)return e;return 1===r&&(s=o,(o=function(e){return g().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=g.guid++)),e.each((function(){g.event.add(this,t,o,i,n)}))}g.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,c,u,d,p,h,f,m,v=q.get(e);if(v)for(n.handler&&(n=(r=n).handler,o=r.selector),o&&g.find.matchesSelector(fe,o),n.guid||(n.guid=g.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(t){return void 0!==g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(j)||[""]).length;c--;)h=m=(a=ve.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),h&&(d=g.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=g.event.special[h]||{},u=g.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&g.expr.match.needsContext.test(o),namespace:f.join(".")},r),(p=l[h])||((p=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(h,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),g.event.global[h]=!0)},remove:function(e,t,n,i,o){var r,s,a,l,c,u,d,p,h,f,m,v=q.hasData(e)&&q.get(e);if(v&&(l=v.events)){for(c=(t=(t||"").match(j)||[""]).length;c--;)if(h=m=(a=ve.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),h){for(d=g.event.special[h]||{},p=l[h=(i?d.delegateType:d.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=p.length;r--;)u=p[r],!o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(r,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));s&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,v.handle)||g.removeEvent(e,h,v.handle),delete l[h])}else for(h in l)g.event.remove(e,h+t[c],n,i,!0);g.isEmptyObject(l)&&q.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,s,a=g.event.fix(e),l=new Array(arguments.length),c=(q.get(this,"events")||{})[a.type]||[],u=g.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=g.event.handlers.call(this,a,c),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(i=((g.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,r,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],s={},n=0;n<l;n++)void 0===s[o=(i=t[n]).selector+" "]&&(s[o]=i.needsContext?g(o,this).index(c)>-1:g.find(o,this,null,[c]).length),s[o]&&r.push(i);r.length&&a.push({elem:c,handlers:r})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(g.Event.prototype,e,{enumerable:!0,configurable:!0,get:g.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[g.expando]?e:new g.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==be()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===be()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(e){return g.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},g.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ye:_e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:_e,isPropagationStopped:_e,isImmediatePropagationStopped:_e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ye,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ye,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ye,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&me.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ge.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},g.event.addProp),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||g.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),g.fn.extend({on:function(e,t,n,i){return we(this,e,t,n,i)},one:function(e,t,n,i){return we(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,g(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=_e),this.each((function(){g.event.remove(this,e,n,t)}))}});var Ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,xe=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^true\/(.*)/,Se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ae(e,t){return g.nodeName(e,"table")&&g.nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&e.getElementsByTagName("tbody")[0]||e}function Ee(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){var t=Te.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Me(e,t){var n,i,o,r,s,a,l,c;if(1===t.nodeType){if(q.hasData(e)&&(r=q.access(e),s=q.set(t,r),c=r.events))for(o in delete s.handle,s.events={},c)for(n=0,i=c[o].length;n<i;n++)g.event.add(t,o,c[o][n]);U.hasData(e)&&(a=U.access(e),l=g.extend({},a),U.set(t,l))}}function $e(e,t,n,i){t=s.apply([],t);var o,r,a,l,c,u,d=0,p=e.length,h=p-1,v=t[0],y=g.isFunction(v);if(y||p>1&&"string"==typeof v&&!f.checkClone&&ke.test(v))return e.each((function(o){var r=e.eq(o);y&&(t[0]=v.call(this,o,r.html())),$e(r,t,n,i)}));if(p&&(r=(o=he(t,e[0].ownerDocument,!1,e,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(l=(a=g.map(le(o,"script"),Ee)).length;d<p;d++)c=o,d!==h&&(c=g.clone(c,!0,!0),l&&g.merge(a,le(c,"script"))),n.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,g.map(a,Oe),d=0;d<l;d++)c=a[d],se.test(c.type||"")&&!q.access(c,"globalEval")&&g.contains(u,c)&&(c.src?g._evalUrl&&g._evalUrl(c.src):m(c.textContent.replace(Se,""),u))}return e}function Fe(e,t,n){for(var i,o=t?g.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||g.cleanData(le(i)),i.parentNode&&(n&&g.contains(i.ownerDocument,i)&&ce(le(i,"script")),i.parentNode.removeChild(i));return e}g.extend({htmlPrefilter:function(e){return e.replace(Ce,"<$1></$2>")},clone:function(e,t,n){var i,o,r,s,a,l,c,u=e.cloneNode(!0),d=g.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(s=le(u),i=0,o=(r=le(e)).length;i<o;i++)a=r[i],l=s[i],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&oe.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(r=r||le(e),s=s||le(u),i=0,o=r.length;i<o;i++)Me(r[i],s[i]);else Me(e,u);return(s=le(u,"script")).length>0&&ce(s,!d&&le(e,"script")),u},cleanData:function(e){for(var t,n,i,o=g.event.special,r=0;void 0!==(n=e[r]);r++)if(H(n)){if(t=n[q.expando]){if(t.events)for(i in t.events)o[i]?g.event.remove(n,i):g.removeEvent(n,i,t.handle);n[q.expando]=void 0}n[U.expando]&&(n[U.expando]=void 0)}}}),g.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return z(this,(function(e){return void 0===e?g.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return $e(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)}))},prepend:function(){return $e(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ae(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return $e(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return $e(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(le(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return g.clone(this,e,t)}))},html:function(e){return z(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!xe.test(e)&&!ae[(re.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(g.cleanData(le(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return $e(this,arguments,(function(t){var n=this.parentNode;g.inArray(this,e)<0&&(g.cleanData(le(this)),n&&n.replaceChild(t,this))}),e)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){g.fn[e]=function(e){for(var n,i=[],o=g(e),r=o.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),g(o[s])[t](n),a.apply(i,n.get());return this.pushStack(i)}}));var Pe=/^margin/,je=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Ie=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};function Ne(e,t,n){var i,o,r,s,a=e.style;return(n=n||Ie(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||g.contains(e.ownerDocument,e)||(s=g.style(e,t)),!f.pixelMarginRight()&&je.test(s)&&Pe.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function Le(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",fe.appendChild(a);var t=e.getComputedStyle(l);n="1%"!==t.top,s="2px"===t.marginLeft,o="4px"===t.width,l.style.marginRight="50%",r="4px"===t.marginRight,fe.removeChild(a),l=null}}var n,o,r,s,a=i.createElement("div"),l=i.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===l.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(l),g.extend(f,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),o},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),s}}))}();var Re=/^(none|table(?!-c[ea]).+)/,We={position:"absolute",visibility:"hidden",display:"block"},De={letterSpacing:"0",fontWeight:"400"},ze=["Webkit","Moz","ms"],He=i.createElement("div").style;function Be(e){if(e in He)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in He)return e}function qe(e,t,n){var i=K.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ue(e,t,n,i,o){var r,s=0;for(r=n===(i?"border":"content")?4:"width"===t?1:0;r<4;r+=2)"margin"===n&&(s+=g.css(e,n+Y[r],!0,o)),i?("content"===n&&(s-=g.css(e,"padding"+Y[r],!0,o)),"margin"!==n&&(s-=g.css(e,"border"+Y[r]+"Width",!0,o))):(s+=g.css(e,"padding"+Y[r],!0,o),"padding"!==n&&(s+=g.css(e,"border"+Y[r]+"Width",!0,o)));return s}function Ve(e,t,n){var i,o=!0,r=Ie(e),s="border-box"===g.css(e,"boxSizing",!1,r);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),i<=0||null==i){if(((i=Ne(e,t,r))<0||null==i)&&(i=e.style[t]),je.test(i))return i;o=s&&(f.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ue(e,t,n||(s?"border":"content"),o,r)+"px"}function Ge(e,t,n,i,o){return new Ge.prototype.init(e,t,n,i,o)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ne(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=g.camelCase(t),l=e.style;if(t=g.cssProps[a]||(g.cssProps[a]=Be(a)||a),s=g.cssHooks[t]||g.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:l[t];"string"===(r=typeof n)&&(o=K.exec(n))&&o[1]&&(n=ee(e,t,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(g.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var o,r,s,a=g.camelCase(t);return t=g.cssProps[a]||(g.cssProps[a]=Be(a)||a),(s=g.cssHooks[t]||g.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=Ne(e,t,i)),"normal"===o&&t in De&&(o=De[t]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),g.each(["height","width"],(function(e,t){g.cssHooks[t]={get:function(e,n,i){if(n)return!Re.test(g.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ve(e,t,i):J(e,We,(function(){return Ve(e,t,i)}))},set:function(e,n,i){var o,r=i&&Ie(e),s=i&&Ue(e,t,i,"border-box"===g.css(e,"boxSizing",!1,r),r);return s&&(o=K.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=g.css(e,t)),qe(0,n,s)}}})),g.cssHooks.marginLeft=Le(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ne(e,"marginLeft"))||e.getBoundingClientRect().left-J(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),g.each({margin:"",padding:"",border:"Width"},(function(e,t){g.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+Y[i]+t]=r[i]||r[i-2]||r[0];return o}},Pe.test(e)||(g.cssHooks[e+t].set=qe)})),g.fn.extend({css:function(e,t){return z(this,(function(e,t,n){var i,o,r={},s=0;if(g.isArray(t)){for(i=Ie(e),o=t.length;s<o;s++)r[t[s]]=g.css(e,t[s],!1,i);return r}return void 0!==n?g.style(e,t,n):g.css(e,t)}),e,t,arguments.length>1)}}),g.Tween=Ge,Ge.prototype={constructor:Ge,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||g.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(g.cssNumber[n]?"":"px")},cur:function(){var e=Ge.propHooks[this.prop];return e&&e.get?e.get(this):Ge.propHooks._default.get(this)},run:function(e){var t,n=Ge.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ge.propHooks._default.set(this),this}},Ge.prototype.init.prototype=Ge.prototype,Ge.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[g.cssProps[e.prop]]&&!g.cssHooks[e.prop]?e.elem[e.prop]=e.now:g.style(e.elem,e.prop,e.now+e.unit)}}},Ge.propHooks.scrollTop=Ge.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},g.fx=Ge.prototype.init,g.fx.step={};var Qe,Ze,Ke=/^(?:toggle|show|hide)$/,Ye=/queueHooks$/;function Xe(){Ze&&(e.requestAnimationFrame(Xe),g.fx.tick())}function Je(){return e.setTimeout((function(){Qe=void 0})),Qe=g.now()}function et(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=Y[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function tt(e,t,n){for(var i,o=(nt.tweeners[t]||[]).concat(nt.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function nt(e,t,n){var i,o,r=0,s=nt.prefilters.length,a=g.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=Qe||Je(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(i);return a.notifyWith(e,[c,i,n]),i<1&&s?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},n),originalProperties:t,originalOptions:n,startTime:Qe||Je(),duration:n.duration,tweens:[],createTween:function(t,n){var i=g.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,o,r,s;for(n in e)if(o=t[i=g.camelCase(n)],r=e[n],g.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(s=g.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(u,c.opts.specialEasing);r<s;r++)if(i=nt.prefilters[r].call(c,e,u,c.opts))return g.isFunction(i.stop)&&(g._queueHooks(c.elem,c.opts.queue).stop=g.proxy(i.stop,i)),i;return g.map(u,tt,c),g.isFunction(c.opts.start)&&c.opts.start.call(e,c),g.fx.timer(g.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}g.Animation=g.extend(nt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ee(n.elem,e,K.exec(t),n),n}]},tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.match(j);for(var n,i=0,o=e.length;i<o;i++)n=e[i],nt.tweeners[n]=nt.tweeners[n]||[],nt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,s,a,l,c,u,d="width"in t||"height"in t,p=this,h={},f=e.style,m=e.nodeType&&X(e),v=q.get(e,"fxshow");for(i in n.queue||(null==(s=g._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,g.queue(e,"fx").length||s.empty.fire()}))}))),t)if(o=t[i],Ke.test(o)){if(delete t[i],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!v||void 0===v[i])continue;m=!0}h[i]=v&&v[i]||g.style(e,i)}if((l=!g.isEmptyObject(t))||!g.isEmptyObject(h))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=v&&v.display)&&(c=q.get(e,"display")),"none"===(u=g.css(e,"display"))&&(c?u=c:(ie([e],!0),c=e.style.display||c,u=g.css(e,"display"),ie([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===g.css(e,"float")&&(l||(p.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,h)l||(v?"hidden"in v&&(m=v.hidden):v=q.access(e,"fxshow",{display:c}),r&&(v.hidden=!m),m&&ie([e],!0),p.done((function(){for(i in m||ie([e]),q.remove(e,"fxshow"),h)g.style(e,i,h[i])}))),l=tt(m?v[i]:0,i,p),i in v||(v[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?nt.prefilters.unshift(e):nt.prefilters.push(e)}}),g.speed=function(e,t,n){var o=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return g.fx.off||i.hidden?o.duration=0:"number"!=typeof o.duration&&(o.duration in g.fx.speeds?o.duration=g.fx.speeds[o.duration]:o.duration=g.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){g.isFunction(o.old)&&o.old.call(this),o.queue&&g.dequeue(this,o.queue)},o},g.fn.extend({fadeTo:function(e,t,n,i){return this.filter(X).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=g.isEmptyObject(e),r=g.speed(t,n,i),s=function(){var t=nt(this,g.extend({},e),r);(o||q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",r=g.timers,s=q.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&Ye.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||g.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=q.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=g.timers,s=i?i.length:0;for(n.finish=!0,g.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),g.each(["toggle","show","hide"],(function(e,t){var n=g.fn[t];g.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(et(t,!0),e,i,o)}})),g.each({slideDown:et("show"),slideUp:et("hide"),slideToggle:et("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){g.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),g.timers=[],g.fx.tick=function(){var e,t=0,n=g.timers;for(Qe=g.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||g.fx.stop(),Qe=void 0},g.fx.timer=function(e){g.timers.push(e),e()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){Ze||(Ze=e.requestAnimationFrame?e.requestAnimationFrame(Xe):e.setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(Ze):e.clearInterval(Ze),Ze=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(t,n){return t=g.fx&&g.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}}))},function(){var e=i.createElement("input"),t=i.createElement("select").appendChild(i.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=t.selected,(e=i.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var it,ot=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return z(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){g.removeAttr(this,e)}))}}),g.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?g.prop(e,t,n):(1===r&&g.isXMLDoc(e)||(o=g.attrHooks[t.toLowerCase()]||(g.expr.match.bool.test(t)?it:void 0)),void 0!==n?null===n?void g.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=g.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&g.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(j);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),it={set:function(e,t,n){return!1===t?g.removeAttr(e,n):e.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ot[t]||g.find.attr;ot[t]=function(e,t,i){var o,r,s=t.toLowerCase();return i||(r=ot[s],ot[s]=o,o=null!=n(e,t,i)?s:null,ot[s]=r),o}}));var rt=/^(?:input|select|textarea|button)$/i,st=/^(?:a|area)$/i;function at(e){return(e.match(j)||[]).join(" ")}function lt(e){return e.getAttribute&&e.getAttribute("class")||""}g.fn.extend({prop:function(e,t){return z(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[g.propFix[e]||e]}))}}),g.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&g.isXMLDoc(e)||(t=g.propFix[t]||t,o=g.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");return t?parseInt(t,10):rt.test(e.nodeName)||st.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){g.propFix[this.toLowerCase()]=this})),g.fn.extend({addClass:function(e){var t,n,i,o,r,s,a,l=0;if(g.isFunction(e))return this.each((function(t){g(this).addClass(e.call(this,t,lt(this)))}));if("string"==typeof e&&e)for(t=e.match(j)||[];n=this[l++];)if(o=lt(n),i=1===n.nodeType&&" "+at(o)+" "){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(a=at(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,o,r,s,a,l=0;if(g.isFunction(e))return this.each((function(t){g(this).removeClass(e.call(this,t,lt(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(j)||[];n=this[l++];)if(o=lt(n),i=1===n.nodeType&&" "+at(o)+" "){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(a=at(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each((function(n){g(this).toggleClass(e.call(this,n,lt(this),t),t)})):this.each((function(){var t,i,o,r;if("string"===n)for(i=0,o=g(this),r=e.match(j)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=lt(this))&&q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":q.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+at(lt(n))+" ").indexOf(t)>-1)return!0;return!1}});var ct=/\r/g;g.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=g.isFunction(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,g(this).val()):e)?o="":"number"==typeof o?o+="":g.isArray(o)&&(o=g.map(o,(function(e){return null==e?"":e+""}))),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=g.valHooks[o.type]||g.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(ct,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:at(g.text(e))}},select:{get:function(e){var t,n,i,o=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:o.length;for(i=r<0?l:s?r:0;i<l;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(t=g(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=g.makeArray(t),s=o.length;s--;)((i=o[s]).selected=g.inArray(g.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),g.each(["radio","checkbox"],(function(){g.valHooks[this]={set:function(e,t){if(g.isArray(t))return e.checked=g.inArray(g(e).val(),t)>-1}},f.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var ut=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(t,n,o,r){var s,a,l,c,u,p,h,f=[o||i],m=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[];if(a=l=o=o||i,3!==o.nodeType&&8!==o.nodeType&&!ut.test(m+g.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),u=m.indexOf(":")<0&&"on"+m,(t=t[g.expando]?t:new g.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:g.makeArray(n,[t]),h=g.event.special[m]||{},r||!h.trigger||!1!==h.trigger.apply(o,n))){if(!r&&!h.noBubble&&!g.isWindow(o)){for(c=h.delegateType||m,ut.test(c+m)||(a=a.parentNode);a;a=a.parentNode)f.push(a),l=a;l===(o.ownerDocument||i)&&f.push(l.defaultView||l.parentWindow||e)}for(s=0;(a=f[s++])&&!t.isPropagationStopped();)t.type=s>1?c:h.bindType||m,(p=(q.get(a,"events")||{})[t.type]&&q.get(a,"handle"))&&p.apply(a,n),(p=u&&a[u])&&p.apply&&H(a)&&(t.result=p.apply(a,n),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),n)||!H(o)||u&&g.isFunction(o[m])&&!g.isWindow(o)&&((l=o[u])&&(o[u]=null),g.event.triggered=m,o[m](),g.event.triggered=void 0,l&&(o[u]=l)),t.result}},simulate:function(e,t,n){var i=g.extend(new g.Event,n,{type:e,isSimulated:!0});g.event.trigger(i,null,t)}}),g.fn.extend({trigger:function(e,t){return this.each((function(){g.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),f.focusin="onfocusin"in e,f.focusin||g.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=q.access(i,t);o||i.addEventListener(e,n,!0),q.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=q.access(i,t)-1;o?q.access(i,t,o):(i.removeEventListener(e,n,!0),q.remove(i,t))}}}));var dt=e.location,pt=g.now(),ht=/\?/;g.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+t),n};var ft=/\[\]$/,mt=/\r?\n/g,gt=/^(?:submit|button|image|reset|file)$/i,vt=/^(?:input|select|textarea|keygen)/i;function yt(e,t,n,i){var o;if(g.isArray(t))g.each(t,(function(t,o){n||ft.test(e)?i(e,o):yt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)}));else if(n||"object"!==g.type(t))i(e,t);else for(o in t)yt(e+"["+o+"]",t[o],n,i)}g.param=function(e,t){var n,i=[],o=function(e,t){var n=g.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(g.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,(function(){o(this.name,this.value)}));else for(n in e)yt(n,e[n],t,o);return i.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&vt.test(this.nodeName)&&!gt.test(e)&&(this.checked||!oe.test(e))})).map((function(e,t){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,(function(e){return{name:t.name,value:e.replace(mt,"\r\n")}})):{name:t.name,value:n.replace(mt,"\r\n")}})).get()}});var _t=/%20/g,bt=/#.*$/,wt=/([?&])_=[^&]*/,Ct=/^(.*?):[ \t]*([^\r\n]*)$/gm,xt=/^(?:GET|HEAD)$/,kt=/^\/\//,Tt={},St={},At="*/".concat("*"),Et=i.createElement("a");function Ot(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(j)||[];if(g.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Mt(e,t,n,i){var o={},r=e===St;function s(a){var l;return o[a]=!0,g.each(e[a]||[],(function(e,a){var c=a(t,n,i);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!o["*"]&&s("*")}function $t(e,t){var n,i,o=g.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&g.extend(!0,e,i),e}Et.href=dt.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,g.ajaxSettings),t):$t(g.ajaxSettings,e)},ajaxPrefilter:Ot(Tt),ajaxTransport:Ot(St),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,r,s,a,l,c,u,d,p,h,f=g.ajaxSetup({},n),m=f.context||f,v=f.context&&(m.nodeType||m.jquery)?g(m):g.event,y=g.Deferred(),_=g.Callbacks("once memory"),b=f.statusCode||{},w={},C={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Ct.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){return null==u&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return o&&o.abort(t),T(0,t),this}};if(y.promise(k),f.url=((t||f.url||dt.href)+"").replace(kt,dt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(j)||[""],null==f.crossDomain){c=i.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Et.protocol+"//"+Et.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=g.param(f.data,f.traditional)),Mt(Tt,f,n,k),u)return k;for(p in(d=g.event&&f.global)&&0==g.active++&&g.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!xt.test(f.type),r=f.url.replace(bt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(_t,"+")):(h=f.url.slice(r.length),f.data&&(r+=(ht.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(wt,"$1"),h=(ht.test(r)?"&":"?")+"_="+pt+++h),f.url=r+h),f.ifModified&&(g.lastModified[r]&&k.setRequestHeader("If-Modified-Since",g.lastModified[r]),g.etag[r]&&k.setRequestHeader("If-None-Match",g.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+At+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(m,k,f)||u))return k.abort();if(x="abort",_.add(f.complete),k.done(f.success),k.fail(f.error),o=Mt(St,f,n,k)){if(k.readyState=1,d&&v.trigger("ajaxSend",[k,f]),u)return k;f.async&&f.timeout>0&&(l=e.setTimeout((function(){k.abort("timeout")}),f.timeout));try{u=!1,o.send(w,T)}catch(e){if(u)throw e;T(-1,e)}}else T(-1,"No Transport");function T(t,n,i,a){var c,p,h,w,C,x=n;u||(u=!0,l&&e.clearTimeout(l),o=void 0,s=a||"",k.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(w=function(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,k,i)),w=function(e,t,n,i){var o,r,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(o in c)if((a=o.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(r=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(f,w,k,c),c?(f.ifModified&&((C=k.getResponseHeader("Last-Modified"))&&(g.lastModified[r]=C),(C=k.getResponseHeader("etag"))&&(g.etag[r]=C)),204===t||"HEAD"===f.type?x="nocontent":304===t?x="notmodified":(x=w.state,p=w.data,c=!(h=w.error))):(h=x,!t&&x||(x="error",t<0&&(t=0))),k.status=t,k.statusText=(n||x)+"",c?y.resolveWith(m,[p,x,k]):y.rejectWith(m,[k,x,h]),k.statusCode(b),b=void 0,d&&v.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?p:h]),_.fireWith(m,[k,x]),d&&(v.trigger("ajaxComplete",[k,f]),--g.active||g.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],(function(e,t){g[t]=function(e,n,i,o){return g.isFunction(n)&&(o=o||i,i=n,n=void 0),g.ajax(g.extend({url:e,type:t,dataType:o,data:n,success:i},g.isPlainObject(e)&&e))}})),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){var t;return this[0]&&(g.isFunction(e)&&(e=e.call(this[0])),t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g.isFunction(e)?this.each((function(t){g(this).wrapInner(e.call(this,t))})):this.each((function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g.isFunction(e);return this.each((function(n){g(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){g(this).replaceWith(this.childNodes)})),this}}),g.expr.pseudos.hidden=function(e){return!g.expr.pseudos.visible(e)},g.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},Pt=g.ajaxSettings.xhr();f.cors=!!Pt&&"withCredentials"in Pt,f.ajax=Pt=!!Pt,g.ajaxTransport((function(t){var n,i;if(f.cors||Pt&&!t.crossDomain)return{send:function(o,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Ft[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),g.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),g.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(o,r){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){n&&n()}}}));var jt,It=[],Nt=/(=)\?(?=&|$)|\?\?/;function Lt(e){return g.isWindow(e)?e:9===e.nodeType&&e.defaultView}g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=It.pop()||g.expando+"_"+pt++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",(function(t,n,i){var o,r,s,a=!1!==t.jsonp&&(Nt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=g.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Nt,"$1"+o):!1!==t.jsonp&&(t.url+=(ht.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||g.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){s=arguments},i.always((function(){void 0===r?g(e).removeProp(o):e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,It.push(o)),s&&g.isFunction(r)&&r(s[0]),s=r=void 0})),"script"})),f.createHTMLDocument=((jt=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===jt.childNodes.length),g.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((o=(t=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,t.head.appendChild(o)):t=i),s=!n&&[],(r=S.exec(e))?[t.createElement(r[1])]:(r=he([e],t,s),s&&s.length&&g(s).remove(),g.merge([],r.childNodes)));var o,r,s},g.fn.load=function(e,t,n){var i,o,r,s=this,a=e.indexOf(" ");return a>-1&&(i=at(e.slice(a)),e=e.slice(0,a)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&g.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){r=arguments,s.html(i?g("<div>").append(g.parseHTML(e)).find(i):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,r||[e.responseText,t,e])}))}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){g.fn[t]=function(e){return this.on(t,e)}})),g.expr.pseudos.animated=function(e){return g.grep(g.timers,(function(t){return e===t.elem})).length},g.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,c=g.css(e,"position"),u=g(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),r=g.css(e,"top"),l=g.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(s=(i=u.position()).top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),g.isFunction(t)&&(t=t.call(e,n,g.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):u.css(d)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){g.offset.setOffset(this,e,t)}));var t,n,i,o,r=this[0];return r?r.getClientRects().length?(i=r.getBoundingClientRect()).width||i.height?(n=Lt(o=r.ownerDocument),t=o.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===g.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),g.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+g.css(e[0],"borderTopWidth",!0),left:i.left+g.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-g.css(n,"marginTop",!0),left:t.left-i.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===g.css(e,"position");)e=e.offsetParent;return e||fe}))}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;g.fn[e]=function(i){return z(this,(function(e,i,o){var r=Lt(e);if(void 0===o)return r?r[t]:e[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o}),e,i,arguments.length)}})),g.each(["top","left"],(function(e,t){g.cssHooks[t]=Le(f.pixelPosition,(function(e,n){if(n)return n=Ne(e,t),je.test(n)?g(e).position()[t]+"px":n}))})),g.each({Height:"height",Width:"width"},(function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){g.fn[i]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===r?"margin":"border");return z(this,(function(t,n,o){var r;return g.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?g.css(t,n,a):g.style(t,n,o,a)}),t,s?o:void 0,s)}}))})),g.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),g.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return g}));var Rt=e.jQuery,Wt=e.$;return g.noConflict=function(t){return e.$===g&&(e.$=Wt),t&&e.jQuery===g&&(e.jQuery=Rt),g},t||(e.jQuery=e.$=g),g})),
/*!
 * jQuery Migrate - v3.0.0 - 2016-06-09
 * Copyright jQuery Foundation and other contributors
 */
function(e,t){"use strict";var n;e.migrateVersion="3.0.0",(n=t.console&&t.console.log&&function(){t.console.log.apply(t.console,arguments)})&&(e&&!/^[12]\./.test(e.fn.jquery)||n("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),e.migrateWarnings&&n("JQMIGRATE: Migrate plugin loaded multiple times"),n("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion));var i={};function o(n){var o=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),o&&o.warn&&!e.migrateMute&&(o.warn("JQMIGRATE: "+n),e.migrateTrace&&o.trace&&o.trace()))}function r(e,t,n,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o(i),n}})}e.migrateWarnings=[],void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&o("jQuery is not compatible with Quirks Mode");var s,a=e.fn.init,l=e.isNumeric,c=e.find,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,d=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;for(s in e.fn.init=function(e){var t=Array.prototype.slice.call(arguments);return"string"==typeof e&&"#"===e&&(o("jQuery( '#' ) is not a valid selector"),t[0]=[]),a.apply(this,t)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&u.test(e))try{document.querySelector(e)}catch(n){e=e.replace(d,(function(e,t,n,i){return"["+t+n+'"'+i+'"]'}));try{document.querySelector(e),o("Attribute selector with '#' must be quoted: "+t[0]),t[0]=e}catch(e){o("Attribute selector with '#' was not fixed: "+t[0])}}return c.apply(this,t)},c)Object.prototype.hasOwnProperty.call(c,s)&&(e.find[s]=c[s]);e.fn.size=function(){return o("jQuery.fn.size() is deprecated; use the .length property"),this.length},e.parseJSON=function(){return o("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},e.isNumeric=function(t){var n,i,r=l(t),s=(i=(n=t)&&n.toString(),!e.isArray(n)&&i-parseFloat(i)+1>=0);return r!==s&&o("jQuery.isNumeric() should not be called on constructed objects"),s},r(e,"unique",e.uniqueSort,"jQuery.unique is deprecated, use jQuery.uniqueSort"),r(e.expr,"filters",e.expr.pseudos,"jQuery.expr.filters is now jQuery.expr.pseudos"),r(e.expr,":",e.expr.pseudos,'jQuery.expr[":"] is now jQuery.expr.pseudos');var p=e.ajax;e.ajax=function(){var e=p.apply(this,arguments);return e.promise&&(r(e,"success",e.done,"jQXHR.success is deprecated and removed"),r(e,"error",e.fail,"jQXHR.error is deprecated and removed"),r(e,"complete",e.always,"jQXHR.complete is deprecated and removed")),e};var h=e.fn.removeAttr,f=e.fn.toggleClass,m=/\S+/g;e.fn.removeAttr=function(t){var n=this;return e.each(t.match(m),(function(t,i){e.expr.match.bool.test(i)&&(o("jQuery.fn.removeAttr no longer sets boolean properties: "+i),n.prop(i,!1))})),h.apply(this,arguments)},e.fn.toggleClass=function(t){return void 0!==t&&"boolean"!=typeof t?f.apply(this,arguments):(o("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each((function(){var n=this.getAttribute&&this.getAttribute("class")||"";n&&e.data(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===t?"":e.data(this,"__className__")||"")})))};var g=!1;e.swap&&e.each(["height","width","reliableMarginRight"],(function(t,n){var i=e.cssHooks[n]&&e.cssHooks[n].get;i&&(e.cssHooks[n].get=function(){var e;return g=!0,e=i.apply(this,arguments),g=!1,e})})),e.swap=function(e,t,n,i){var r,s,a={};for(s in g||o("jQuery.swap() is undocumented and deprecated"),t)a[s]=e.style[s],e.style[s]=t[s];for(s in r=n.apply(e,i||[]),t)e.style[s]=a[s];return r};var v=e.data;e.data=function(t,n,i){var r;return n&&n!==e.camelCase(n)&&(r=e.hasData(t)&&v.call(this,t))&&n in r?(o("jQuery.data() always sets/gets camelCased names: "+n),arguments.length>2&&(r[n]=i),r[n]):v.apply(this,arguments)};var y=e.Tween.prototype.run;e.Tween.prototype.run=function(t){e.easing[this.easing].length>1&&(o('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument'),e.easing[this.easing]=e.easing[this.easing].bind(e.easing,t,this.options.duration*t,0,1,this.options.duration)),y.apply(this,arguments)};var _=e.fn.load,b=e.event.fix;e.event.props=[],e.event.fixHooks={},e.event.fix=function(t){var n,i=t.type,r=this.fixHooks[i],s=e.event.props;if(s.length)for(o("jQuery.event.props are deprecated and removed: "+s.join());s.length;)e.event.addProp(s.pop());if(r&&!r._migrated_&&(r._migrated_=!0,o("jQuery.event.fixHooks are deprecated and removed: "+i),(s=r.props)&&s.length))for(;s.length;)e.event.addProp(s.pop());return n=b.call(this,t),r&&r.filter?r.filter(n,t):n},e.each(["load","unload","error"],(function(t,n){e.fn[n]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===n&&"string"==typeof e[0]?_.apply(this,e):(o("jQuery.fn."+n+"() is deprecated"),e.splice(0,0,n),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}})),e((function(){e(document).triggerHandler("ready")})),e.event.special.ready={setup:function(){this===document&&o("'ready' event is deprecated")}},e.fn.extend({bind:function(e,t,n){return o("jQuery.fn.bind() is deprecated"),this.on(e,null,t,n)},unbind:function(e,t){return o("jQuery.fn.unbind() is deprecated"),this.off(e,null,t)},delegate:function(e,t,n,i){return o("jQuery.fn.delegate() is deprecated"),this.on(t,e,n,i)},undelegate:function(e,t,n){return o("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var w=e.fn.offset;e.fn.offset=function(){var t,n=this[0],i={top:0,left:0};return n&&n.nodeType?(t=(n.ownerDocument||document).documentElement,e.contains(t,n)?w.apply(this,arguments):(o("jQuery.fn.offset() requires an element connected to a document"),i)):(o("jQuery.fn.offset() requires a valid DOM element"),i)};var C=e.param;e.param=function(t,n){var i=e.ajaxSettings&&e.ajaxSettings.traditional;return void 0===n&&i&&(o("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),n=i),C.call(this,t,n)};var x=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return o("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),x.apply(this,arguments)};var k=e.Deferred,T=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var n=k(),i=n.promise();return n.pipe=i.pipe=function(){var t=arguments;return o("deferred.pipe() is deprecated"),e.Deferred((function(o){e.each(T,(function(r,s){var a=e.isFunction(t[r])&&t[r];n[s[1]]((function(){var t=a&&a.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(o.resolve).fail(o.reject).progress(o.notify):o[s[0]+"With"](this===i?o.promise():this,a?[t]:arguments)}))})),t=null})).promise()},t&&t.call(n,n),n}}(jQuery,window),function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},t=e._,n=Array.prototype,i=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,r=n.push,s=n.slice,a=i.toString,l=i.hasOwnProperty,c=Array.isArray,u=Object.keys,d=Object.create,p=function(){},h=function(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)};"undefined"==typeof exports||exports.nodeType?e._=h:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=h),exports._=h),h.VERSION="1.9.2";var f,m=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)}}return function(){return e.apply(t,arguments)}},g=function(e,t,n){return h.iteratee!==f?h.iteratee(e,t):null==e?h.identity:h.isFunction(e)?m(e,t,n):h.isObject(e)&&!h.isArray(e)?h.matcher(e):h.property(e)};h.iteratee=f=function(e,t){return g(e,t,1/0)};var v=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),o=0;o<n;o++)i[o]=arguments[o+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var r=Array(t+1);for(o=0;o<t;o++)r[o]=arguments[o];return r[t]=i,e.apply(this,r)}},y=function(e){if(!h.isObject(e))return{};if(d)return d(e);p.prototype=e;var t=new p;return p.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},b=function(e,t){return null!=e&&l.call(e,t)},w=function(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0},C=Math.pow(2,53)-1,x=_("length"),k=function(e){var t=x(e);return"number"==typeof t&&0<=t&&t<=C};h.each=h.forEach=function(e,t,n){var i,o;if(t=m(t,n),k(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else{var r=h.keys(e);for(i=0,o=r.length;i<o;i++)t(e[r[i]],r[i],e)}return e},h.map=h.collect=function(e,t,n){t=g(t,n);for(var i=!k(e)&&h.keys(e),o=(i||e).length,r=Array(o),s=0;s<o;s++){var a=i?i[s]:s;r[s]=t(e[a],a,e)}return r};var T=function(e){return function(t,n,i,o){var r=3<=arguments.length;return function(t,n,i,o){var r=!k(t)&&h.keys(t),s=(r||t).length,a=0<e?0:s-1;for(o||(i=t[r?r[a]:a],a+=e);0<=a&&a<s;a+=e){var l=r?r[a]:a;i=n(i,t[l],l,t)}return i}(t,m(n,o,4),i,r)}};h.reduce=h.foldl=h.inject=T(1),h.reduceRight=h.foldr=T(-1),h.find=h.detect=function(e,t,n){var i=(k(e)?h.findIndex:h.findKey)(e,t,n);if(void 0!==i&&-1!==i)return e[i]},h.filter=h.select=function(e,t,n){var i=[];return t=g(t,n),h.each(e,(function(e,n,o){t(e,n,o)&&i.push(e)})),i},h.reject=function(e,t,n){return h.filter(e,h.negate(g(t)),n)},h.every=h.all=function(e,t,n){t=g(t,n);for(var i=!k(e)&&h.keys(e),o=(i||e).length,r=0;r<o;r++){var s=i?i[r]:r;if(!t(e[s],s,e))return!1}return!0},h.some=h.any=function(e,t,n){t=g(t,n);for(var i=!k(e)&&h.keys(e),o=(i||e).length,r=0;r<o;r++){var s=i?i[r]:r;if(t(e[s],s,e))return!0}return!1},h.contains=h.includes=h.include=function(e,t,n,i){return k(e)||(e=h.values(e)),("number"!=typeof n||i)&&(n=0),0<=h.indexOf(e,t,n)},h.invoke=v((function(e,t,n){var i,o;return h.isFunction(t)?o=t:h.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),h.map(e,(function(e){var r=o;if(!r){if(i&&i.length&&(e=w(e,i)),null==e)return;r=e[t]}return null==r?r:r.apply(e,n)}))})),h.pluck=function(e,t){return h.map(e,h.property(t))},h.where=function(e,t){return h.filter(e,h.matcher(t))},h.findWhere=function(e,t){return h.find(e,h.matcher(t))},h.max=function(e,t,n){var i,o,r=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=k(e)?e:h.values(e)).length;a<l;a++)null!=(i=e[a])&&r<i&&(r=i);else t=g(t,n),h.each(e,(function(e,n,i){o=t(e,n,i),(s<o||o===-1/0&&r===-1/0)&&(r=e,s=o)}));return r},h.min=function(e,t,n){var i,o,r=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=k(e)?e:h.values(e)).length;a<l;a++)null!=(i=e[a])&&i<r&&(r=i);else t=g(t,n),h.each(e,(function(e,n,i){((o=t(e,n,i))<s||o===1/0&&r===1/0)&&(r=e,s=o)}));return r},h.shuffle=function(e){return h.sample(e,1/0)},h.sample=function(e,t,n){if(null==t||n)return k(e)||(e=h.values(e)),e[h.random(e.length-1)];var i=k(e)?h.clone(e):h.values(e),o=x(i);t=Math.max(Math.min(t,o),0);for(var r=o-1,s=0;s<t;s++){var a=h.random(s,r),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,t)},h.sortBy=function(e,t,n){var i=0;return t=g(t,n),h.pluck(h.map(e,(function(e,n,o){return{value:e,index:i++,criteria:t(e,n,o)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")};var S=function(e,t){return function(n,i,o){var r=t?[[],[]]:{};return i=g(i,o),h.each(n,(function(t,o){var s=i(t,o,n);e(r,t,s)})),r}};h.groupBy=S((function(e,t,n){b(e,n)?e[n].push(t):e[n]=[t]})),h.indexBy=S((function(e,t,n){e[n]=t})),h.countBy=S((function(e,t,n){b(e,n)?e[n]++:e[n]=1}));var A=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(e){return e?h.isArray(e)?s.call(e):h.isString(e)?e.match(A):k(e)?h.map(e,h.identity):h.values(e):[]},h.size=function(e){return null==e?0:k(e)?e.length:h.keys(e).length},h.partition=S((function(e,t,n){e[n?0:1].push(t)}),!0),h.first=h.head=h.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:h.initial(e,e.length-t)},h.initial=function(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},h.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:h.rest(e,Math.max(0,e.length-t))},h.rest=h.tail=h.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},h.compact=function(e){return h.filter(e,Boolean)};var E=function(e,t,n,i){for(var o=(i=i||[]).length,r=0,s=x(e);r<s;r++){var a=e[r];if(k(a)&&(h.isArray(a)||h.isArguments(a)))if(t)for(var l=0,c=a.length;l<c;)i[o++]=a[l++];else E(a,t,n,i),o=i.length;else n||(i[o++]=a)}return i};h.flatten=function(e,t){return E(e,t,!1)},h.without=v((function(e,t){return h.difference(e,t)})),h.uniq=h.unique=function(e,t,n,i){h.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=g(n,i));for(var o=[],r=[],s=0,a=x(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&r===c||o.push(l),r=c):n?h.contains(r,c)||(r.push(c),o.push(l)):h.contains(o,l)||o.push(l)}return o},h.union=v((function(e){return h.uniq(E(e,!0,!0))})),h.intersection=function(e){for(var t=[],n=arguments.length,i=0,o=x(e);i<o;i++){var r=e[i];if(!h.contains(t,r)){var s;for(s=1;s<n&&h.contains(arguments[s],r);s++);s===n&&t.push(r)}}return t},h.difference=v((function(e,t){return t=E(t,!0,!0),h.filter(e,(function(e){return!h.contains(t,e)}))})),h.unzip=function(e){for(var t=e&&h.max(e,x).length||0,n=Array(t),i=0;i<t;i++)n[i]=h.pluck(e,i);return n},h.zip=v(h.unzip),h.object=function(e,t){for(var n={},i=0,o=x(e);i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};var O=function(e){return function(t,n,i){n=g(n,i);for(var o=x(t),r=0<e?0:o-1;0<=r&&r<o;r+=e)if(n(t[r],r,t))return r;return-1}};h.findIndex=O(1),h.findLastIndex=O(-1),h.sortedIndex=function(e,t,n,i){for(var o=(n=g(n,i,1))(t),r=0,s=x(e);r<s;){var a=Math.floor((r+s)/2);n(e[a])<o?r=a+1:s=a}return r};var M=function(e,t,n){return function(i,o,r){var a=0,l=x(i);if("number"==typeof r)0<e?a=0<=r?r:Math.max(r+l,a):l=0<=r?Math.min(r+1,l):r+l+1;else if(n&&r&&l)return i[r=n(i,o)]===o?r:-1;if(o!=o)return 0<=(r=t(s.call(i,a,l),h.isNaN))?r+a:-1;for(r=0<e?a:l-1;0<=r&&r<l;r+=e)if(i[r]===o)return r;return-1}};h.indexOf=M(1,h.findIndex,h.sortedIndex),h.lastIndexOf=M(-1,h.findLastIndex),h.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),o=Array(i),r=0;r<i;r++,e+=n)o[r]=e;return o},h.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,o=e.length;i<o;)n.push(s.call(e,i,i+=t));return n};var $=function(e,t,n,i,o){if(!(i instanceof t))return e.apply(n,o);var r=y(e.prototype),s=e.apply(r,o);return h.isObject(s)?s:r};h.bind=v((function(e,t,n){if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");var i=v((function(o){return $(e,i,t,this,n.concat(o))}));return i})),h.partial=v((function(e,t){var n=h.partial.placeholder,i=function(){for(var o=0,r=t.length,s=Array(r),a=0;a<r;a++)s[a]=t[a]===n?arguments[o++]:t[a];for(;o<arguments.length;)s.push(arguments[o++]);return $(e,i,this,this,s)};return i})),(h.partial.placeholder=h).bindAll=v((function(e,t){var n=(t=E(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=h.bind(e[i],e)}})),h.memoize=function(e,t){var n=function(i){var o=n.cache,r=""+(t?t.apply(this,arguments):i);return b(o,r)||(o[r]=e.apply(this,arguments)),o[r]};return n.cache={},n},h.delay=v((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),h.defer=h.partial(h.delay,h,1),h.throttle=function(e,t,n){var i,o,r,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:h.now(),i=null,s=e.apply(o,r),i||(o=r=null)},c=function(){var c=h.now();a||!1!==n.leading||(a=c);var u=t-(c-a);return o=this,r=arguments,u<=0||t<u?(i&&(clearTimeout(i),i=null),a=c,s=e.apply(o,r),i||(o=r=null)):i||!1===n.trailing||(i=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(i),a=0,i=o=r=null},c},h.debounce=function(e,t,n){var i,o,r=function(t,n){i=null,n&&(o=e.apply(t,n))},s=v((function(s){if(i&&clearTimeout(i),n){var a=!i;i=setTimeout(r,t),a&&(o=e.apply(this,s))}else i=h.delay(r,t,this,s);return o}));return s.cancel=function(){clearTimeout(i),i=null},s},h.wrap=function(e,t){return h.partial(t,e)},h.negate=function(e){return function(){return!e.apply(this,arguments)}},h.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},h.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},h.before=function(e,t){var n;return function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},h.once=h.partial(h.before,2),h.restArguments=v;var F=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],j=function(e,t){var n=P.length,o=e.constructor,r=h.isFunction(o)&&o.prototype||i,s="constructor";for(b(e,s)&&!h.contains(t,s)&&t.push(s);n--;)(s=P[n])in e&&e[s]!==r[s]&&!h.contains(t,s)&&t.push(s)};h.keys=function(e){if(!h.isObject(e))return[];if(u)return u(e);var t=[];for(var n in e)b(e,n)&&t.push(n);return F&&j(e,t),t},h.allKeys=function(e){if(!h.isObject(e))return[];var t=[];for(var n in e)t.push(n);return F&&j(e,t),t},h.values=function(e){for(var t=h.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i},h.mapObject=function(e,t,n){t=g(t,n);for(var i=h.keys(e),o=i.length,r={},s=0;s<o;s++){var a=i[s];r[a]=t(e[a],a,e)}return r},h.pairs=function(e){for(var t=h.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},h.invert=function(e){for(var t={},n=h.keys(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t},h.functions=h.methods=function(e){var t=[];for(var n in e)h.isFunction(e[n])&&t.push(n);return t.sort()};var I=function(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],s=e(r),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=r[c])}return n}};h.extend=I(h.allKeys),h.extendOwn=h.assign=I(h.keys),h.findKey=function(e,t,n){t=g(t,n);for(var i,o=h.keys(e),r=0,s=o.length;r<s;r++)if(t(e[i=o[r]],i,e))return i};var N,L,R=function(e,t,n){return t in n};h.pick=v((function(e,t){var n={},i=t[0];if(null==e)return n;h.isFunction(i)?(1<t.length&&(i=m(i,t[1])),t=h.allKeys(e)):(i=R,t=E(t,!1,!1),e=Object(e));for(var o=0,r=t.length;o<r;o++){var s=t[o],a=e[s];i(a,s,e)&&(n[s]=a)}return n})),h.omit=v((function(e,t){var n,i=t[0];return h.isFunction(i)?(i=h.negate(i),1<t.length&&(n=t[1])):(t=h.map(E(t,!1,!1),String),i=function(e,n){return!h.contains(t,n)}),h.pick(e,i,n)})),h.defaults=I(h.allKeys,!0),h.create=function(e,t){var n=y(e);return t&&h.extendOwn(n,t),n},h.clone=function(e){return h.isObject(e)?h.isArray(e)?e.slice():h.extend({},e):e},h.tap=function(e,t){return t(e),e},h.isMatch=function(e,t){var n=h.keys(t),i=n.length;if(null==e)return!i;for(var o=Object(e),r=0;r<i;r++){var s=n[r];if(t[s]!==o[s]||!(s in o))return!1}return!0},N=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&L(e,t,n,i)},L=function(e,t,n,i){e instanceof h&&(e=e._wrapped),t instanceof h&&(t=t._wrapped);var r=a.call(e);if(r!==a.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return o.valueOf.call(e)===o.valueOf.call(t)}var s="[object Array]"===r;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(h.isFunction(l)&&l instanceof l&&h.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!N(e[u],t[u],n,i))return!1}else{var d,p=h.keys(e);if(u=p.length,h.keys(t).length!==u)return!1;for(;u--;)if(d=p[u],!b(t,d)||!N(e[d],t[d],n,i))return!1}return n.pop(),i.pop(),!0},h.isEqual=function(e,t){return N(e,t)},h.isEmpty=function(e){return null==e||(k(e)&&(h.isArray(e)||h.isString(e)||h.isArguments(e))?0===e.length:0===h.keys(e).length)},h.isElement=function(e){return!(!e||1!==e.nodeType)},h.isArray=c||function(e){return"[object Array]"===a.call(e)},h.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){h["is"+e]=function(t){return a.call(t)==="[object "+e+"]"}})),h.isArguments(arguments)||(h.isArguments=function(e){return b(e,"callee")});var W=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof W&&(h.isFunction=function(e){return"function"==typeof e||!1}),h.isFinite=function(e){return!h.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},h.isNaN=function(e){return h.isNumber(e)&&isNaN(e)},h.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===a.call(e)},h.isNull=function(e){return null===e},h.isUndefined=function(e){return void 0===e},h.has=function(e,t){if(!h.isArray(t))return b(e,t);for(var n=t.length,i=0;i<n;i++){var o=t[i];if(null==e||!l.call(e,o))return!1;e=e[o]}return!!n},h.noConflict=function(){return e._=t,this},h.identity=function(e){return e},h.constant=function(e){return function(){return e}},h.noop=function(){},h.property=function(e){return h.isArray(e)?function(t){return w(t,e)}:_(e)},h.propertyOf=function(e){return null==e?function(){}:function(t){return h.isArray(t)?w(e,t):e[t]}},h.matcher=h.matches=function(e){return e=h.extendOwn({},e),function(t){return h.isMatch(t,e)}},h.times=function(e,t,n){var i=Array(Math.max(0,e));t=m(t,n,1);for(var o=0;o<e;o++)i[o]=t(o);return i},h.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},h.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=h.invert(D),H=function(e){var t=function(t){return e[t]},n="(?:"+h.keys(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}};h.escape=H(D),h.unescape=H(z),h.result=function(e,t,n){h.isArray(t)||(t=[t]);var i=t.length;if(!i)return h.isFunction(n)?n.call(e):n;for(var o=0;o<i;o++){var r=null==e?void 0:e[t[o]];void 0===r&&(r=n,o=i),e=h.isFunction(r)?r.call(e):r}return e};var B=0;h.uniqueId=function(e){var t=++B+"";return e?e+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,G=function(e){return"\\"+U[e]};h.template=function(e,t,n){!t&&n&&(t=n),t=h.defaults({},t,h.templateSettings);var i,o=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(o,(function(t,n,i,o,a){return s+=e.slice(r,a).replace(V,G),r=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t})),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(t.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(e){return i.call(this,e,h)},l=t.variable||"obj";return a.source="function("+l+"){\n"+s+"}",a},h.chain=function(e){var t=h(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?h(t).chain():t};h.mixin=function(e){return h.each(h.functions(e),(function(t){var n=h[t]=e[t];h.prototype[t]=function(){var e=[this._wrapped];return r.apply(e,arguments),Q(this,n.apply(h,e))}})),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=n[e];h.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Q(this,n)}})),h.each(["concat","join","slice"],(function(e){var t=n[e];h.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}})),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],(function(){return h}))}(),function(exports,global){var origDefine=global.define,get=function(e){var t,n=e.split("."),i=global;for(t=0;t<n.length&&i;t++)i=i[n[t]];return i},modules=global.define&&global.define.modules||global._define&&global._define.modules||{},ourDefine=global.define=function(e,t,n){var i;"function"==typeof t&&(n=t,t=[]);var o,r=[];for(o=0;o<t.length;o++)r.push(exports[t[o]]?get(exports[t[o]]):modules[t[o]]||get(t[o]));if(!t.length&&n.length){i={exports:{}};r.push((function(e){return exports[e]?get(exports[e]):modules[e]}),i.exports,i)}else r[0]||"exports"!==t[0]?r[0]||"module"!==t[0]||(r[0]={id:e}):(i={exports:{}},r[0]=i.exports,"module"===t[1]&&(r[1]=i));global.define=origDefine;var s=n?n.apply(null,r):void 0;global.define=ourDefine,modules[e]=i&&i.exports?i.exports:s};global.define.orig=origDefine,global.define.modules=modules,global.define.amd=!0,ourDefine("@loader",[],(function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}}))}({},window),define("can/util/can",[],(function(){var e="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global,t={};("undefined"==typeof GLOBALCAN||!1!==GLOBALCAN)&&(e.can=t),t.global=e,t.k=function(){},t.isDeferred=function(e){return t.dev&&t.dev.warn("can.isDeferred: this function is deprecated and will be removed in a future release. can.isPromise replaces the functionality of can.isDeferred."),e&&"function"==typeof e.then&&"function"==typeof e.pipe},t.isPromise=function(e){return!!e&&(window.Promise&&e instanceof Promise||t.isFunction(e.then)&&(void 0===t.List||!(e instanceof t.List)))},t.isMapLike=function(e){return t.Map&&(e instanceof t.Map||e&&e.___get)};var n=0;t.cid=function(e,t){return e._cid||(n++,e._cid=(t||"")+n),e._cid},t.VERSION="2.3.29",t.simpleExtend=function(e,t){for(var n in t)e[n]=t[n];return e},t.last=function(e){return e&&e[e.length-1]},t.isDOM=function(e){return(e.ownerDocument||e)===t.global.document},t.childNodes=function(e){var t=e.childNodes;if("length"in t)return t;for(var n=e.firstChild,i=[];n;)i.push(n),n=n.nextSibling;return i};var i=Function.prototype.bind;t.proxy=i?function(e,t){return i.call(e,t)}:function(e,t){return function(){return e.apply(t,arguments)}},t.frag=function(e,n){var i,o=n||t.document||t.global.document;return e&&"string"!=typeof e?11===e.nodeType?e:"number"==typeof e.nodeType?((i=o.createDocumentFragment()).appendChild(e),i):"number"==typeof e.length?(i=o.createDocumentFragment(),t.each(e,(function(e){i.appendChild(t.frag(e))})),t.childNodes(i).length||i.appendChild(o.createTextNode("")),i):(i=t.buildFragment(""+e,o),t.childNodes(i).length||i.appendChild(o.createTextNode("")),i):((i=t.buildFragment(null==e?"":""+e,o)).childNodes.length||i.appendChild(o.createTextNode("")),i)},t.scope=t.viewModel=function(e,n,i){e=t.$(e);var o=t.data(e,"scope")||t.data(e,"viewModel");switch(o||(o=new t.Map,t.data(e,"scope",o),t.data(e,"viewModel",o)),arguments.length){case 0:case 1:return o;case 2:return o.attr(n);default:return o.attr(n,i),e}};var o=function(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null};return t.joinURIs=function(e,t){return t=o(t||""),e=o(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(e){"/.."===e?t.pop():t.push(e)})),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null},t.import=function(e,n){var i=new t.Deferred;return"object"==typeof window.System&&t.isFunction(window.System.import)?window.System.import(e,{name:n}).then(t.proxy(i.resolve,i),t.proxy(i.reject,i)):window.define&&window.define.amd?window.require([e],(function(e){i.resolve(e)})):window.steal?steal.steal(e,(function(e){i.resolve(e)})):window.require?i.resolve(window.require(e)):i.resolve(),i.promise()},t.__observe=function(){},t.isNode="object"==typeof process&&"[object process]"==={}.toString.call(process),t.isBrowserWindow="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"==typeof SimpleDOM,t.isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,t})),define("can/util/attr/attr",["can/util/can"],(function(e){var t={xlink:"http://www.w3.org/1999/xlink"},n=e.global.setImmediate||function(e){return setTimeout(e,0)},i={input:!0,textarea:!0,select:!0},o=function(t,n){return n in t||e.document&&i[t.nodeName.toLowerCase()]},r={MutationObserver:e.global.MutationObserver||e.global.WebKitMutationObserver||e.global.MozMutationObserver,map:{class:function(e,t){return t=t||"","http://www.w3.org/2000/svg"===e.namespaceURI?e.setAttribute("class",t):e.className=t,t},value:"value",innertext:"innerText",innerhtml:"innerHTML",textcontent:"textContent",for:"htmlFor",checked:!0,disabled:!0,readonly:function(e,t){return e.readOnly=!(!t&&"string"!=typeof t),t},required:!0,src:function(e,t){return null==t||""===t?(e.removeAttribute("src"),null):(e.setAttribute("src",t),t)},style:function(){var t=e.global.document&&document.createElement("div");return t&&t.style&&"cssText"in t.style?function(e,t){return e.style.cssText=t||""}:function(e,t){return e.setAttribute("style",t)}}()},defaultValue:["input","textarea"],setAttrOrProp:function(e,t,n){t=t.toLowerCase(),!0!==r.map[t]||n?this.set(e,t,n):this.remove(e,t)},setSelectValue:function(e,t){if(null!=t)for(var n=e.getElementsByTagName("option"),i=0;i<n.length;i++)if(t==n[i].value)return void(n[i].selected=!0);e.selectedIndex=-1},set:function(t,n,i){var s,a=e.isDOM(t)&&r.MutationObserver;n=n.toLowerCase(),a||(s=r.get(t,n));var l,c=r.map[n];"function"==typeof c?l=c(t,i):!0===c&&o(t,n)?(l=t[n]=!0,"checked"===n&&"radio"===t.type&&e.inArray((t.nodeName+"").toLowerCase(),r.defaultValue)>=0&&(t.defaultChecked=!0)):"string"==typeof c&&o(t,c)?(l=i,(t[c]!==i||"OPTION"===t.nodeName.toUpperCase())&&(t[c]=i),"value"===c&&e.inArray((t.nodeName+"").toLowerCase(),r.defaultValue)>=0&&(t.defaultValue=i)):r.setAttribute(t,n,i),a||l===s||r.trigger(t,n,s)},setAttribute:function(){var n=e.global.document;if(n&&document.createAttribute)try{n.createAttribute("{}")}catch(e){var i={},o=document.createElement("div");return function(e,n,r){var s,a,l,c=n.charAt(0);"{"!==c&&"("!==c&&"*"!==c||!e.setAttributeNode?1!==(l=n.split(":")).length?e.setAttributeNS(t[l[0]],n,r):e.setAttribute(n,r):((s=i[n])||(o.innerHTML="<div "+n+'=""></div>',s=i[n]=o.childNodes[0].attributes[0]),(a=s.cloneNode()).value=r,e.setAttributeNode(a))}}return function(e,t,n){e.setAttribute(t,n)}}(),trigger:function(t,i,o){return e.data(e.$(t),"canHasAttributesBindings")?(i=i.toLowerCase(),n((function(){e.trigger(t,{type:"attributes",attributeName:i,target:t,oldValue:o,bubbles:!1},[])}))):void 0},get:function(e,t){t=t.toLowerCase();var n=r.map[t];return"string"==typeof n&&o(e,n)?e[n]:!0===n&&o(e,t)?e[t]:e.getAttribute(t)},remove:function(e,t){var n;t=t.toLowerCase(),r.MutationObserver||(n=r.get(e,t));var i=r.map[t];"function"==typeof i&&i(e,void 0),!0===i&&o(e,t)?e[t]=!1:"string"==typeof i&&o(e,i)?e[i]="":e.removeAttribute(t),r.MutationObserver||null==n||r.trigger(e,t,n)},has:function(){var t=e.global.document&&document.createElement("div");return t&&t.hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){return null!==e.getAttribute(t)}}()};return r})),define("can/event/event",["can/util/can"],(function(e){return e.addEvent=function(e,t){var n=this.__bindEvents||(this.__bindEvents={});return(n[e]||(n[e]=[])).push({handler:t,name:e}),this},e.listenTo=function(t,n,i){var o=this.__listenToEvents;o||(o=this.__listenToEvents={});var r=e.cid(t),s=o[r];s||(s=o[r]={obj:t,events:{}});var a=s.events[n];a||(a=s.events[n]=[]),a.push(i),e.bind.call(t,n,i)},e.stopListening=function(t,n,i){var o=this.__listenToEvents,r=o,s=0;if(!o)return this;if(t){var a=e.cid(t);if((r={})[a]=o[a],!o[a])return this}for(var l in r){var c,u=r[l];for(var d in t=o[l].obj,n?(c={})[n]=u.events[n]:c=u.events,c){var p=c[d]||[];for(s=0;s<p.length;)i&&i===p[s]||!i?(e.unbind.call(t,d,p[s]),p.splice(s,1)):s++;p.length||delete u.events[d]}e.isEmptyObject(u.events)&&delete o[l]}return this},e.removeEvent=function(e,t,n){if(!this.__bindEvents)return this;for(var i,o=this.__bindEvents[e]||[],r=0,s="function"==typeof t;r<o.length;)i=o[r],(n?n(i,e,t):s&&i.handler===t||!s&&(i.cid===t||!t))?o.splice(r,1):r++;return this},e.dispatch=function(e,t){var n=this.__bindEvents;if(n){var i;"string"==typeof e?(i=e,e={type:e}):i=e.type;var o=n[i];if(o){o=o.slice(0);var r=[e];t&&r.push.apply(r,t);for(var s=0,a=o.length;a>s;s++)o[s].handler.apply(this,r);return e}}},e.one=function(t,n){var i=function(){return e.unbind.call(this,t,i),n.apply(this,arguments)};return e.bind.call(this,t,i),this},e.event={on:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.on.call(this):e.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.off.call(this):e.removeEvent.apply(this,arguments)},bind:e.addEvent,unbind:e.removeEvent,delegate:function(t,n,i){return e.addEvent.call(this,n,i)},undelegate:function(t,n,i){return e.removeEvent.call(this,n,i)},trigger:e.dispatch,one:e.one,addEvent:e.addEvent,removeEvent:e.removeEvent,listenTo:e.listenTo,stopListening:e.stopListening,dispatch:e.dispatch},e.event})),define("can/util/fragment",["can/util/can"],(function(e){var t=/^\s*<(\w+)[^>]*>/,n={}.toString,i=function(i,o,r){void 0===o&&(o=t.test(i)&&RegExp.$1),i&&"[object Function]"===n.call(i.replace)&&(i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var s=r.createElement("div"),a=r.createElement("div");"tbody"===o||"tfoot"===o||"thead"===o||"colgroup"===o?(a.innerHTML="<table>"+i+"</table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild):"col"===o?(a.innerHTML="<table><colgroup>"+i+"</colgroup></table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild):"tr"===o?(a.innerHTML="<table><tbody>"+i+"</tbody></table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild):"td"===o||"th"===o?(a.innerHTML="<table><tbody><tr>"+i+"</tr></tbody></table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild.firstChild):"option"===o?(a.innerHTML="<select>"+i+"</select>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild):s.innerHTML=""+i;var l={},c=e.childNodes(s);l.length=c.length;for(var u=0;u<c.length;u++)l[u]=c[u];return[].slice.call(l)};return e.buildFragment=function(e,t){if(e&&11===e.nodeType)return e;t?t.length&&(t=t[0]):t=document;for(var n=i(e,void 0,t),o=(t||document).createDocumentFragment(),r=0,s=n.length;s>r;r++)o.appendChild(n[r]);return o},function(){var t="<-\n>";if(t!==e.buildFragment(t,document).firstChild.nodeValue){var n=e.buildFragment;e.buildFragment=function(e,t){var i=n(e,t);return 1===i.childNodes.length&&3===i.childNodes[0].nodeType&&(i.childNodes[0].nodeValue=e),i}}}(),e})),define("can/util/array/isArrayLike",["can/util/can"],(function(e){e.isArrayLike=function(e){var t=e&&"boolean"!=typeof e&&"number"!=typeof e&&"length"in e&&e.length;return"function"!=typeof arr&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}})),define("can/util/array/each",["can/util/can","can/util/array/isArrayLike"],(function(e){return e.each=function(t,n,i){var o,r,s,a=0;if(t)if(e.isArrayLike(t))if(e.List&&t instanceof e.List)for(r=t.attr("length");r>a&&(s=t.attr(a),!1!==n.call(i||s,s,a,t));a++);else for(r=t.length;r>a&&(s=t[a],!1!==n.call(i||s,s,a,t));a++);else if("object"==typeof t)if(e.Map&&t instanceof e.Map||t===e.route){var l=e.Map.keys(t);for(a=0,r=l.length;r>a&&(o=l[a],s=t.attr(o),!1!==n.call(i||s,s,o,t));a++);}else for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&!1===n.call(i||t[o],t[o],o,t))break;return t},e})),define("can/util/inserted/inserted",["can/util/can"],(function(e){e.inserted=function(t,n){if(t.length){t=e.makeArray(t);for(var i,o,r=n||t[0].ownerDocument||t[0],s=!1,a=e.$(r.contains?r:r.body),l=0;void 0!==(o=t[l]);l++){if(!s){if(!o.getElementsByTagName)continue;if(!e.has(a,o).length)return;s=!0}if(s&&o.getElementsByTagName){i=e.makeArray(o.getElementsByTagName("*")),e.trigger(o,"inserted",[],!1);for(var c,u=0;void 0!==(c=i[u]);u++)e.trigger(c,"inserted",[],!1)}}}},e.appendChild=function(t,n,i){var o;o=11===n.nodeType?e.makeArray(e.childNodes(n)):[n],t.appendChild(n),e.inserted(o,i)},e.insertBefore=function(t,n,i,o){var r;r=11===n.nodeType?e.makeArray(e.childNodes(n)):[n],t.insertBefore(n,i),e.inserted(r,o)}})),define("can/util/jquery/jquery",["dist/jquery","can/util/can","can/util/attr/attr","can/event/event","can/util/fragment","can/util/array/each","can/util/inserted/inserted"],(function(e,t,n,i){var o=function(e){return e.nodeName&&(1===e.nodeType||9===e.nodeType)||e==window||e.addEventListener};(e=e||window.jQuery).extend(t,e,{trigger:function(n,i,r,s){o(n)?e.event.trigger(i,r,n,!s):n.trigger?n.trigger(i,r):("string"==typeof i&&(i={type:i}),i.target=i.target||n,r&&(r.length&&"string"==typeof r?r=[r]:r.length||(r=[r])),r||(r=[]),t.dispatch.call(n,i,r))},event:t.event,addEvent:t.addEvent,removeEvent:t.removeEvent,buildFragment:t.buildFragment,$:e,each:t.each,bind:function(n,i){return this.bind&&this.bind!==t.bind?this.bind(n,i):o(this)?e.event.add(this,n,i):t.addEvent.call(this,n,i),this},unbind:function(n,i){return this.unbind&&this.unbind!==t.unbind?this.unbind(n,i):o(this)?e.event.remove(this,n,i):t.removeEvent.call(this,n,i),this},delegate:function(n,i,r){return this.delegate?this.delegate(n,i,r):o(this)?e(this).delegate(n,i,r):t.bind.call(this,i,r),this},undelegate:function(n,i,r){return this.undelegate?this.undelegate(n,i,r):o(this)?e(this).undelegate(n,i,r):t.unbind.call(this,i,r),this},proxy:t.proxy,attr:n}),t.on=t.bind,t.off=t.unbind,e.each(["append","filter","addClass","remove","data","get","has"],(function(e,n){t[n]=function(e){return e[n].apply(e,t.makeArray(arguments).slice(1))}}));var r=e.cleanData;e.cleanData=function(n){e.each(n,(function(e,n){n&&t.trigger(n,"removed",[],!1)})),r(n)};var s,a=e.fn.domManip;e.fn.domManip=function(e,t,n){for(var i=1;i<arguments.length;i++)if("function"==typeof arguments[i]){s=i;break}return a.apply(this,arguments)},e(document.createElement("div")).append(document.createElement("div"));var l=function(e){var n=e.childNodes;if("length"in n)return t.makeArray(n);for(var i=e.firstChild,o=[];i;)o.push(i),i=i.nextSibling;return o};void 0===s?(e.fn.domManip=a,t.each(["after","prepend","before","append","replaceWith"],(function(n){var i=e.fn[n];e.fn[n]=function(){var e=[],n=t.makeArray(arguments);null!=n[0]&&("string"==typeof n[0]&&(n[0]=t.buildFragment(n[0])),e=11===n[0].nodeType?l(n[0]):t.isArrayLike(n[0])?t.makeArray(n[0]):[n[0]]);var o=i.apply(this,n);return t.inserted(e),o}}))):e.fn.domManip=2===s?function(e,n,i){return a.call(this,e,n,(function(e){var n;11===e.nodeType&&(n=t.makeArray(t.childNodes(e)));var o=i.apply(this,arguments);return t.inserted(n||[e]),o}))}:function(e,n){return a.call(this,e,(function(e){var i;11===e.nodeType&&(i=t.makeArray(t.childNodes(e)));var o=n.apply(this,arguments);return t.inserted(i||[e]),o}))};var c=e.attr;e.attr=function(e,n){if(t.isDOM(e)&&t.attr.MutationObserver)return c.apply(this,arguments);var i,o;arguments.length>=3&&(i=c.call(this,e,n));var r=c.apply(this,arguments);return arguments.length>=3&&(o=c.call(this,e,n)),o!==i&&t.attr.trigger(e,n,i),r};var u=e.removeAttr;return e.removeAttr=function(e,n){if(t.isDOM(e)&&t.attr.MutationObserver)return u.apply(this,arguments);var i=c.call(this,e,n),o=u.apply(this,arguments);return null!=i&&t.attr.trigger(e,n,i),o},e.event.special.attributes={setup:function(){if(t.isDOM(this)&&t.attr.MutationObserver){var e=this,n=new t.attr.MutationObserver((function(n){n.forEach((function(n){var i=t.simpleExtend({},n);t.trigger(e,i,[])}))}));n.observe(this,{attributes:!0,attributeOldValue:!0}),t.data(t.$(this),"canAttributesObserver",n)}else t.data(t.$(this),"canHasAttributesBindings",!0)},teardown:function(){t.isDOM(this)&&t.attr.MutationObserver?(t.data(t.$(this),"canAttributesObserver").disconnect(),e.removeData(this,"canAttributesObserver")):e.removeData(this,"canHasAttributesBindings")}},e.event.special.inserted={},e.event.special.removed={},t})),define("can/util/util",["can/util/jquery/jquery"],(function(e){return e})),define("can/view/view",["can/util/util"],(function(e){var t=e.isFunction,n=e.makeArray,i=1,o=function(e){var t=function(){return l.frag(e.apply(this,arguments))};return t.render=function(){return e.apply(e,arguments)},t},r=function(e,t){if(!e.length)throw new Error("can.view: No template or empty template:"+t)},s=function(n,i){if(t(n))return e.Deferred().resolve(n);var o,s,a,c="string"==typeof n?n:n.url,u=n.engine&&"."+n.engine||c.match(/\.[\w\d]+$/);if(c.match(/^#/)&&(c=c.substr(1)),(s=document.getElementById(c))&&(u="."+s.type.match(/\/(x\-)?(.+)/)[2]),u||l.cached[c]||(c+=u=l.ext),e.isArray(u)&&(u=u[0]),a=l.toId(c),c.match(/^\/\//)&&(c=c.substr(2),c=window.steal?steal.config().root.mapJoin(""+steal.id(c)):c),window.require&&require.toUrl&&(c=require.toUrl(c)),o=l.types[u],l.cached[a])return l.cached[a];if(s)return l.registerView(a,s.innerHTML,o);var d=new e.Deferred;return e.ajax({async:i,url:c,dataType:"text",error:function(e){r("",c),d.reject(e)},success:function(e){r(e,c),l.registerView(a,e,o,d)}}),d},a=function(t){return e.isArray(t)&&"success"===t[1]?t[0]:t},l=e.view=e.template=function(e,n,i,o){return t(i)&&(o=i,i=void 0),l.renderAs("fragment",e,n,i,o)};return e.extend(l,{frag:function(e,t){return l.hookup(l.fragment(e),t)},fragment:function(t){return e.frag(t,document)},toId:function(t){return e.map(t.toString().split(/\/|\./g),(function(e){return e||void 0})).join("_")},toStr:function(e){return null==e?"":""+e},hookup:function(t,n){var i,o,r=[];return e.each(t.childNodes?e.makeArray(t.childNodes):t,(function(t){1===t.nodeType&&(r.push(t),r.push.apply(r,e.makeArray(t.getElementsByTagName("*"))))})),e.each(r,(function(e){e.getAttribute&&(i=e.getAttribute("data-view-id"))&&(o=l.hookups[i])&&(o(e,n,i),delete l.hookups[i],e.removeAttribute("data-view-id"))})),t},hookups:{},hook:function(e){return l.hookups[++i]=e," data-view-id='"+i+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(t){this.types["."+t.suffix]=t,e[t.suffix]=l[t.suffix]=function(e,n){var i,r;if(!n)return(r=function(){return i||(i=t.fragRenderer?t.fragRenderer(null,e):o(t.renderer(null,e))),i.apply(this,arguments)}).render=function(){var n=t.renderer(null,e);return n.apply(n,arguments)},r;var s=function(){return i||(i=t.fragRenderer?t.fragRenderer(e,n):t.renderer(e,n)),i.apply(this,arguments)};return t.fragRenderer?l.preload(e,s):l.preloadStringRenderer(e,s)}},types:{},ext:".ejs",registerScript:function(e,t,n){return"can.view.preloadStringRenderer('"+t+"',"+l.types["."+e].script(t,n)+");"},preload:function(t,n){return(l.cached[t]=(new e.Deferred).resolve((function(e,t){return n.call(e,e,t)}))).__view_id=t,l.cachedRenderers[t]=n,n},preloadStringRenderer:function(e,t){return this.preload(e,o(t))},render:function(t,n,i,o,r){return e.view.renderAs("string",t,n,i,o,r)},renderTo:function(e,t,n,i,o){return("string"===e&&t.render?t.render:t)(n,i,o)},renderAs:function(i,o,r,c,u,d){void 0!==u&&"string"==typeof u.expression&&(d=u,u=void 0),t(c)&&(u=c,c=void 0);var p,h,f,m,g=function(t){var n=[];if(e.isPromise(t))return[t];for(var i in t)e.isPromise(t[i])&&n.push(t[i]);return n}(r);if(g.length)return p=new e.Deferred,h=e.extend({},r),g.push(s(o,!0)),e.when.apply(e,g).then((function(t){var o,s=n(arguments),l=s.pop();if(e.isPromise(r))h=a(t);else for(var f in r)e.isPromise(r[f])&&(h[f]=a(s.shift()));o=e.view.renderTo(i,l,h,c,d),p.resolve(o,h),u&&u(o,h)}),(function(){p.reject.apply(p,arguments)})),p;if(f=t(u),p=e.__notObserve(s)(o,f),f)m=p,p.then((function(t){u(r?e.view.renderTo(i,t,r,c,d):t)}));else{if("resolved"===p.state()&&p.__view_id){var v=l.cachedRenderers[p.__view_id];return r?e.view.renderTo(i,v,r,c,d):v}p.then((function(t){m=r?e.view.renderTo(i,t,r,c,d):t}))}return m},registerView:function(t,n,i,r){var s,a="object"==typeof i?i:l.types[i||l.ext];return s=a.fragRenderer?a.fragRenderer(t,n):o(a.renderer(t,n)),r=r||new e.Deferred,l.cache&&(l.cached[t]=r,r.__view_id=t,l.cachedRenderers[t]=s),r.resolve(s)},simpleHelper:function(t){return function(){var n=[],i=arguments;return e.each(i,(function(e,t){if(t<=i.length){for(;e&&e.isComputed;)e=e();n.push(e)}})),t.apply(this,n)}}}),e})),define("can/view/callbacks/callbacks",["can/util/util","can/view/view"],(function(e){var t=e.view.attr=function(e,t){if(!t){var o=n[e];if(!o)for(var r=0,s=i.length;s>r;r++){var a=i[r];if(a.match.test(e)){o=a.handler;break}}return o}"string"==typeof e?n[e]=t:i.push({match:e,handler:t})},n={},i=[],o=/[-\:]/,r=e.view.tag=function(t,n){if(!n){var i=s[t.toLowerCase()];return!i&&o.test(t)&&(i=function(){}),i}e.global.html5&&(e.global.html5.elements+=" "+t,e.global.html5.shivDocument()),s[t.toLowerCase()]=n},s={};return e.view.callbacks={_tags:s,_attributes:n,_regExpAttributes:i,tag:r,attr:t,tagHandler:function(t,n,i){var o,r=i.options.get("tags."+n,{proxyMethods:!1})||s[n],a=i.scope;if((o=r?e.__notObserve(r)(t,i):a)&&i.subtemplate){a!==o&&(a=a.add(o));var l=i.subtemplate(a,i.options),c="string"==typeof l?e.view.frag(l):l;e.appendChild(t,c)}}},e.view.callbacks})),define("can/view/elements",["can/util/util","can/view/view"],(function(e){var t="undefined"!=typeof document?document:null,n=t&&1===e.$(document.createComment("~")).length,i={tagToContentPropMap:{option:t&&"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:e.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:e.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},selfClosingTags:{col:!0},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},setAttr:e.attr.set,getAttr:e.attr.get,removeAttr:e.attr.remove,contentText:function(e){return"string"==typeof e?e:e||0===e?""+e:""},after:function(t,n){var i=t[t.length-1];i.nextSibling?e.insertBefore(i.parentNode,n,i.nextSibling,e.document):e.appendChild(i.parentNode,n,e.document)},replace:function(t,o){var r,s=t[0].parentNode;"SELECT"===s.nodeName.toUpperCase()&&s.selectedIndex>=0&&(r=s.value),i.after(t,o),e.remove(e.$(t)).length<t.length&&!n&&e.each(t,(function(e){8===e.nodeType&&e.parentNode.removeChild(e)})),void 0!==r&&(s.value=r)}};return e.view.elements=i,i})),define("can/util/bind/bind",["can/util/util"],(function(e){return e.bindAndSetup=function(){return e.addEvent.apply(this,arguments),this.__inSetup||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup())),this},e.unbindAndTeardown=function(t,n){if(!this.__bindEvents)return this;var i=this.__bindEvents[t]||[],o=i.length;return e.removeEvent.apply(this,arguments),null===this._bindings?this._bindings=0:this._bindings=this._bindings-(o-i.length),!this._bindings&&this._bindteardown&&this._bindteardown(),this},e})),define("can/util/batch/batch",["can/util/can"],(function(e){var t=1,n=0,i=null,o=null,r=[],s=!1;e.batch={start:function(e){if(1===++n){var i={events:[],callbacks:[],number:t++};r.push(i),e&&i.callbacks.push(e),o=i}},stop:function(t,a){var l;if((t?n=0:n--,0===n)&&(o=null,!1===s)){s=!0;for(var c,u=[];l=r.shift();){var d,p=l.events;for(u.push.apply(u,l.callbacks),i=l,e.batch.batchNum=l.number,a&&e.batch.start(),c=0,d=p.length;d>c;c++)e.dispatch.apply(p[c][0],p[c][1]);e.batch._onDispatchedEvents(l.number),i=null,e.batch.batchNum=void 0}for(c=u.length-1;c>=0;c--)u[c]();s=!1}},_onDispatchedEvents:function(){},trigger:function(t,n,i){t.__inSetup||(n="string"==typeof n?{type:n}:n,o?(n.batchNum=o.number,o.events.push([t,[n,i]])):n.batchNum?e.dispatch.call(t,n,i):r.length?(e.batch.start(),n.batchNum=o.number,o.events.push([t,[n,i]]),e.batch.stop()):e.dispatch.call(t,n,i))},afterPreviousEvents:function(t){var n=e.last(r);if(n){var i={};e.bind.call(i,"ready",t),n.events.push([i,[{type:"ready"},[]]])}else t({})},after:function(e){var t=o||i;t?t.callbacks.push(e):e({})}}})),define("can/compute/read",["can/util/util"],(function(e){var t=function(e,n,o){for(var r,s,a={foundObservable:!1},l=i(e,0,n,o=o||{},a),c=n.length,u=0;c>u;){s=l;for(var d=0,p=t.propertyReaders.length;p>d;d++){var h=t.propertyReaders[d];if(h.test(l)){l=h.read(l,n[u],u,o,a);break}}if(r=typeof(l=i(l,u+=1,n,o,a,s)),u<n.length&&(null===l||"function"!==r&&"object"!==r))return o.earlyExit&&o.earlyExit(s,u-1,l),{value:void 0,parent:s}}return void 0===l&&o.earlyExit&&o.earlyExit(s,u-1),{value:l,parent:s}},n=function(e,t){var n=t[e-1];return n&&n.at},i=function(e,n,i,o,r,s){for(var a=0,l=t.valueReaders.length;l>a;a++)t.valueReaders[a].test(e,n,i,o)&&(e=t.valueReaders[a].read(e,n,i,o,r,s));return e};t.valueReaders=[{name:"compute",test:function(e,t,i,o){return e&&e.isComputed&&!n(t,i)},read:function(t,n,i,o,r){return!1===o.readCompute&&n===i.length?t:(!r.foundObservable&&o.foundObservable&&(o.foundObservable(t,n),r.foundObservable=!0),t instanceof e.Compute?t.get():t())}},{name:"function",test:function(t,n,i,o){return!("function"!==typeof t||t.isComputed||e.Construct&&t.prototype instanceof e.Construct||e.route&&t===e.route)},read:function(t,i,o,r,s,a){return n(i,o)?i===o.length?e.proxy(t,a):t:r.callMethodsOnObservables&&e.isMapLike(a)?t.apply(a,r.args||[]):r.isArgument&&i===o.length?!1!==r.proxyMethods?e.proxy(t,a):t:t.apply(a,r.args||[])}}],t.propertyReaders=[{name:"map",test:e.isMapLike,read:function(e,t,n,i,o){!o.foundObservable&&i.foundObservable&&(i.foundObservable(e,n),o.foundObservable=!0);var r=e.attr(t.key);return void 0!==r?r:e[t.key]}},{name:"promise",test:function(t){return e.isPromise(t)},read:function(t,n,i,o,r){!r.foundObservable&&o.foundObservable&&(o.foundObservable(t,i),r.foundObservable=!0);var s=t.__observeData;return t.__observeData||(s=t.__observeData={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0},e.cid(s),e.simpleExtend(s,e.event),t.then((function(e){s.isPending=!1,s.isResolved=!0,s.value=e,s.state="resolved",s.dispatch("state",["resolved","pending"])}),(function(e){s.isPending=!1,s.isRejected=!0,s.reason=e,s.state="rejected",s.dispatch("state",["rejected","pending"])}))),e.__observe(s,"state"),n.key in s?s[n.key]:t[n.key]}},{name:"object",test:function(){return!0},read:function(e,t){return null==e?void 0:t.key in e?e[t.key]:t.at&&o[t.key]&&"@"+t.key in e?(t.at=!1,e["@"+t.key]):void 0}}];var o={index:!0,key:!0,event:!0,element:!0,viewModel:!0};return t.write=function(t,n,i,o){return o=o||{},e.isMapLike(t)?!o.isArgument&&t._data&&t._data[n]&&t._data[n].isComputed?t._data[n](i):t.attr(n,i):t[n]&&t[n].isComputed?t[n](i):void("object"==typeof t&&(t[n]=i))},t.reads=function(e){var t=[],n=0,i=!1;"@"===e.charAt(0)&&(n=1,i=!0);for(var o="",r=n;r<e.length;r++){var s=e.charAt(r);"."===s||"@"===s?"\\"!==e.charAt(r-1)?(t.push({key:o,at:i}),i="@"===s,o=""):o=o.substr(0,o.length-1)+".":o+=s}return t.push({key:o,at:i}),t},t})),define("can/compute/get_value_and_bind",["can/util/util"],(function(e){function t(t,n,i){this.newObserved={},this.oldObserved=null,this.func=t,this.context=n,this.compute=i,this.onDependencyChange=e.proxy(this.onDependencyChange,this),this.depth=null,this.childDepths={},this.ignore=0,this.inBatch=!1,this.ready=!1,i.observedInfo=this,this.setReady=e.proxy(this._setReady,this)}e.simpleExtend(t.prototype,{getPrimaryDepth:function(){return this.compute._primaryDepth},_setReady:function(){this.ready=!0},getDepth:function(){return null!==this.depth?this.depth:this.depth=this._getDepth()},_getDepth:function(){var e=0,t=this.childDepths;for(var n in t)t[n]>e&&(e=t[n]);return e+1},addEdge:function(e){e.obj.bind(e.event,this.onDependencyChange),e.obj.observedInfo&&(this.childDepths[e.obj._cid]=e.obj.observedInfo.getDepth(),this.depth=null)},removeEdge:function(e){e.obj.unbind(e.event,this.onDependencyChange),e.obj.observedInfo&&(delete this.childDepths[e.obj._cid],this.depth=null)},dependencyChange:function(e){this.bound&&this.ready&&(void 0!==e.batchNum?e.batchNum!==this.batchNum&&(t.registerUpdate(this),this.batchNum=e.batchNum):this.updateCompute(e.batchNum))},onDependencyChange:function(e,t,n){this.dependencyChange(e,t,n)},updateCompute:function(e){if(this.bound){var t=this.value;this.getValueAndBind(),this.compute.updater(this.value,t,e)}},getValueAndBind:function(){this.bound=!0,this.oldObserved=this.newObserved||{},this.ignore=0,this.newObserved={},this.ready=!1,s.push(this),this.value=this.func.call(this.context),s.pop(),this.updateBindings(),e.batch.afterPreviousEvents(this.setReady)},updateBindings:function(){var e,t,n=this.newObserved,i=this.oldObserved;for(e in n)t=n[e],i[e]?i[e]=null:this.addEdge(t);for(e in i)(t=i[e])&&this.removeEdge(t)},teardown:function(){for(var e in this.bound=!1,this.newObserved){var t=this.newObserved[e];this.removeEdge(t)}this.newObserved={}}});var n,i=[],o=1/0,r=0;t.registerUpdate=function(e,t){var n=e.getDepth()-1,s=e.getPrimaryDepth();o=Math.min(s,o),r=Math.max(s,r);var a=i[s]||(i[s]={observeInfos:[],current:1/0,max:0});(a.observeInfos[n]||(a.observeInfos[n]=[])).push(e),a.current=Math.min(n,a.current),a.max=Math.max(n,a.max)},t.updateUntil=function(e,t){for(var s;;){if(!(r>=o&&e>=o))return;var a=i[o];if(a&&a.current<=a.max){if(a.current>t)return;var l=a.observeInfos[a.current];l&&(s=l.pop())?s.updateCompute(n):a.current++}else o++}},t.batchEnd=function(e){var t;for(n=e;;){if(!(r>=o))return i=[],o=1/0,void(r=0);var s=i[o];if(s&&s.current<=s.max){var a=s.observeInfos[s.current];a&&(t=a.pop())?t.updateCompute(e):s.current++}else o++}};var s=[];return e.__observe=function(e,t){var n=s[s.length-1];if(n&&!n.ignore){var i=t+"",o=e._cid+"|"+i;n.traps?n.traps.push({obj:e,event:i,name:o}):n.newObserved[o]||(n.newObserved[o]={obj:e,event:i})}},e.__reading=e.__observe,e.__trapObserves=function(){if(s.length){var e=s[s.length-1],t=e.traps=[];return function(){return e.traps=null,t}}return function(){return[]}},e.__observes=function(e){var t=s[s.length-1];if(t)for(var n=0,i=e.length;i>n;n++){var o=e[n],r=o.name;t.newObserved[r]||(t.newObserved[r]=o)}},e.__isRecordingObserves=function(){var e=s.length,t=s[e-1];return e&&0===t.ignore&&t},e.__notObserve=function(e){return function(){if(s.length){var t=s[s.length-1];t.ignore++;var n=e.apply(this,arguments);return t.ignore--,n}return e.apply(this,arguments)}},e.batch._onDispatchedEvents=t.batchEnd,t})),define("can/compute/proto_compute",["can/util/util","can/util/bind/bind","can/compute/read","can/compute/get_value_and_bind","can/util/batch/batch"],(function(e,t,n,i){e.Compute=function(t,n,i,o){e.cid(this,"compute");for(var r=[],s=0,a=arguments.length;a>s;s++)r[s]=arguments[s];var l=typeof r[1];"function"==typeof r[0]?this._setupGetterSetterFn(r[0],r[1],r[2],r[3]):r[1]?"string"===l?this._setupProperty(r[0],r[1],r[2]):"function"===l?this._setupSetter(r[0],r[1],r[2]):r[1]&&r[1].fn?this._setupAsyncCompute(r[0],r[1]):this._setupSettings(r[0],r[1]):this._setupSimpleValue(r[0]),this._args=r,this._primaryDepth=0,this.isComputed=!0},e.simpleExtend(e.Compute.prototype,{setPrimaryDepth:function(e){this._primaryDepth=e},_setupGetterSetterFn:function(t,n,i){this._set=n?e.proxy(t,n):t,this._get=n?e.proxy(t,n):t,this._canObserve=!1!==i;var o=r(this,t,n||this);e.simpleExtend(this,o)},_setupProperty:function(t,n,i){var o,r=e.isMapLike(t),s=this;r?(o=function(e,t,n){s.updater(t,n,e.batchNum)},this.hasDependencies=!0,this._get=function(){return t.attr(n)},this._set=function(e){t.attr(n,e)}):(o=function(){s.updater(s._get(),s.value)},this._get=function(){return e.getObject(n,[t])},this._set=function(i){var o=n.split("."),r=o.pop();e.getObject(o.join("."),[t])[r]=i}),this._on=function(r){e.bind.call(t,i||n,o),this.value=this._get()},this._off=function(){return e.unbind.call(t,i||n,o)}},_setupSetter:function(t,n,i){this.value=t,this._set=n,e.simpleExtend(this,i)},_setupSettings:function(e,t){if(this.value=e,this._set=t.set||this._set,this._get=t.get||this._get,!t.__selfUpdater){var n=this,i=this.updater;this.updater=function(){i.call(n,n._get(),n.value)}}this._on=t.on?t.on:this._on,this._off=t.off?t.off:this._off},_setupAsyncCompute:function(t,n){var i=this;this.value=t,this._setUpdates=!0,this.lastSetValue=new e.Compute(t),this._set=function(e){return e===i.lastSetValue.get()?this.value:i.lastSetValue.set(e)},this._get=function(){return s.call(n.context,i.lastSetValue.get())};var o,s=n.fn;if(0===s.length)o=r(this,s,n.context);else if(1===s.length)o=r(this,(function(){return s.call(n.context,i.lastSetValue.get())}),n);else{var a=this.updater,l=function(e){a.call(i,e,i.value)};this.updater=function(e){a.call(i,e,i.value)},o=r(this,(function(){var e=s.call(n.context,i.lastSetValue.get(),l);return void 0!==e?e:this.value}),this)}e.simpleExtend(this,o)},_setupSimpleValue:function(e){this.value=e},_bindsetup:e.__notObserve((function(){this.bound=!0,this._on(this.updater)})),_bindteardown:function(){this._off(this.updater),this.bound=!1},bind:e.bindAndSetup,unbind:e.unbindAndTeardown,clone:function(t){return t&&"function"==typeof this._args[0]?this._args[1]=t:t&&(this._args[2]=t),new e.Compute(this._args[0],this._args[1],this._args[2],this._args[3])},_on:e.k,_off:e.k,get:function(){var t=e.__isRecordingObserves();return t&&!1!==this._canObserve&&(e.__observe(this,"change"),this.bound||e.Compute.temporarilyBind(this)),this.bound?(t&&this.getDepth&&this.getDepth()>=t.getDepth()&&i.updateUntil(this.getPrimaryDepth(),this.getDepth()),this.value):this._get()},_get:function(){return this.value},set:function(e){var t=this.value,n=this._set(e,t);return this._setUpdates?this.value:this.hasDependencies?this._get():(this.value=void 0===n?this._get():n,o(this,this.value,t),this.value)},_set:function(e){return this.value=e},updater:function(e,t,n){this.value=e,o(this,e,t,n)},toFunction:function(){return e.proxy(this._computeFn,this)},_computeFn:function(e){return arguments.length?this.set(e):this.get()}});var o=function(t,n,i,o){n!==i&&!(n!=n&&i!=i)&&e.batch.trigger(t,{type:"change",batchNum:o},[n,i])},r=function(t,n,o){var r=new i(n,o,t);return{readInfo:r,_on:function(){r.getValueAndBind(),t.value=r.value,t.hasDependencies=!e.isEmptyObject(r.newObserved)},_off:function(){r.teardown()},getDepth:function(){return r.getDepth()},getPrimaryDepth:function(){return r.getPrimaryDepth()}}};e.Compute.temporarilyBind=function(t){var n=t.computeInstance||t;n.bind("change",e.k),s||(s=[],setTimeout(a,10)),s.push(n)};var s,a=function(){for(var t=0,n=s.length;n>t;t++)s[t].unbind("change",e.k);s=null};return e.Compute.async=function(t,n,i){return new e.Compute(t,{fn:n,context:i})},e.Compute.truthy=function(t){return new e.Compute((function(){var e=t.get();return"function"==typeof e&&(e=e.get()),!!e}))},e.Compute.read=n,e.Compute.set=n.write,e.Compute})),define("can/compute/compute",["can/util/util","can/util/bind/bind","can/util/batch/batch","can/compute/proto_compute"],(function(e,t){return e.compute=function(t,n,i,o){var r=new e.Compute(t,n,i,o),s=r.bind,a=r.unbind,l=function(e){return arguments.length?r.set(e):r.get()},c="__handler"+e.cid(l,"compute");return l.bind=function(e,t){var n=t&&t[c];return t&&!n&&(n=t[c]=function(){t.apply(l,arguments)}),s.call(r,e,n)},l.unbind=function(e,t){var n=t&&t[c];return n?(delete t[c],r.unbind(e,n)):a.apply(r,arguments)},l.isComputed=r.isComputed,l.clone=function(i){return"function"==typeof t&&(n=i),e.compute(t,n,i,o)},l.computeInstance=r,l},e.compute.truthy=function(t){return e.compute((function(){var e=t();return"function"==typeof e&&(e=e()),!!e}))},e.compute.async=function(t,n,i){return e.compute(t,{fn:n,context:i})},e.compute.read=e.Compute.read,e.compute.set=e.Compute.set,e.compute.temporarilyBind=e.Compute.temporarilyBind,e.compute})),define("can/view/scope/compute_data",["can/util/util","can/compute/compute","can/compute/get_value_and_bind"],(function(e,t,n){var i=function(t,n,i,o,r){if(!(arguments.length>4)){if(o.root)return e.compute.read(o.root,o.reads,i).value;var s=t.read(n,i);return o.scope=s.scope,o.initialValue=s.value,o.reads=s.reads,o.root=s.rootObserve,o.setRoot=s.setRoot,s.value}var a=o.root||o.setRoot;if(a)if(a.isComputed)a(r);else if(o.reads.length){var l=o.reads.length-1,c=o.reads.length?e.compute.read(a,o.reads.slice(0,l)).value:a;e.compute.set(c,o.reads[l].key,r,i)}};return function(t,o,r){r=r||{args:[]};var s={},a=function(e){return arguments.length?i(t,o,r,s,e):i(t,o,r,s)},l=e.compute(void 0,{on:function(){c.getValueAndBind(),function(t){return t.reads&&1===t.reads.length&&t.root instanceof e.Map&&!e.isFunction(t.root[t.reads[0].key])}(s)&&(c.dependencyChange=function(e,t){return"function"!=typeof t?this.newVal=t:(c.dependencyChange=n.prototype.dependencyChange,c.getValueAndBind=n.prototype.getValueAndBind),n.prototype.dependencyChange.call(this,e)},c.getValueAndBind=function(){this.value=this.newVal}),l.computeInstance.value=c.value,l.computeInstance.hasDependencies=!e.isEmptyObject(c.newObserved)},off:function(){c.dependencyChange=n.prototype.dependencyChange,c.getValueAndBind=n.prototype.getValueAndBind,c.teardown()},set:a,get:a,__selfUpdater:!0}),c=new n(a,null,l.computeInstance);return s.compute=l,s}})),define("can/util/string/string",["can/util/util"],(function(e){var t=/\=\=/,n=/([A-Z]+)([A-Z][a-z])/g,i=/([a-z\d])([A-Z])/g,o=/([a-z\d])([A-Z])/g,r=/\{([^\}]+)\}/g,s=/"/g,a=/'/g,l=/-+(.)?/g,c=/[a-z][A-Z]/g,u=function(e,t,n){var i=e[t];return void 0===i&&!0===n&&(i=e[t]={}),i},d=function(e){return/^f|^o/.test(typeof e)},p=function(e){return""+(null==e||isNaN(e)&&""+e=="NaN"?"":e)};return e.extend(e,{esc:function(e){return p(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(s,"&#34;").replace(a,"&#39;")},getObject:function(t,n,i){var o,r,s,a,l=t?t.split("."):[],c=l.length,p=0;if(a=(n=e.isArray(n)?n:[n||window]).length,!c)return n[0];for(;a>p;p++){for(o=n[p],s=void 0,r=0;c>r&&d(o);r++)o=u(s=o,l[r]);if(void 0!==s&&void 0!==o)break}if(!1===i&&void 0!==o&&delete s[l[r-1]],!0===i&&void 0===o)for(o=n[0],r=0;c>r&&d(o);r++)o=u(o,l[r],!0);return o},capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return p(e).replace(l,(function(e,t){return t?t.toUpperCase():""}))},hyphenate:function(e){return p(e).replace(c,(function(e,t){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()}))},underscore:function(e){return e.replace(t,"/").replace(n,"$1_$2").replace(i,"$1_$2").replace(o,"_").toLowerCase()},sub:function(t,n,i){var o=[];return t=t||"",o.push(t.replace(r,(function(t,r){var s=e.getObject(r,n,!0!==i&&void 0);return null==s?(o=null,""):d(s)&&o?(o.push(s),""):""+s}))),null===o?o:o.length<=1?o[0]:o},replacer:r,undHash:/_|-/}),e})),define("can/construct/construct",["can/util/string/string"],(function(e){var t,n=0;try{Object.getOwnPropertyDescriptor({}),t=!0}catch(e){t=!1}var i=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return n&&(n.get||n.set)?n:null};return e.Construct=function(){return arguments.length?e.Construct.extend.apply(e.Construct,arguments):void 0},e.extend(e.Construct,{constructorExtends:!0,newInstance:function(){var e,t=this.instance();return t.setup&&(t.__inSetup=!0,e=t.setup.apply(t,arguments),delete t.__inSetup),t.init&&t.init.apply(t,e||arguments),t},_inherit:t?function(t,n,o){var r;for(var s in o=o||t,t)(r=i(t,s))?this._defineProperty(o,n,s,r):e.Construct._overwrite(o,n,s,t[s])}:function(t,n,i){for(var o in i=i||t,t)e.Construct._overwrite(i,n,o,t[o])},_defineProperty:function(e,t,n,i){Object.defineProperty(e,n,i)},_overwrite:function(e,t,n,i){e[n]=i},setup:function(t,n){this.defaults=e.extend(!0,{},t.defaults,this.defaults)},instance:function(){n=1;var e=new this;return n=0,e},extend:function(t,i,o){function r(){return n?void 0:this.constructor!==c&&arguments.length&&c.constructorExtends?c.extend.apply(c,arguments):c.newInstance.apply(c,arguments)}var s=t,a=i,l=o;"string"!=typeof s&&(l=a,a=s,s=null),l||(l=a,a=null),l=l||{};var c,u,d,p,h,f,m,g,v,y=this,_=this.prototype;for(f in v=this.instance(),e.Construct._inherit(l,_,v),s?m=(u=s.split(".")).pop():a&&a.shortName?m=a.shortName:this.shortName&&(m=this.shortName),"undefined"==typeof constructorName&&(c=function(){return r.apply(this,arguments)}),y)y.hasOwnProperty(f)&&(c[f]=y[f]);e.Construct._inherit(a,y,c),s&&(g=d=e.getObject(u.join("."),window,!0),p=e.underscore(s.replace(/\./g,"_")),h=e.underscore(m),d[m]=c),e.extend(c,{constructor:c,prototype:v,namespace:g,_shortName:h,fullName:s,_fullName:p}),void 0!==m&&(c.shortName=m),c.prototype.constructor=c;var b=[y].concat(e.makeArray(arguments)),w=c.setup.apply(c,b);return c.init&&c.init.apply(c,w||b),c}}),e.Construct.prototype.setup=function(){},e.Construct.prototype.init=function(){},e.Construct})),define("can/map/bubble",["can/util/util"],(function(e){var t=e.bubble={bind:function(e,n){if(!e.__inSetup){var i,o=t.events(e,n),r=o.length;e._bubbleBindings||(e._bubbleBindings={});for(var s=0;r>s;s++)i=o[s],e._bubbleBindings[i]?e._bubbleBindings[i]++:(e._bubbleBindings[i]=1,t.childrenOf(e,i))}},unbind:function(n,i){for(var o,r=t.events(n,i),s=r.length,a=0;s>a;a++)o=r[a],n._bubbleBindings&&n._bubbleBindings[o]--,n._bubbleBindings&&!n._bubbleBindings[o]&&(delete n._bubbleBindings[o],t.teardownChildrenFrom(n,o),e.isEmptyObject(n._bubbleBindings)&&delete n._bubbleBindings)},add:function(n,i,o){if(i instanceof e.Map&&n._bubbleBindings)for(var r in n._bubbleBindings)n._bubbleBindings[r]&&(t.teardownFromParent(n,i,r),t.toParent(i,n,o,r))},addMany:function(e,n){for(var i=0,o=n.length;o>i;i++)t.add(e,n[i],i)},remove:function(n,i){if(i instanceof e.Map&&n._bubbleBindings)for(var o in n._bubbleBindings)n._bubbleBindings[o]&&t.teardownFromParent(n,i,o)},removeMany:function(e,n){for(var i=0,o=n.length;o>i;i++)t.remove(e,n[i])},set:function(n,i,o,r){return e.isMapLike(o)&&t.add(n,o,i),e.isMapLike(r)&&t.remove(n,r),o},events:function(e,t){return e.constructor._bubbleRule(t,e)},toParent:function(t,n,i,o){e.listenTo.call(n,t,o,(function(){var r=e.makeArray(arguments),s=r.shift();r[0]=(e.List&&n instanceof e.List?n.indexOf(t):i)+(r[0]?"."+r[0]:""),s.triggeredNS=s.triggeredNS||{},s.triggeredNS[n._cid]||(s.triggeredNS[n._cid]=!0,e.trigger(n,s,r),"change"===o&&e.trigger(n,r[0],[r[2],r[3]]))}))},childrenOf:function(e,n){e._each((function(i,o){i&&i.bind&&t.toParent(i,e,o,n)}))},teardownFromParent:function(t,n,i){n&&n.unbind&&e.stopListening.call(t,n,i)},teardownChildrenFrom:function(e,n){e._each((function(i){t.teardownFromParent(e,i,n)}))},isBubbling:function(e,t){return e._bubbleBindings&&e._bubbleBindings[t]}};return t})),define("can/util/object/isplain/isplain",["can/util/can"],(function(e){var t=Object.prototype.hasOwnProperty;return e.isPlainObject=function(e){if(!e||"object"!=typeof e||e.nodeType||function(e){return null!==e&&e==e.window}(e))return!1;try{if(e.constructor&&!t.call(e,"constructor")&&!t.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in e);return void 0===n||t.call(e,n)},e})),define("can/map/map_helpers",["can/util/util","can/util/object/isplain/isplain"],(function(e){var t={attrParts:function(e,t){return t?[e]:"object"==typeof e?e:(""+e).split(".")},canMakeObserve:function(t){return t&&!e.isPromise(t)&&(e.isArray(t)||e.isPlainObject(t))},serialize:function(){var n=null;return function(i,o,r){var s=e.cid(i),a=!1;return n||(a=!0,n={attr:{},serialize:{}}),n[o][s]=r,i.each((function(s,a){var l,c=e.isMapLike(s)&&n[o][e.cid(s)];void 0!==(l=c||(i["___"+o]?i["___"+o](a,s):t.getValue(i,a,s,o)))&&(r[a]=l)})),a&&(n=null),r}}(),getValue:function(t,n,i,o){return e.isMapLike(i)?i[o]():i},define:null,addComputedAttr:function(e,t,n){e._computedAttrs[t]={compute:n,count:0,handler:function(n,i,o){e._triggerChange(t,"set",i,o,n.batchNum)}}},addToMap:function(t,o){var r;n||(r=i,n={});var s=t._cid,a=e.cid(t);return n[a]||(n[a]={obj:t,instance:o,added:!s}),r},getMapFromObject:function(e){return n&&n[e._cid]&&n[e._cid].instance},twoLevelDeepExtend:function(t,n){for(var i in n)t[i]=t[i]||{},e.simpleExtend(t[i],n[i])}},n=null,i=function(){for(var e in n)n[e].added&&delete n[e].obj._cid;n=null};return t})),define("can/map/map",["can/util/util","can/util/bind/bind","can/map/bubble","can/map/map_helpers","can/construct/construct","can/util/batch/batch","can/compute/get_value_and_bind"],(function(e,t,n,i){var o={constructor:!0},r=e.Map=e.Construct.extend({setup:function(t){if(e.Construct.setup.apply(this,arguments),this._computedPropertyNames=[],e.Map){for(var n in this.defaults||(this.defaults={}),this.prototype)"define"!==n&&"constructor"!==n&&("function"!=typeof this.prototype[n]||this.prototype[n].prototype instanceof e.Construct)?this.defaults[n]=this.prototype[n]:this.prototype[n].isComputed&&this._computedPropertyNames.push(n);i.define&&i.define(this,t.prototype.define)}!e.List||this.prototype instanceof e.List||(this.List=r.List.extend({Map:this},{}))},shortName:"Map",_bubbleRule:function(e){return"change"===e||e.indexOf(".")>=0?["change"]:[]},bind:e.bindAndSetup,unbind:e.unbindAndTeardown,id:"id",keys:function(t){var n=[];for(var i in e.__observe(t,"__keys"),t._data)n.push(i);return n}},{setup:function(t){t instanceof e.Map&&(t=t.serialize()),this._data={},e.cid(this,".map"),this._setupComputedProperties();var n=t&&i.addToMap(t,this),o=this._setupDefaults(t),r=e.extend(e.extend(!0,{},o),t);this.attr(r),n&&n()},_setupComputedProperties:function(){this._computedAttrs={};for(var e=this.constructor._computedPropertyNames,t=0,n=e.length;n>t;t++){var o=e[t];i.addComputedAttr(this,o,this[o].clone(this))}},_setupDefaults:function(){return this.constructor.defaults||{}},attr:function(e,t){var n=typeof e;return void 0===e?this._getAttrs():"string"!==n&&"number"!==n?this._setAttrs(e,t):1===arguments.length?this._get(e+""):(this._set(e+"",t),this)},_get:function(t){var n=t.indexOf(".");if(n>=0){var i=this.___get(t);if(void 0!==i)return e.__observe(this,t),i;var o=t.substr(0,n),r=t.substr(n+1),s=this.__get(o);return s&&s._get?s._get(r):void 0}return this.__get(t)},__get:function(t){return o[t]||this._computedAttrs[t]||e.__observe(this,t),this.___get(t)},___get:function(e){if(void 0!==e){var t=this._computedAttrs[e];return t&&t.compute?t.compute():this._data.hasOwnProperty(e)?this._data[e]:void 0}return this._data},_set:function(t,n,i){var o,r=t.indexOf(".");if(r>=0&&!i){var s=t.substr(0,r),a=t.substr(r+1);if(o=this.__inSetup?void 0:this.___get(s),!e.isMapLike(o))throw new Error("can.Map: Object does not exist");o._set(a,n)}else o=this.__inSetup?void 0:this.___get(t),this.__convert&&(n=this.__convert(t,n)),this.__set(t,this.__type(n,t),o)},__type:function(t,n){if("object"==typeof t&&!(t instanceof e.Map)&&i.canMakeObserve(t)){var o=i.getMapFromObject(t);return o||(e.isArray(t)?new(0,e.List)(t):new(this.constructor.Map||e.Map)(t))}return t},__set:function(e,t,i){if(t!==i){var o=this._computedAttrs[e],r=o||void 0!==i||this.___get().hasOwnProperty(e)?"set":"add";this.___set(e,"object"==typeof t?n.set(this,e,t,i):t),o&&o.count||this._triggerChange(e,r,t,i),"object"==typeof i&&n.teardownFromParent(this,i)}},___set:function(e,t){var n=this._computedAttrs[e];n&&n.compute?n.compute(t):this._data[e]=t,"function"==typeof this.constructor.prototype[e]||n||(this[e]=t)},removeAttr:function(e){return this._remove(e)},_remove:function(e){var t=i.attrParts(e),n=t.shift(),o=this.___get(n);return t.length&&o?o.removeAttr(t):("string"==typeof e&&~e.indexOf(".")&&(n=e),this.__remove(n,o),o)},__remove:function(e,t){e in this._data&&(this.___remove(e),this._triggerChange(e,"remove",void 0,t))},___remove:function(e){delete this._data[e],e in this.constructor.prototype||delete this[e]},___serialize:function(e,t){return i.getValue(this,e,t,"serialize")},_getAttrs:function(){return i.serialize(this,"attr",{})},_setAttrs:function(t,n){t=e.simpleExtend({},t);var o,r,s=this;for(o in e.batch.start(),this._each((function(o,a){if("_cid"!==a){if(void 0===(r=t[a]))return void(n&&s.removeAttr(a));s.__convert&&(r=s.__convert(a,r)),e.isMapLike(o)&&i.canMakeObserve(r)?o.attr(r,n):o!==r&&s.__set(a,s.__type(r,a),o),delete t[a]}})),t)"_cid"!==o&&(r=t[o],this._set(o,r,!0));return e.batch.stop(),this},serialize:function(){return i.serialize(this,"serialize",{})},_triggerChange:function(t,i,o,r,s){n.isBubbling(this,"change")&&e.batch.trigger(this,{type:"change",target:this,batchNum:s},[t,i,o,r]),e.batch.trigger(this,{type:t,target:this,batchNum:s},[o,r]),("remove"===i||"add"===i)&&e.batch.trigger(this,{type:"__keys",target:this,batchNum:s})},_bindsetup:function(){},_bindteardown:function(){},one:e.one,bind:function(t,i){var o=this._computedAttrs&&this._computedAttrs[t];return o&&o.compute&&(o.count?o.count++:(o.count=1,o.compute.bind("change",o.handler))),n.bind(this,t),e.bindAndSetup.apply(this,arguments)},unbind:function(t,i){var o=this._computedAttrs&&this._computedAttrs[t];return o&&(1===o.count?(o.count=0,o.compute.unbind("change",o.handler)):o.count--),n.unbind(this,t),e.unbindAndTeardown.apply(this,arguments)},compute:function(t){if(e.isFunction(this.constructor.prototype[t]))return e.compute(this[t],this);var n=e.compute.read.reads(t),i=n.length-1;return e.compute((function(t){return arguments.length?void e.compute.read(this,n.slice(0,i)).value.attr(n[i].key,t):e.compute.read(this,n,{args:[]}).value}),this)},each:function(){return e.each.apply(void 0,[this].concat(e.makeArray(arguments)))},_each:function(e){var t=this.___get();for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},dispatch:e.dispatch});return r.prototype.on=r.prototype.bind,r.prototype.off=r.prototype.unbind,r.on=r.bind,r.off=r.unbind,r})),define("can/list/list",["can/util/util","can/map/map","can/map/bubble","can/map/map_helpers"],(function(e,t,n,i){var o=[].splice,r=function(){var e={0:"a",length:1};return o.call(e,0,1),!e[0]}(),s=t.extend({Map:t},{setup:function(t,n){var o;this.length=0,e.cid(this,".map"),this._setupComputedProperties(),t=t||[],e.isPromise(t)?this.replace(t):(o=t.length&&i.addToMap(t,this),this.push.apply(this,e.makeArray(t||[]))),o&&o(),e.simpleExtend(this,n)},_triggerChange:function(n,i,o,r){t.prototype._triggerChange.apply(this,arguments);var s=+n;~(""+n).indexOf(".")||isNaN(s)||("add"===i?(e.batch.trigger(this,i,[o,s]),e.batch.trigger(this,"length",[this.length])):"remove"===i?(e.batch.trigger(this,i,[r,s]),e.batch.trigger(this,"length",[this.length])):e.batch.trigger(this,i,[o,s]))},___get:function(e){if(e){var t=this._computedAttrs[e];return t&&t.compute?t.compute():this[e]}return this},__set:function(t,n,i){if("number"==typeof(t=isNaN(+t)||t%1?t:+t)&&t>this.length-1){var o=new Array(t+1-this.length);return o[o.length-1]=n,this.push.apply(this,o),o}return e.Map.prototype.__set.call(this,""+t,n,i)},___set:function(e,t){this[e]=t,+e>=this.length&&(this.length=+e+1)},__remove:function(e,t){isNaN(+e)?(delete this[e],this._triggerChange(e,"remove",void 0,t)):this.splice(e,1)},_each:function(e){for(var t=this.___get(),n=0;n<t.length;n++)e(t[n],n)},serialize:function(){return i.serialize(this,"serialize",[])},splice:function(t,i){var s,a,l,c=e.makeArray(arguments),u=[],d=c.length>2;for(t=t||0,s=0,a=c.length-2;a>s;s++)c[l=s+2]=this.__type(c[l],l),u.push(c[l]),this[s+t]!==c[l]&&(d=!1);if(d&&this.length<=u.length)return u;void 0===i&&(i=c[1]=this.length-t);var p=o.apply(this,c);if(!r)for(s=this.length;s<p.length+this.length;s++)delete this[s];return e.batch.start(),i>0&&(n.removeMany(this,p),this._triggerChange(""+t,"remove",void 0,p)),c.length>2&&(n.addMany(this,u),this._triggerChange(""+t,"add",u,p)),e.batch.stop(),p},_getAttrs:function(){return i.serialize(this,"attr",[])},_setAttrs:function(t,n){t=e.makeArray(t),e.batch.start(),this._updateAttrs(t,n),e.batch.stop()},_updateAttrs:function(t,n){for(var o=Math.min(t.length,this.length),r=0;o>r;r++){var s=this[r],a=t[r];e.isMapLike(s)&&i.canMakeObserve(a)?s.attr(a,n):s!==a&&this._set(r+"",a)}t.length>this.length?this.push.apply(this,t.slice(this.length)):t.length<this.length&&n&&this.splice(t.length)}}),a=function(t){return t[0]&&e.isArray(t[0])?t[0]:e.makeArray(t)};return e.each({push:"length",unshift:0},(function(t,i){var o=[][i];s.prototype[i]=function(){e.batch.start();for(var i,r,s=[],a=t?this.length:0,l=arguments.length;l--;)r=arguments[l],s[l]=n.set(this,l,this.__type(r,l));return i=o.apply(this,s),(!this.comparator||s.length)&&this._triggerChange(""+a,"add",s,void 0),e.batch.stop(),i}})),e.each({pop:"length",shift:0},(function(t,i){s.prototype[i]=function(){if(this.length){var o=a(arguments),r=t&&this.length?this.length-1:0,s=[][i].apply(this,o);return e.batch.start(),this._triggerChange(""+r,"remove",void 0,[s]),s&&s.unbind&&n.remove(this,s),e.batch.stop(),s}}})),e.extend(s.prototype,{indexOf:function(t,n){return e.__observe(this,"length"),e.inArray(t,this,n)},join:function(){return e.__observe(this,"length"),[].join.apply(this,arguments)},reverse:function(){var t=[].reverse.call(e.makeArray(this));return this.replace(t)},slice:function(){e.__observe(this,"length");var t=Array.prototype.slice.apply(this,arguments);return new this.constructor(t)},concat:function(){var t=[];return e.each(e.makeArray(arguments),(function(n,i){t[i]=n instanceof e.List?n.serialize():n})),new this.constructor(Array.prototype.concat.apply(this.serialize(),t))},forEach:function(t,n){return e.each(this,t,n||this)},replace:function(t){if(e.isPromise(t)){this._promise&&(this._promise.__isCurrentPromise=!1);var n=this._promise=t;n.__isCurrentPromise=!0;var i=this;t.then((function(e){n.__isCurrentPromise&&i.replace(e)}))}else this.splice.apply(this,[0,this.length].concat(e.makeArray(t||[])));return this},filter:function(e,t){var n=new this.constructor,i=this;return this.each((function(o,r,s){e.call(t|i,o,r,i)&&n.push(o)})),n},map:function(t,n){var i=new e.List,o=this;return this.each((function(e,r,s){var a=t.call(n|o,e,r,o);i.push(a)})),i}}),e.List=t.List=s,e.List})),define("can/view/scope/scope",["can/util/util","can/view/scope/compute_data","can/construct/construct","can/map/map","can/list/list","can/view/view","can/compute/compute"],(function(e,t){function n(e,t,n){this._context=e,this._parent=t,this._meta=n||{},this.__cache={}}function i(e,t,i){e.helpers||e.partials||e.tags||(e={helpers:e}),n.call(this,e,t,i)}return e.simpleExtend(n,{read:e.compute.read,Refs:e.Map.extend({shortName:"ReferenceMap"},{}),refsScope:function(){return new e.view.Scope(new this.Refs)}}),e.simpleExtend(n.prototype,{add:function(e,t){return e!==this._context?new this.constructor(e,this,t):this},read:function(t,n){if("%root"===t)return{value:this.getRoot()};var i,o="./"===t.substr(0,2),r="../"===t.substr(0,3),s="."===t||"this"===t,a=".."===t;if((o||r||s||a)&&this._meta.notContext)return this._parent.read(t,n);if(o)i=!0,t=t.substr(2);else{if(r||a){for(var l=this._parent;l._meta.notContext;)l=l._parent;return a?{value:l._context}:l.read(t.substr(3)||".",n)}if(s)return{value:this._context}}var c=e.compute.read.reads(t);return"*"===c[0].key.charAt(0)?this.getRefs()._read(c,n,!0):this._read(c,n,i)},_read:function(t,n,i){for(var o,r,s,a,l,c=this,u=[],d=-1,p=e.simpleExtend({foundObservable:function(e,n){r=e,s=t.slice(n)},earlyExit:function(e,t){t>d&&(l=r,a=s,d=t)}},n);c;){if(null!==(o=c._context)&&("object"==typeof o||"function"==typeof o)){var h=e.__trapObserves(),f=e.compute.read(o,t,p),m=h();if(void 0!==f.value)return e.__observes(m),{scope:c,rootObserve:r,value:f.value,reads:s};u.push.apply(u,m)}c=i?null:c._parent}return e.__observes(u),{setRoot:l,reads:a,value:void 0}},get:e.__notObserve((function(t,n){return n=e.simpleExtend({isArgument:!0},n),this.read(t,n).value})),getScope:function(e){for(var t=this;t;){if(e(t))return t;t=t._parent}},getContext:function(e){var t=this.getScope(e);return t&&t._context},getRefs:function(){return this.getScope((function(e){return e._context instanceof n.Refs}))},getRoot:function(){for(var e=this,t=this;e._parent;)t=e,e=e._parent;return e._context instanceof n.Refs&&(e=t),e._context},set:function(t,n,i){var o,r,s=t.lastIndexOf("."),a=t.lastIndexOf("/");if(a>s?(o=t.substring(0,a),r=t.substring(a+1,t.length)):-1!==s?(o=t.substring(0,s),r=t.substring(s+1,t.length)):(o=".",r=t),"*"===t.charAt(0))e.compute.set(this.getRefs()._context,t,n,i);else{var l=this.read(o,i).value;e.compute.set(l,r,n,i)}},attr:e.__notObserve((function(t,n,i){return i=e.simpleExtend({isArgument:!0},i),2===arguments.length?this.set(t,n,i):this.get(t,i)})),computeData:function(e,n){return t(this,e,n)},compute:function(e,t){return this.computeData(e,t).compute},cloneFromRef:function(){for(var t,i,o=[],r=this;r;){if((t=r._context)instanceof n.Refs){i=r._parent;break}o.unshift(t),r=r._parent}return i?(e.each(o,(function(e){i=i.add(e)})),i):this}}),e.view.Scope=n,i.prototype=new n,i.prototype.constructor=i,e.view.Options=i,n})),define("can/view/stache/utils",["can/util/util","can/view/scope/scope"],(function(can){var Options=can.view.Options;return{isArrayLike:function(e){return e&&e.splice&&"number"==typeof e.length},isObserveLike:function(e){return e instanceof can.Map||e&&!!e._get},emptyHandler:function(){},jsonParse:function(str){return"'"===str[0]?str.substr(1,str.length-2):"undefined"===str?void 0:can.global.JSON?JSON.parse(str):eval("("+str+")")},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(e){this.last().add(e)},subSectionDepth:function(){return this.stack.length-1}},convertToScopes:function(e,t,n,i,o,r,s){o&&(e.fn=this.makeRendererConvertScopes(o,t,n,i,s)),r&&(e.inverse=this.makeRendererConvertScopes(r,t,n,i,s))},makeRendererConvertScopes:function(e,t,n,i,o){var r=function(n,i,o){return e(n||t,i,o)},s=function(e,o,s){return void 0===e||e instanceof can.view.Scope||(e=t.add(e)),void 0===o||o instanceof Options||(o=n.add(o)),r(e,o||n,s||i)};return o?s:can.__notObserve(s)},getItemsFragContent:function(e,t,n){for(var i=this.isObserveLike(e),o=[],r=i?e.attr("length"):e.length,s=0;r>s;s++){var a={"%index":s,"@index":s},l=i?e.attr(""+s):e[s];o.push(t.fn(n.add(a,{notContext:!0}).add(l)))}return o},Options:Options}})),define("can/view/node_lists/node_lists",["can/util/util","can/view/elements"],(function(e){var t=!0;try{document.createTextNode("")._=0}catch(e){t=!1}var n={},i={},o="ejs_"+Math.random(),r=0,s=function(e,n){var s=n||i,l=a(e,s);return l||(t||3!==e.nodeType?(++r,e[o]=(e.nodeName?"element_":"obj_")+r):(s["text_"+ ++r]=e,"text_"+r))},a=function(e,n){if(t||3!==e.nodeType)return e[o];for(var i in n)if(n[i]===e)return i},l=[].splice,c=[].push,u=function(e){for(var t=0,n=0,i=e.length;i>n;n++){var o=e[n];o.nodeType?t++:t+=u(o)}return t},d=function(e,t){for(var n={},i=0,o=e.length;o>i;i++){var r=p.first(e[i]);n[s(r,t)]=e[i]}return n},p={id:s,update:function(t,n){var i=p.unregisterChildren(t);n=e.makeArray(n);var o=t.length;return l.apply(t,[0,o].concat(n)),t.replacements?(p.nestReplacements(t),t.deepChildren=t.newDeepChildren,t.newDeepChildren=[]):p.nestList(t),i},nestReplacements:function(e){for(var t=0,n={},i=d(e.replacements,n),o=e.replacements.length,r={};t<e.length&&o;){var s=e[t],l=a(s,n),c=i[l];c&&(e.splice(t,u(c),c),r[l]=!0,o--),t++}o&&function(e,t,n){for(var i in t)n[i]||e.newDeepChildren.push(t[i])}(e,i,r),e.replacements=[]},nestList:function(e){for(var t=0;t<e.length;){var i=e[t],o=n[s(i)];o?o!==e&&e.splice(t,u(o),o):n[s(i)]=e,t++}},last:function(e){var t=e[e.length-1];return t.nodeType?t:p.last(t)},first:function(e){var t=e[0];return t.nodeType?t:p.first(t)},flatten:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.nodeType?t.push(i):t.push.apply(t,p.flatten(i))}return t},register:function(t,n,i,o){return e.cid(t),t.unregistered=n,t.parentList=i,t.nesting=i&&void 0!==i.nesting?i.nesting+1:0,i?(t.deepChildren=[],t.newDeepChildren=[],t.replacements=[],!0!==i&&(o?i.replacements.push(t):i.newDeepChildren.push(t))):p.nestList(t),t},unregisterChildren:function(t){var i=[];return e.each(t,(function(e){e.nodeType?(t.replacements||delete n[s(e)],i.push(e)):c.apply(i,p.unregister(e,!0))})),e.each(t.deepChildren,(function(e){p.unregister(e,!0)})),i},unregister:function(e,t){var n=p.unregisterChildren(e,!0);if(e.unregistered){var i=e.unregistered;if(e.replacements=e.unregistered=null,!t){var o=e.parentList&&e.parentList.deepChildren;if(o){var r=o.indexOf(e);-1!==r&&o.splice(r,1)}}i()}return n},nodeMap:n};return e.view.nodeLists=p,p})),define("can/view/parser/parser",[],(function(){function e(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function t(t){var n={};return e(t.split(","),(function(e){n[e]=!0})),n}var n="A-Za-z0-9",i="-:_"+n,o=new RegExp("^<(["+n+"]["+i+"]*)((?:\\s*(?:(?:(?:[^=>\\s\\/]+)?(?:\\s*=\\s*(?:(?:\\{\\{[^\\}]\\}\\}\\}?)|(?:\\{[^\\}\\{]\\})|(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)|(?:\\{\\{[^\\}]*\\}\\}\\}?)+))*)\\s*(\\/?)>"),r=new RegExp("^<\\/(["+i+"]+)[^>]*>"),s=new RegExp("\\{\\{([^\\}]*)\\}\\}\\}?","g"),a=/<|\{\{/,l=/\s/,c=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),u=t("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),d=t("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),p=t("altGlyph,altGlyphDef,altGlyphItem,animateColor,animateMotion,animateTransform,clipPath,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,foreignObject,glyphRef,linearGradient,radialGradient,textPath"),h=t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),f=t("script"),m="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),g=function(){},v=function(t,n,i){function l(e,t,i,o){if(t=p[t]?t:t.toLowerCase(),u[t]&&!d[t])for(var r=T.last();r&&d[r]&&!u[r];)y("",r),r=T.last();h[t]&&T.last()===t&&y("",t),o=c[t]||!!o,n.start(t,o),o||T.push(t),v.parseAttrs(i,n),n.end(t,o)}function y(e,t){var i;if(t)for(t=p[t]?t:t.toLowerCase(),i=T.length-1;i>=0&&T[i]!==t;i--);else i=0;if(i>=0){for(var o=T.length-1;o>=i;o--)n.close&&n.close(T[o]);T.length=i}}function _(e,t){n.special&&n.special(t)}if("object"==typeof t)return function(e,t){for(var n=0,i=e.length;i>n;n++){var o=e[n];t[o.tokenType].apply(t,o.args)}return e}(t,n);var b=[];n=n||{},i&&e(m,(function(e){var t=n[e]||g;n[e]=function(){!1!==t.apply(this,arguments)&&b.push({tokenType:e,args:[].slice.call(arguments,0)})}}));var w,C,x,k=function(){A&&n.chars&&n.chars(A),A=""},T=[],S=t,A="";for(T.last=function(){return this[this.length-1]};t;){if(C=!0,T.last()&&f[T.last()])t=t.replace(new RegExp("([\\s\\S]*?)</"+T.last()+"[^>]*>"),(function(e,t){return t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),n.chars&&n.chars(t),""})),y(0,T.last());else if(0===t.indexOf("\x3c!--")?(w=t.indexOf("--\x3e"))>=0&&(k(),n.comment&&n.comment(t.substring(4,w)),t=t.substring(w+3),C=!1):0===t.indexOf("</")?(x=t.match(r))&&(k(),t=t.substring(x[0].length),x[0].replace(r,y),C=!1):0===t.indexOf("<")?(x=t.match(o))&&(k(),t=t.substring(x[0].length),x[0].replace(o,l),C=!1):0===t.indexOf("{{")&&((x=t.match(s))&&(k(),t=t.substring(x[0].length),x[0].replace(s,_))),C){0===(w=t.search(a))&&t===S&&(A+=t.charAt(0),w=(t=t.substr(1)).search(a));var E=0>w?t:t.substring(0,w);t=0>w?"":t.substring(w),E&&(A+=E)}if(t===S)throw new Error("Parse Error: "+t);S=t}return k(),y(),n.done(),b},y=function(e,t,n,i){e.attrStart=i.substring("number"==typeof e.nameStart?e.nameStart:t,t),n.attrStart(e.attrStart),e.inName=!1},_=function(e,t,n,i){void 0!==e.valueStart&&e.valueStart<t?n.attrValue(i.substring(e.valueStart,t)):e.inValue,n.attrEnd(e.attrStart),e.attrStart=void 0,e.valueStart=void 0,e.inValue=!1,e.inName=!1,e.lookingForEq=!1,e.inQuote=!1,e.lookingForName=!0};return v.parseAttrs=function(e,t){if(e){for(var n,i=0,o={inDoubleCurly:!1,inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1};i<e.length;){n=i;var r=e.charAt(i),s=e.charAt(i+1),a=e.charAt(i+2);if(i++,"{"===r&&"{"===s)o.inValue&&n>o.valueStart?t.attrValue(e.substring(o.valueStart,n)):o.inName&&o.nameStart<n?(y(o,n,t,e),_(o,n,t,e)):o.lookingForValue?o.inValue=!0:o.lookingForEq&&o.attrStart&&_(o,n,t,e),o.inDoubleCurly=!0,o.doubleCurlyStart=n+2,i++;else if(o.inDoubleCurly){if("}"===r&&"}"===s){var c="}"===a?1:0;t.special(e.substring(o.doubleCurlyStart,n)),o.inDoubleCurly=!1,o.inValue&&(o.valueStart=n+2+c),i+=1+c}}else o.inValue?o.inQuote?r===o.inQuote&&_(o,n,t,e):l.test(r)&&_(o,n,t,e):"="===r&&(o.lookingForEq||o.lookingForName||o.inName)?(o.attrStart||y(o,n,t,e),o.lookingForValue=!0,o.lookingForEq=!1,o.lookingForName=!1):o.inName?l.test(r)&&(y(o,n,t,e),o.lookingForEq=!0):o.lookingForName?l.test(r)||(o.attrStart&&_(o,n,t,e),o.nameStart=n,o.inName=!0):o.lookingForValue&&(l.test(r)||(o.lookingForValue=!1,o.inValue=!0,"'"===r||'"'===r?(o.inQuote=r,o.valueStart=n+1):o.valueStart=n))}o.inName?(y(o,n+1,t,e),_(o,n+1,t,e)):(o.lookingForEq||o.inValue)&&_(o,n+1,t,e)}},v})),define("can/util/array/diff",[],(function(){var e=[].slice;return function(t,n){for(var i=0,o=0,r=t.length,s=n.length,a=[];r>i&&s>o;){var l=t[i],c=n[o];if(l!==c)if(s>o+1&&n[o+1]===l)a.push({index:o,deleteCount:0,insert:[n[o]]}),i++,o+=2;else{if(!(r>i+1&&t[i+1]===c))return a.push({index:o,deleteCount:r-i,insert:e.call(n,o)}),a;a.push({index:o,deleteCount:1,insert:[]}),i+=2,o++}else i++,o++}return o===s&&i===r||a.push({index:o,deleteCount:r-i,insert:e.call(n,o)}),a}})),define("can/view/live/live",["can/util/util","can/view/elements","can/view/view","can/view/node_lists/node_lists","can/view/parser/parser","can/util/array/diff"],(function(e,t,n,i,o,r){t=t||e.view.elements,i=i||e.view.NodeLists,o=o||e.view.parser;var s=function(t,n,i){var o=!1,r=function(){return o||(o=!0,i(s),e.unbind.call(t,"removed",r)),!0},s={teardownCheck:function(e){return!e&&r()}};return e.bind.call(t,"removed",r),n(s),s},a=function(e){var t=e.childNodes;if("length"in t)return t;for(var n=e.firstChild,i=[];n;)i.push(n),n=n.nextSibling;return i},l=function(e,t,n){return s(e,(function(){t.computeInstance.bind("change",n)}),(function(e){t.computeInstance.unbind("change",n),e.nodeList&&i.unregister(e.nodeList)}))},c=function(e){var t,n={};return o.parseAttrs(e,{attrStart:function(e){n[e]="",t=e},attrValue:function(e){n[t]+=e},attrEnd:function(){}}),n},u=[].splice,d=function(t,n,o,r,s){var l=[];n&&(i.register(l,null,!0,!0),l.parentList=n,l.expression="#each SUBEXPRESSION");var c=function(t){var n="string"==typeof t,i=e.frag(t);return n?e.view.hookup(i):i}(o.apply(r,s.concat([l]))),u=e.makeArray(a(c));return n?(i.update(l,u),t.push(l)):t.push(i.register(u)),c},p=function(t,n,o){var r=t.splice(n+1,o),s=[];return e.each(r,(function(e){var t=i.unregister(e);[].push.apply(s,t)})),s},h=function(e,n,i,o){if(n&&0===e.length){var r=[],s=d(r,o,n,e,[e]);t.after([i[0]],s),i.push(r[0])}},f={},m={registerChildMutationCallback:function(e,t){return t?void(f[e]=t):f[e]},callChildMutationCallback:function(e){var t=e&&f[e.nodeName.toLowerCase()];t&&t(e)},list:function(n,o,a,l,c,f,g){var v,y=f||[n],_=[],b=!1,w=!1,C=function(n,o,r){if(b){var s=S.ownerDocument.createDocumentFragment(),c=[],h=[];e.each(o,(function(t,n){var i=e.compute(n+r),o=d(c,f,a,l,[t,i]);s.appendChild(o),h.push(i)}));var g=r+1;if(!_.length){var v=p(y,0,y.length-1);e.remove(e.$(v))}if(y[g]){var w=i.first(y[g]);e.insertBefore(w.parentNode,s,w)}else t.after(1===g?[S]:[i.last(y[g-1])],s);u.apply(y,[g,0].concat(c)),u.apply(_,[r,0].concat(h));for(var C=r+h.length,x=_.length;x>C;C++)_[C](C);!1!==n.callChildMutationCallback&&m.callChildMutationCallback(S.parentNode)}},x=function(e,t,n){k({},{length:1},n,!0),C({},[t],n)},k=function(t,n,o,r,s){if(b&&(r||!O.teardownCheck(S.parentNode))){0>o&&(o=_.length+o);var a=p(y,o,n.length);_.splice(o,n.length);for(var l=o,c=_.length;c>l;l++)_[l](l);s?i.unregister(y):(h(v,g,y,f),e.remove(e.$(a)),!1!==t.callChildMutationCallback&&m.callChildMutationCallback(S.parentNode))}},T=function(t,n,o,r){if(b){r+=1;var s,a=y[o+=1],l=e.frag(i.flatten(y[r]));s=o>r?i.last(a).nextSibling:i.first(a),y[0].parentNode.insertBefore(l,s);var c=y[r];[].splice.apply(y,[r,1]),[].splice.apply(y,[o,0,c]),o-=1;var u=_[r-=1];[].splice.apply(_,[r,1]),[].splice.apply(_,[o,0,u]);for(var d=Math.min(r,o),p=_.length;p>d;d++)_[d](d);!1!==t.callChildMutationCallback&&m.callChildMutationCallback(S.parentNode)}},S=n.ownerDocument.createTextNode(""),A=function(e){v&&v.unbind&&v.unbind("add",C).unbind("set",x).unbind("remove",k).unbind("move",T),k({callChildMutationCallback:!!e},{length:y.length-1},0,!0,e)},E=function(t,n,i){if(!w){if(b=!0,n&&i){v=n||[];var o=r(i,n);i.unbind&&i.unbind("add",C).unbind("set",x).unbind("remove",k).unbind("move",T);for(var s=0,a=o.length;a>s;s++){var l=o[s];l.deleteCount&&k({callChildMutationCallback:!1},{length:l.deleteCount},l.index,!0),l.insert.length&&C({callChildMutationCallback:!1},l.insert,l.index)}}else i&&A(),C({callChildMutationCallback:!1},v=n||[],0),h(v,g,y,f);m.callChildMutationCallback(S.parentNode),b=!1,v.bind&&v.bind("add",C).bind("set",x).bind("remove",k).bind("move",T),e.batch.afterPreviousEvents((function(){b=!0}))}};c=t.getParentNode(n,c);var O=s(c,(function(){e.isFunction(o)&&o.bind("change",E)}),(function(){e.isFunction(o)&&o.unbind("change",E),A(!0)}));f?(t.replace(y,S),i.update(y,[S]),f.unregistered=function(){O.teardownCheck(),w=!0}):m.replace(y,S,O.teardownCheck),E(0,e.isFunction(o)?o():o)},html:function(n,o,r,s){var c;r=t.getParentNode(n,r),c=l(r,o,(function(e,t,n){i.first(u).parentNode&&d(t);var o=i.first(u).parentNode;c.teardownCheck(o),m.callChildMutationCallback(o)}));var u=s||[n],d=function(n){var o="function"==typeof n,s=function(e){return e&&e.nodeType}(n),l=e.frag(o?"":n),c=e.makeArray(u);(function(e){e.firstChild||e.appendChild(e.ownerDocument.createTextNode(""))})(l),s||o||(l=e.view.hookup(l,r)),c=i.update(u,a(l)),o&&n(l.firstChild),t.replace(c,l)};c.nodeList=u,s?s.unregistered=c.teardownCheck:i.register(u,c.teardownCheck),d(o())},replace:function(n,o,r){var s=n.slice(0),l=e.frag(o);return i.register(n,r),"string"==typeof o&&(l=e.view.hookup(l,n[0].parentNode)),i.update(n,a(l)),t.replace(s,l),n},text:function(n,o,r,s){var a=t.getParentNode(n,r),c=l(a,o,(function(t,n,i){"unknown"!=typeof u.nodeValue&&(u.nodeValue=e.view.toStr(n)),c.teardownCheck(u.parentNode)})),u=n.ownerDocument.createTextNode(e.view.toStr(o()));s?(s.unregistered=c.teardownCheck,c.nodeList=s,i.update(s,[u]),t.replace([n],u)):c.nodeList=m.replace([n],u,c.teardownCheck)},setAttributes:function(t,n){var i=c(n);for(var o in i)e.attr.set(t,o,i[o])},attributes:function(n,i,o){var r={},s=function(i){var o,s=c(i);for(o in s){var a=s[o];a!==r[o]&&e.attr.set(n,o,a),delete r[o]}for(o in r)t.removeAttr(n,o);r=s};l(n,i,(function(e,t){s(t)})),arguments.length>=3?r=c(o):s(i())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(n,i,o){l(n,o,(function(e,o){t.setAttr(n,i,a.render())}));var r,s=e.$(n);(r=e.data(s,"hooks"))||e.data(s,"hooks",r={});var a,c=String(t.getAttr(n,i)),u=c.split(m.attributePlaceholder),d=[];d.push(u.shift(),u.join(m.attributePlaceholder)),r[i]?r[i].computes.push(o):r[i]={render:function(){var e=0;return c?c.replace(m.attributeReplace,(function(){return t.contentText(a.computes[e++]())})):t.contentText(a.computes[e++]())},computes:[o],batchNum:void 0},a=r[i],d.splice(1,0,o()),t.setAttr(n,i,d.join(""))},specialAttribute:function(e,n,i){l(e,i,(function(i,o){t.setAttr(e,n,v(o))})),t.setAttr(e,n,v(i()))},simpleAttribute:function(e,n,i){l(e,i,(function(i,o){t.setAttr(e,n,o)})),t.setAttr(e,n,i())}};m.attr=m.simpleAttribute,m.attrs=m.attributes,m.getAttributeParts=c;var g=/(\r|\n)+/g,v=function(e){return e=e.replace(t.attrReg,"").replace(g,""),/^["'].*["']$/.test(e)?e.substr(1,e.length-2):e};return e.view.live=m,m})),define("can/view/stache/mustache_helpers",["can/util/util","can/view/stache/utils","can/view/live/live"],(function(e,t,n){n=n||e.view.live;var i=function(n){return t.isObserveLike(n)&&t.isArrayLike(n)&&n.attr("length")?n:e.isFunction(n)?n():n},o=function(e){var t={};for(var n in e){var i=e[n];i&&i.isComputed?t[n]=i():t[n]=i}return t},r=function(e){return e&&"function"==typeof e.fn&&"function"==typeof e.inverse},s={each:function(o,r){var s,a,l,c=i(o),u=[];if(c instanceof e.List&&!r.stringOnly)return function(t){var i=[t];i.expression="live.list",e.view.nodeLists.register(i,null,r.nodeList,!0),e.view.nodeLists.update(r.nodeList,[t]);n.list(t,o,(function(e,t,n){return r.fn(r.scope.add({"%index":t,"@index":t},{notContext:!0}).add(e),r.options,n)}),r.context,t.parentNode,i,(function(e,t){return r.inverse(r.scope.add(e),r.options,t)}))};var d=c;if(d&&t.isArrayLike(d)){var p=t.getItemsFragContent(d,r,r.scope);Array.prototype.push.apply(u,p)}else if(t.isObserveLike(d))for(s=e.Map.keys(d),l=0;l<s.length;l++)a=s[l],u.push(r.fn(r.scope.add({"%key":a,"@key":a},{notContext:!0}).add(d[a])));else if(d instanceof Object)for(a in d)u.push(r.fn(r.scope.add({"%key":a,"@key":a},{notContext:!0}).add(d[a])));return r.stringOnly?u.join(""):u},"@index":function(t,n){n||(n=t,t=0);var i=n.scope.attr("@index");return""+((e.isFunction(i)?i():i)+t)},if:function(t,n){return(e.isFunction(t)?e.compute.truthy(t)():!!i(t))?n.fn(n.scope||this):n.inverse(n.scope||this)},is:function(){var t,n,o=arguments[arguments.length-1];if(arguments.length-2<=0)return o.inverse();var r=arguments,s=e.compute((function(){for(var o=0;o<r.length-1;o++){if(n=i(r[o]),n=e.isFunction(n)?n():n,o>0&&n!==t)return!1;t=n}return!0}));return s()?o.fn():o.inverse()},eq:function(){return s.is.apply(this,arguments)},unless:function(t,n){return s.if.apply(this,[t,e.extend({},n,{fn:n.inverse,inverse:n.fn})])},with:function(e,t){var n=e;return(e=i(e))?t.fn(n):void 0},log:function(e,t){"undefined"!=typeof console&&console.log&&(t?console.log(e,t.context):console.log(e.context))},data:function(t){var n=2===arguments.length?this:arguments[1];return function(i){e.data(e.$(i),t,n||this.context)}},switch:function(e,t){i(e);var n=!1,o=t.helpers.add({case:function(t,o){return n||i(e)!==i(t)?void 0:(n=!0,o.fn(o.scope||this))},default:function(e){return n?void 0:e.fn(e.scope||this)}});return t.fn(t.scope,o)},joinBase:function(t){var n=[].slice.call(arguments),o=n.pop(),r=e.map(n,(function(t){var n=i(t);return e.isFunction(n)?n():n})).join(""),s=o.helpers.attr("helpers.module"),a=s?s.uri:void 0,l="."===r[0];if(l&&a)return e.joinURIs(a,r);var c=e.baseURL||"undefined"!=typeof System&&(System.renderingLoader&&System.renderingLoader.baseURL||System.baseURL)||location.pathname;return"/"!==r[0]&&"/"!==c[c.length-1]&&(c+="/"),e.joinURIs(c,r)},routeUrl:function(t,n){return t||(t={}),"function"==typeof t.fn&&"function"==typeof t.inverse&&(t=o(t.hash)),e.route.url(t,"boolean"==typeof n?n:void 0)},routeCurrent:function(t){var n=e.last(arguments),i=n&&r(n);return!n||!i||n.exprData instanceof e.expression.Call?e.route.current(r(t)?{}:t||{}):e.route.current(o(t.hash||{}))?t.fn():t.inverse()}};s.routeCurrent.callAsMethod=!0,s.eachOf=s.each;var a=function(e,t){s[e]=t};return{registerHelper:a,registerSimpleHelper:function(t,n){a(t,e.view.simpleHelper(n))},getHelper:function(e,t){var n=t&&t.get("helpers."+e,{proxyMethods:!1});return n||(n=s[e]),n?{fn:n}:void 0}}})),define("can/view/stache/expression",["can/util/util","can/view/stache/utils","can/view/stache/mustache_helpers","can/view/scope/scope"],(function(e,t,n,i){var o=function(t,n,i){var o=n.computeData(t,i);return e.compute.temporarilyBind(o.compute),o},r=function(e,t,n,i){var r=o(e,t,i);return r.compute.computeInstance.hasDependencies?{value:r.compute,computeData:r}:{value:r.initialValue,computeData:r}},s=function(e,t,i,o){var s=r(e,t,0,o);if(void 0===s.computeData.initialValue){"@"===e.charAt(0)&&"@index"!==e&&(e=e.substr(1));var a=n.getHelper(e,i);s.helper=a&&a.fn}return s},a=function(e){return e instanceof d||e instanceof l||e instanceof p?e:new d(e)},l=function(e){this._value=e};l.prototype.value=function(){return this._value};var c=function(e,t){this.key=e,this.rootExpr=t};c.prototype.value=function(e,t){var n=s(this.key,e,t);return this.isHelper=n.helper&&!n.helper.callAsMethod,n.helper||n.value};var u=function(e,t){c.apply(this,arguments)};u.prototype.value=function(e,t){return r(this.key,e).value};var d=function(e,t){this.expr=e,this.modifiers=t||{},this.isCompute=!1};d.prototype.value=function(){return this.expr.value.apply(this.expr,arguments)};var p=function(e){this.hashExprs=e};p.prototype.value=function(){var t={};for(var n in this.hashExprs){var i=this.hashExprs[n],o=i.value.apply(i,arguments);t[n]={call:o&&o.isComputed&&(!i.modifiers||!i.modifiers.compute),value:o}}return e.compute((function(){var e={};for(var n in t)e[n]=t[n].call?t[n].value():t[n].value;return e}))};var h=function(t,n,i){i&&!e.isEmptyObject(i)&&n.push(new p(i)),this.methodExpr=t,this.argExprs=e.map(n,a)};h.prototype.args=function(e,t){for(var n=[],i=0,o=this.argExprs.length;o>i;i++){var r=this.argExprs[i],s=r.value.apply(r,arguments);n.push({call:s&&s.isComputed&&(!r.modifiers||!r.modifiers.compute),value:s})}return function(){for(var e=[],t=0,i=n.length;i>t;t++)e[t]=n[t].call?n[t].value():n[t].value;return e}},h.prototype.value=function(t,n,i){var o=this.methodExpr.value(t,n);this.isHelper=this.methodExpr.isHelper;var r=this.args(t,n);return e.compute((function(e){var t=o;if(t&&t.isComputed&&(t=t()),"function"==typeof t){var n=r();return i&&n.push(i),arguments.length&&n.unshift(new A.SetIdentifier(e)),t.apply(null,n)}}))};var f=function(){c.apply(this,arguments)};f.prototype.value=function(e,t){var n=s(this.key,e,t,{isArgument:!0,args:[e.attr("."),e]});return n.helper||n.value};var m=function(){c.apply(this,arguments)};m.prototype.value=function(e,t){return r(this.key,e,0,{callMethodsOnObservables:!0,isArgument:!0,args:[e.attr("."),e]}).value};var g=function(e,t,n){this.methodExpr=e,this.argExprs=t,this.hashExprs=n,this.mode=null};g.prototype.args=function(e,t){for(var n=[],i=0,o=this.argExprs.length;o>i;i++){var r=this.argExprs[i];n.push(r.value.apply(r,arguments))}return n},g.prototype.hash=function(e,t){var n={};for(var i in this.hashExprs){var o=this.hashExprs[i];n[i]=o.value.apply(o,arguments)}return n},g.prototype.helperAndValue=function(t,i){var r,s,a,c,u=this.argExprs.length||!e.isEmptyObject(this.hashExprs),d=this.methodExpr instanceof l?""+this.methodExpr._value:this.methodExpr.key;if(u){r=n.getHelper(d,i);var p=t.attr(".");r||"function"!=typeof p[d]||(r={fn:p[d]})}if(!r){c=this.args(t,i);var h=o(d,t,{isArgument:!1,args:c&&c.length?c:[t.attr("."),t]}),f=h.compute;a=h.initialValue,s=h.compute.computeInstance.hasDependencies?f:a,u||void 0!==a||(r=n.getHelper(d,i))}return{value:s,args:c,helper:r&&r.fn}},g.prototype.evaluator=function(n,i,o,r,s,a,l,c){var u={fn:function(){},inverse:function(){},stringOnly:c},d=i.attr("."),p=this.args(i,o,s,a,l,c),h=this.hash(i,o,s,a,l,c);return t.convertToScopes(u,i,o,s,a,l,c),e.simpleExtend(u,{context:d,scope:i,contexts:i,hash:h,nodeList:s,exprData:this,helperOptions:o,helpers:o}),p.push(u),function(){return n.apply(d,p)}},g.prototype.value=function(t,n,i,o,r,s){var a=this.helperAndValue(t,n),l=a.helper;if(!l)return a.value;var c=this.evaluator(l,t,n,i,o,r,s),u=e.compute(c);return e.compute.temporarilyBind(u),u.computeInstance.hasDependencies?u:u()};var v=/[\w\.\\\-_@\/\&%]+/,y=/('.*?'|".*?"|=|[\w\.\\\-_@\/*%\$:]+|[\(\)]|,|\~)/g,_=/^('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)$/,b=/^[\.@]\w/,w=function(e){return function(e){return v.test(e)}(e)&&b.test(e)},C=function(e){return e.children||(e.children=[]),e},x=function(){this.root={children:[],type:"Root"},this.current=this.root,this.stack=[this.root]};e.simpleExtend(x.prototype,{top:function(){return e.last(this.stack)},isRootTop:function(){return this.top()===this.root},popTo:function(e){this.popUntil(e),this.isRootTop()||this.stack.pop()},firstParent:function(t){for(var n=this.stack.length-2;n>0&&-1===e.inArray(this.stack[n].type,t);)n--;return this.stack[n]},popUntil:function(t){for(;-1===e.inArray(this.top().type,t)&&!this.isRootTop();)this.stack.pop();return this.top()},addTo:function(e,t){var n=this.popUntil(e);C(n).children.push(t)},addToAndPush:function(e,t){this.addTo(e,t),this.stack.push(t)},topLastChild:function(){return e.last(this.top().children)},replaceTopLastChild:function(e){var t=C(this.top()).children;return t.pop(),t.push(e),e},replaceTopLastChildAndPush:function(e){this.replaceTopLastChild(e),this.stack.push(e)},replaceTopAndPush:function(e){var t;return this.top()===this.root||this.stack.pop(),(t=C(this.top()).children).pop(),t.push(e),this.stack.push(e),e}});var k=function(e){var t=e.lastIndexOf("./"),n=e.lastIndexOf(".");if(n>t)return e.substr(0,n)+"@"+e.substr(n+1);var i=-1===t?0:t+2,o=e.charAt(i);return"."===o||"@"===o?e.substr(0,i)+"@"+e.substr(i+1):e.substr(0,i)+"@"+e.substr(i)},T=function(e){return"Lookup"===e.type&&(e.key=k(e.key)),e},S=function(e){var t=e.top();if(t&&"Lookup"===t.type){var n=e.stack[e.stack.length-2];"Helper"!==n.type&&n&&e.replaceTopAndPush({type:"Helper",method:t})}},A={convertKeyToLookup:k,Literal:l,Lookup:c,ScopeLookup:u,Arg:d,Hashes:p,Call:h,Helper:g,HelperLookup:f,HelperScopeLookup:m,SetIdentifier:function(e){this.value=e},tokenize:function(t){var n=[];return(e.trim(t)+" ").replace(y,(function(e,t){n.push(t)})),n},lookupRules:{default:function(e,t,n){var i=("Helper"!==t||e.root?"":"Helper")+(n?"Scope":"")+"Lookup";return A[i]},method:function(e,t,n){return u}},methodRules:{default:function(e){return"Call"===e.type?h:g},call:function(e){return h}},parse:function(e,t){t=t||{};var n=this.ast(e);return t.lookupRule||(t.lookupRule="default"),"string"==typeof t.lookupRule&&(t.lookupRule=A.lookupRules[t.lookupRule]),t.methodRule||(t.methodRule="default"),"string"==typeof t.methodRule&&(t.methodRule=A.methodRules[t.methodRule]),this.hydrateAst(n,t,t.baseMethodType||"Helper")},hydrateAst:function(t,n,i,o){var r,s=this;if("Lookup"===t.type)return new(n.lookupRule(t,i,o))(t.key,t.root&&this.hydrateAst(t.root,n,i));if("Literal"===t.type)return new l(t.value);if("Arg"===t.type)return new d(this.hydrateAst(t.children[0],n,i,o),{compute:!0});if("Hashes"===t.type)return r={},e.each(t.children,(function(e){r[e.prop]=s.hydrateAst(e.children[0],n,t.type,!0)})),new p(r);if("Hash"===t.type)throw new Error("");if("Call"===t.type||"Helper"===t.type){var a=[];return r={},e.each(t.children,(function(e){"Hash"===e.type?r[e.prop]=s.hydrateAst(e.children[0],n,t.type,!0):a.push(s.hydrateAst(e,n,t.type,!0))})),new(n.methodRule(t))(this.hydrateAst(t.method,n,t.type),a,r)}},ast:function(e){var t=this.tokenize(e);return this.parseAst(t,{index:0})},parseAst:function(n,i){for(var o,r=new x;i.index<n.length;){var s=n[i.index],a=n[i.index+1];if(i.index++,_.test(s))S(r),r.addTo(["Helper","Call","Hash"],{type:"Literal",value:t.jsonParse(s)});else if("="===a){if((o=r.top())&&"Lookup"===o.type){var l=r.firstParent(["Call","Helper","Hash"]);("Call"===l.type||"Root"===l.type)&&(r.popUntil(["Call"]),o=r.top(),r.replaceTopAndPush({type:"Helper",method:"Root"===o.type?e.last(o.children):o}))}"Call"===(o=r.popUntil(["Helper","Call","Hashes"])).type&&r.addToAndPush(["Call"],{type:"Hashes"}),r.addToAndPush(["Helper","Hashes"],{type:"Hash",prop:s}),i.index++}else if(v.test(s)){var c=r.topLastChild();c&&"Call"===c.type&&w(s)?r.replaceTopLastChildAndPush({type:"Lookup",root:c,key:s}):(S(r),r.addToAndPush(["Helper","Call","Hash","Arg"],{type:"Lookup",key:s}))}else if("~"===s)S(r),r.addToAndPush(["Helper","Call","Hash"],{type:"Arg",key:s});else if("("===s){if("Lookup"!==(o=r.top()).type)throw new Error("Unable to understand expression "+n.join(""));r.replaceTopAndPush({type:"Call",method:T(o)})}else")"===s?r.popTo(["Call"]):","===s&&r.popUntil(["Call"])}return r.root.children[0]}};return e.expression=A,A})),define("can/view/href/href",["can/util/util","can/view/stache/expression","can/view/callbacks/callbacks","can/view/scope/scope"],(function(e,t){e.view.attr("can-href",(function(n,i){var o=t.parse("tmp("+function(e){return"{"===e[0]&&"}"===e[e.length-1]?e.substr(1,e.length-2):e}(n.getAttribute("can-href"))+")",{baseMethodType:"Call"}).argExprs[0].value(i.scope,null),r=e.compute((function(){return e.route.url(o())}));n.setAttribute("href",r());var s=function(e,t){n.setAttribute("href",t)};r.bind("change",s),e.bind.call(n,"removed",(function(){r.unbind("change",s)}))}))})),define("can/view/bindings/bindings",["can/util/util","can/view/stache/expression","can/view/callbacks/callbacks","can/view/live/live","can/view/scope/scope","can/view/href/href"],(function(e,t,n,i){var o={viewModel:function(t,n,i,o){o=o||{};var r,s={},a=[],l={},c={},u=e.extend({},o);e.each(e.makeArray(t.attributes),(function(e){var i=d(e,t,{templateType:n.templateType,scope:n.scope,semaphore:s,getViewModel:function(){return r},attributeViewModelBindings:u,alreadyUpdatedChild:!0,nodeList:n.parentNodeList});i&&(i.onCompleteBinding&&(i.bindingInfo.parentToChild&&void 0!==i.value&&(o[y(i.bindingInfo.childName)]=i.value),a.push(i.onCompleteBinding)),l[e.name]=i.onTeardown)})),r=i(o);for(var p=0,h=a.length;h>p;p++)a[p]();return e.bind.call(t,"attributes",(function(e){var i=e.attributeName,o=t.getAttribute(i);l[i]&&l[i]();var s=c[i]&&"attribute"===c[i].parent;if(null!==o||s){var a=d({name:i,value:o},t,{templateType:n.templateType,scope:n.scope,semaphore:{},getViewModel:function(){return r},attributeViewModelBindings:u,initializeValues:!0,nodeList:n.parentNodeList});a&&(a.onCompleteBinding&&a.onCompleteBinding(),c[i]=a.bindingInfo,l[i]=a.onTeardown)}})),function(){for(var e in l)l[e]()}},data:function(t,n){if(!e.data(e.$(t),"preventDataBindings")){var i,o=e.viewModel(t),r={},s=d({name:n.attributeName,value:t.getAttribute(n.attributeName),nodeList:n.nodeList},t,{templateType:n.templateType,scope:n.scope,semaphore:r,getViewModel:function(){return o}});s.onCompleteBinding&&s.onCompleteBinding(),i=s.onTeardown,e.one.call(t,"removed",(function(){i()})),e.bind.call(t,"attributes",(function(e){var s=e.attributeName,a=t.getAttribute(s);if(s===n.attributeName&&(i&&i(),null!==a)){var l=d({name:s,value:a},t,{templateType:n.templateType,scope:n.scope,semaphore:r,getViewModel:function(){return o},initializeValues:!0,nodeList:n.nodeList});l&&(l.onCompleteBinding&&l.onCompleteBinding(),i=l.onTeardown)}}))}},reference:function(t,n){t.getAttribute(n.attributeName)&&console.warn("*reference attributes can only export the view model.");var i=e.camelize(n.attributeName.substr(1).toLowerCase()),o=e.viewModel(t);n.scope.getRefs()._context.attr("*"+i,o)},event:function(n,i){var o=i.attributeName,r=0===o.indexOf("can-"),s=0===o.indexOf("can-")?o.substr("can-".length):e.camelize(m(o,"(",")")),a=r;"$"===s.charAt(0)&&(s=s.substr(1),a=!0);var l=function(r){var s=n.getAttribute(o);if(s){var a=e.$(n),l=e.viewModel(a[0]),c=t.parse(m(s),{lookupRule:"method",methodRule:"call"});if(!(c instanceof t.Call||c instanceof t.Helper)){var u=e.map([i.scope._context,a].concat(e.makeArray(arguments)),(function(e){return new t.Literal(e)}));c=new t.Call(c,u,{})}var d=i.scope.add({"@element":a,"@event":r,"@viewModel":l,"@scope":i.scope,"@context":i.scope._context,"%element":this,$element:a,"%event":r,"%viewModel":l,"%scope":i.scope,"%context":i.scope._context},{notContext:!0}),p=d.read(c.methodExpr.key,{isArgument:!0});if(!p.value)return p=d.read(c.methodExpr.key,{isArgument:!0}),null;var h=c.args(d,null)();return p.value.apply(p.parent,h)}};if(_[s]){var c=_[s](i,n,l);l=c.handler,s=c.event}e.bind.call(a?n:e.viewModel(n),s,l);var u=function(t){t.attributeName!==o||this.getAttribute(o)||(e.unbind.call(a?n:e.viewModel(n),s,l),e.unbind.call(n,"attributes",u))};e.bind.call(n,"attributes",u)},value:function(t,n){var i,o="$value",s=e.trim(m(t.getAttribute("can-value")));if("input"!==t.nodeName.toLowerCase()||"checkbox"!==t.type&&"radio"!==t.type)f(t)&&(o="$innerHTML");else{var a=r.scope(t,n.scope,s,{},!0);if("checkbox"===t.type){var l=!e.attr.has(t,"can-true-value")||t.getAttribute("can-true-value"),c=!!e.attr.has(t,"can-false-value")&&t.getAttribute("can-false-value");i=e.compute((function(e){return arguments.length?void a(e?l:c):a()==l}))}else"radio"===t.type&&(i=e.compute((function(e){return arguments.length?void(e&&a(t.value)):a()==t.value})));o="$checked",s="getterSetter",n.scope=new e.view.Scope({getterSetter:i})}var u=d({name:"{("+o+"})",value:s},t,{templateType:n.templateType,scope:n.scope,semaphore:{},initializeValues:!0,legacyBindings:!0,syncChildWithParent:!0});e.one.call(t,"removed",(function(){u.onTeardown()}))}};e.view.attr(/^\{[^\}]+\}$/,o.data),e.view.attr(/\*[\w\.\-_]+/,o.reference),e.view.attr(/^\([\$?\w\.\-]+\)$/,o.event),e.view.attr(/can-[\w\.]+/,o.event),e.view.attr("can-value",o.value);var r={scope:function(n,i,o,r,s,a){return o?s?t.parse(o,{baseMethodType:"Call"}).value(i,new e.view.Options({})):function(e){i.attr(y(o),e)}:e.compute()},viewModel:function(t,n,i,o,r,s){var a=y(i);return r?e.compute((function(t){var n=o.getViewModel();return arguments.length?void n.attr(a,t):"."===i?n:e.compute.read(n,e.compute.read.reads(i),{}).value})):function(t){var n,i=o.getViewModel();s?((n=i._get(a,{readCompute:!1}))&&n.isComputed||(n=e.compute(),i._set(a,n,{readCompute:!1})),n(t)):i.attr(a,t)}},attribute:function(t,n,i,o,r,s,a){var l,c,u,d,p="select"===t.nodeName.toLowerCase(),h="value"===i&&p&&t.multiple,f=!1;a||(a="innerHTML"===i?["blur","change"]:"change"),e.isArray(a)||(a=[a]);var m,g=function(n){if(p&&!f&&(clearTimeout(c),c=setTimeout((function(){g(n)}),1)),n,h){n&&"string"==typeof n?(n=n.split(";"),l=!0):n=n?e.makeArray(n):[];var r={};e.each(n,(function(e){r[e]=!0})),e.each(t.childNodes,(function(e){e.value&&(e.selected=!!r[e.value])}))}else!o.legacyBindings&&p&&"selectedIndex"in t&&"value"===i?e.attr.setSelectValue(t,n):e.attr.setAttrOrProp(t,i,null==n?"":n);return n},v=function(){if(h){var n=[],o=t.childNodes;return e.each(o,(function(e){e.selected&&e.value&&n.push(e.value)})),l?n.join(";"):n}return p&&"selectedIndex"in t&&-1===t.selectedIndex?void 0:e.attr.get(t,i)};return p&&setTimeout((function(){f=!0}),1),t.tagName&&"input"===t.tagName.toLowerCase()&&t.form&&(u=[{el:t.form,eventName:"reset",handler:function(){g(d)}}]),d=v(),e.compute(d,{on:function(n){if(e.each(a,(function(i){e.bind.call(t,i,n)})),e.each(u,(function(t){e.bind.call(t.el,t.eventName,t.handler)})),p){var i=function(e){s&&g(s()),n()};e.attr.MutationObserver?(m=new e.attr.MutationObserver(i)).observe(t,{childList:!0,subtree:!0}):e.data(e.$(t),"canBindingCallback",{onMutation:i})}},off:function(n){e.each(a,(function(i){e.unbind.call(t,i,n)})),e.each(u,(function(t){e.unbind.call(t.el,t.eventName,t.handler)})),p&&(e.attr.MutationObserver?m.disconnect():e.data(e.$(t),"canBindingCallback",null))},get:v,set:g})}},s=function(t,n,i,o,r,s){var a="function"==typeof n,l=function(t,l){o[r]||(a?(n(l),s&&n()!==i()&&(o[r]=(o[r]||0)+1,e.batch.start(),i(n()),e.batch.after((function(){--o[r]})),e.batch.stop())):n instanceof e.Map&&n.attr(l,!0))};return i&&i.isComputed&&i.bind("change",l),l},a=function(t,n,i,o,r){var s=function(t,n){o[r]=(o[r]||0)+1,e.batch.start(),i(n),e.batch.after((function(){--o[r]})),e.batch.stop()};return n&&n.isComputed&&n.bind("change",s),s},l=function(t,i,o,r){var s,a=t.name,l=t.value||"",d=a.match(c);if(!d){var p=u.test(a),h=e.camelize(a);if(p||n.attr(a))return;var f="{"===l[0]&&"}"===e.last(l),m="legacy"===o?i[h]:!f,g=f?l.substr(1,l.length-2):l;return m?{bindingAttributeName:a,parent:"attribute",parentName:a,child:"viewModel",childName:h,parentToChild:!0,childToParent:!0}:{bindingAttributeName:a,parent:"scope",parentName:g,child:"viewModel",childName:h,parentToChild:!0,childToParent:!0}}var v=!!d[1],y=v||!!d[2],_=v||!y,b=d[3];return"$"===b.charAt(0)?(s={parent:"scope",child:"attribute",childToParent:y,parentToChild:_,bindingAttributeName:a,childName:b.substr(1),parentName:l,initializeValues:!0},"select"===r&&(s.stickyParentToChild=!0),s):(s={parent:"scope",child:"viewModel",childToParent:y,parentToChild:_,bindingAttributeName:a,childName:e.camelize(b),parentName:l,initializeValues:!0},"~"===l.trim().charAt(0)&&(s.stickyParentToChild=!0),s)},c=/\{(\()?(\^)?([^\}\)]+)\)?\}/,u=/^(data-view-id|class|id|\[[\w\.-]+\]|#[\w\.-])$/i,d=function(t,n,i){var o=l(t,i.attributeViewModelBindings,i.templateType,n.nodeName.toLowerCase());if(o){o.alreadyUpdatedChild=i.alreadyUpdatedChild,i.initializeValues&&(o.initializeValues=!0);var c,u,d,h=r[o.parent](n,i.scope,o.parentName,i,o.parentToChild),f=r[o.child](n,i.scope,o.childName,i,o.childToParent,o.stickyParentToChild&&h);i.nodeList&&(h&&h.isComputed&&h.computeInstance.setPrimaryDepth(i.nodeList.nesting+1),f&&f.isComputed&&f.computeInstance.setPrimaryDepth(i.nodeList.nesting+1)),o.parentToChild&&(u=a(n,h,f,i.semaphore,o.bindingAttributeName));var m=function(){o.childToParent?c=s(n,h,f,i.semaphore,o.bindingAttributeName,i.syncChildWithParent):o.stickyParentToChild&&f.bind("change",d=e.k),o.initializeValues&&p(o,f,h,u,c)},y=function(){v(h,u),v(f,c),v(f,d)};return"viewModel"===o.child?{value:g(h),onCompleteBinding:m,bindingInfo:o,onTeardown:y}:(m(),{bindingInfo:o,onTeardown:y})}},p=function(e,t,n,i,o){var r=!1;e.parentToChild&&!e.childToParent?e.stickyParentToChild&&i({},g(n)):!e.parentToChild&&e.childToParent?r=!0:void 0===g(t)||void 0===g(n)&&(r=!0),r?o({},g(t)):e.alreadyUpdatedChild||i({},g(n))};if(!e.attr.MutationObserver){var h=function(t){var n=e.data(e.$(t),"canBindingCallback");n&&n.onMutation(t)};i.registerChildMutationCallback("select",h),i.registerChildMutationCallback("optgroup",(function(e){h(e.parentNode)}))}var f=function(){var e={"":!0,true:!0,false:!1},t=function(t){if(t&&t.getAttribute){var n=t.getAttribute("contenteditable");return e[n]}};return function(e){var n=t(e);return"boolean"==typeof n?n:!!t(e.parentNode)}}(),m=function(e,t,n){return t=t||"{",n=n||"}",e[0]===t&&e[e.length-1]===n?e.substr(1,e.length-2):e},g=function(e){return e&&e.isComputed?e():e},v=function(e,t){e&&e.isComputed&&"function"==typeof t&&e.unbind("change",t)},y=function(e){return e.replace(/@/g,"")},_={enter:function(e,t,n){return{event:"keyup",handler:function(e){return 13===e.keyCode?n.call(this,e):void 0}}}};return e.bindings={behaviors:o,getBindingInfo:l,special:_},e.bindings})),define("can/control/control",["can/util/util","can/construct/construct"],(function(e){var t,n=e.isFunction,i=e.extend,o=e.each,r=[].slice,s=/\{([^\}]+)\}/g,a=e.getObject("$.event.special",[e])||{},l=function(t,n,i,o){return o?function(t,n,i,o){return e.delegate.call(t,n,i,o),function(){e.undelegate.call(t,n,i,o)}}(t,e.trim(o),n,i):function(t,n,i){return e.bind.call(t,n,i),function(){e.unbind.call(t,n,i)}}(t,n,i)},c=e.Control=e.Construct({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Control){var t,n=this;for(t in n.actions={},n.prototype)n._isAction(t)&&(n.actions[t]=n._action(t))}},_shifter:function(t,i){var o="string"==typeof i?t[i]:i;return n(o)||(o=t[o]),function(){return t.called=i,o.apply(t,[this.nodeName?e.$(this):this].concat(r.call(arguments,0)))}},_isAction:function(e){var t=this.prototype[e],i=typeof t;return"constructor"!==e&&("function"===i||"string"===i&&n(this.prototype[t]))&&!!(a[e]||u[e]||/[^\w]/.test(e))},_action:function(n,i){if(s.lastIndex=0,i||!s.test(n)){var o=i?e.sub(n,this._lookup(i)):n;if(!o)return null;var r=e.isArray(o),a=r?o[1]:o,l=a.split(/\s+/g),c=l.pop();return{processor:u[c]||t,parts:[a,l.join(" "),c],delegate:r?o[0]:void 0}}},_lookup:function(e){return[e,window]},processors:{},defaults:{}},{setup:function(t,n){var o,r=this.constructor,s=r.pluginName||r._fullName;return this.element=e.$(t),s&&"can_control"!==s&&this.element.addClass(s),(o=e.data(this.element,"controls"))||(o=[],e.data(this.element,"controls",o)),o.push(this),this.options=i({},r.defaults,n),this.on(),[this.element,this.options]},on:function(t,n,i,o){if(!t){this.off();var r,s,a=this.constructor,c=this._bindings,u=a.actions,d=this.element,p=e.Control._shifter(this,"destroy");for(r in u)u.hasOwnProperty(r)&&((s=u[r]||a._action(r,this.options,this))&&(c.control[r]=s.processor(s.delegate||d,s.parts[2],s.parts[1],r,this)));return e.bind.call(d,"removed",p),c.user.push((function(t){e.unbind.call(t,"removed",p)})),c.user.length}return"string"==typeof t&&(o=i,i=n,n=t,t=this.element),void 0===o&&(o=i,i=n,n=null),"string"==typeof o&&(o=e.Control._shifter(this,o)),this._bindings.user.push(l(t,i,o,n)),this._bindings.user.length},off:function(){var e=this.element[0],t=this._bindings;t&&(o(t.user||[],(function(t){t(e)})),o(t.control||{},(function(t){t(e)}))),this._bindings={user:[],control:{}}},destroy:function(){if(null!==this.element){var t,n=this.constructor,i=n.pluginName||n._fullName;this.off(),i&&"can_control"!==i&&this.element.removeClass(i),(t=e.data(this.element,"controls")).splice(e.inArray(this,t),1),e.trigger(this,"destroyed"),this.element=null}}}),u=e.Control.processors;return t=function(t,n,i,o,r){return l(t,n,e.Control._shifter(r,o),i)},o(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed","dragstart","dragenter","dragover","dragleave","drag","drop","dragend"],(function(e){u[e]=t})),c})),define("can/observe/observe",["can/util/util","can/map/map","can/list/list","can/compute/compute"],(function(e){return e.Observe=e.Map,e.Observe.startBatch=e.batch.start,e.Observe.stopBatch=e.batch.stop,e.Observe.triggerBatch=e.batch.trigger,e})),define("can/view/scanner",["can/view/view","can/view/elements","can/view/callbacks/callbacks"],(function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(e){return e.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t")},getTag=function(e,t,n){if(e)return e;for(;n<t.length;){if("<"===t[n]&&!notEndTag.test(t[n+1]))return elements.reverseTagMap[t[n+1]]||"span";n++}return""},bracketNum=function(e){return--e.split("{").length- --e.split("}").length},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var e=beforeQuote.match(attrReg);return e&&e[1]},status=function(){return quote?"'"+getAttrName()+"'":htmlTag?1:0},top=function(e){return e[e.length-1]},Scanner;return can.view.Scanner=Scanner=function(e){can.extend(this,{text:{},tokens:[]},e),this.text.options=this.text.options||"",this.tokenReg=[],this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"},this.tokenComplex=[],this.tokenMap={};for(var t,n=0;t=this.tokens[n];n++)t[2]?(this.tokenReg.push(t[2]),this.tokenComplex.push({abbr:t[1],re:new RegExp(t[2]),rescan:t[3]})):(this.tokenReg.push(t[1]),this.tokenSimple[t[1]]=t[0]),this.tokenMap[t[0]]=t[1];this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")},Scanner.prototype={helpers:[],scan:function(e,t){var n=[],i=0,o=this.tokenSimple,r=this.tokenComplex;e=e.replace(newLine,"\n"),this.transform&&(e=this.transform(e)),e.replace(this.tokenReg,(function(t,s){var a=arguments[arguments.length-2];if(a>i&&n.push(e.substring(i,a)),o[t])n.push(t);else for(var l,c=0;l=r[c];c++)if(l.re.test(t)){n.push(l.abbr),l.rescan&&n.push(l.rescan(s));break}i=a+s.length})),i<e.length&&n.push(e.substr(i));var s,a,l,c,u="",d=[startTxt+(this.text.start||"")],p=function(e,t){d.push(put_cmd,'"',clean(e),'"'+(t||"")+");")},h=[],f=null,m=!1,g={attributeHookups:[],tagHookups:[],lastTagHookup:""},v=function(){g.lastTagHookup=g.tagHookups.pop()+g.tagHookups.length},y="",_=[],b=!1,w=!1,C=0,x=this.tokenMap;for(htmlTag=quote=beforeQuote=null;void 0!==(l=n[C++]);){if(null===f)switch(l){case x.left:case x.escapeLeft:case x.returnLeft:m=htmlTag&&1;case x.commentLeft:f=l,u.length&&p(u),u="";break;case x.escapeFull:m=htmlTag&&1,rescan=1,f=x.escapeLeft,u.length&&p(u),u=(rescan=n[C++]).content||rescan,rescan.before&&p(rescan.before),n.splice(C,0,x.right);break;case x.commentFull:break;case x.templateLeft:u+=x.left;break;case"<":0!==n[C].indexOf("!--")&&(htmlTag=1,m=0),u+=l;break;case">":htmlTag=0;var k="/"===u.substr(u.length-1)||"--"===u.substr(u.length-2),T="";if(g.attributeHookups.length&&(T="attrs: ['"+g.attributeHookups.join("','")+"'], ",g.attributeHookups=[]),y+g.tagHookups.length!==g.lastTagHookup&&y===top(g.tagHookups))k&&(u=u.substr(0,u.length-1)),d.push(put_cmd,'"',clean(u),'"',",can.view.pending({tagName:'"+y+"',"+T+"scope: "+(this.text.scope||"this")+this.text.options),k?(d.push("}));"),u="/>",v()):"<"===n[C]&&n[C+1]==="/"+y?(d.push("}));"),u=l,v()):(d.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||"")),u="");else if(m||!b&&elements.tagToContentPropMap[_[_.length-1]]||T){var S=",can.view.pending({"+T+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';k?p(u.substr(0,u.length-1),S+'/>"'):p(u,S+'>"'),u="",m=0}else u+=l;(k||b)&&(_.pop(),y=_[_.length-1],b=!1),g.attributeHookups=[];break;case"'":case'"':if(htmlTag)if(quote&&quote===l){quote=null;var A=getAttrName();if(viewCallbacks.attr(A)&&g.attributeHookups.push(A),w){p(u+=l),d.push(finishTxt,"}));\n"),u="",w=!1;break}}else if(null===quote&&(quote=l,beforeQuote=s,c=getAttrName(),"img"===y&&"src"===c||"style"===c)){p(u.replace(attrReg,"")),u="",w=!0,d.push(insert_cmd,"can.view.txt(2,'"+getTag(y,n,C)+"',"+status()+",this,function(){",startTxt),p(c+"="+l);break}default:if("<"===s){var E,O=!1;0===(y="!--"===l.substr(0,3)?"!--":l.split(/\s/)[0]).indexOf("/")&&(O=!0,E=y.substr(1)),O?(top(_)===E&&(y=E,b=!0),top(g.tagHookups)===E&&(p(u.substr(0,u.length-1)),d.push(finishTxt+"}}) );"),u="><",v())):(y.lastIndexOf("/")===y.length-1&&(y=y.substr(0,y.length-1)),"!--"!==y&&viewCallbacks.tag(y)&&("content"===y&&elements.tagMap[top(_)]&&(l=l.replace("content",elements.tagMap[top(_)])),g.tagHookups.push(y)),_.push(y))}u+=l}else switch(l){case x.right:case x.returnRight:switch(f){case x.left:1===(a=bracketNum(u))?(d.push(insert_cmd,"can.view.txt(0,'"+getTag(y,n,C)+"',"+status()+",this,function(){",startTxt,u),h.push({before:"",after:finishTxt+"}));\n"})):((i=h.length&&-1===a?h.pop():{after:";"}).before&&d.push(i.before),d.push(u,";",i.after));break;case x.escapeLeft:case x.returnLeft:(a=bracketNum(u))&&h.push({before:finishTxt,after:"}));\n"});for(var M=f===x.escapeLeft?1:0,$={insert:insert_cmd,tagName:getTag(y,n,C),status:status(),specialAttribute:w},F=0;F<this.helpers.length;F++){var P=this.helpers[F];if(P.name.test(u)){u=P.fn(u,$),P.name.source===/^>[\s]*\w*/.source&&(M=0);break}}"object"==typeof u?u.startTxt&&u.end&&w?d.push(insert_cmd,"can.view.toStr( ",u.content,"() ) );"):(u.startTxt?d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||(null!=u.escaped?u.escaped:M))+",\n'"+y+"',\n"+status()+",\nthis,\n"):u.startOnlyTxt&&d.push(insert_cmd,"can.view.onlytxt(this,\n"),d.push(u.content),u.end&&d.push("));")):w?d.push(insert_cmd,u,");"):d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||M)+",\n'"+y+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",u,a?startTxt:"}));\n"),rescan&&rescan.after&&rescan.after.length&&(p(rescan.after.length),rescan=null)}f=null,u="";break;case x.templateLeft:u+=x.left;break;default:u+=l}s=l}u.length&&p(u),d.push(";");var j=d.join(""),I={out:(this.text.outStart||"")+j+" "+finishTxt+(this.text.outEnd||"")};return myEval.call(I,"this.fn = (function("+this.text.argNames+"){"+I.out+"});\r\n//# sourceURL="+t+".js"),I}},can.view.pending=function(e){var t=can.view.getHooks();return can.view.hook((function(n){can.each(t,(function(e){e(n)})),e.templateType="legacy",e.tagName&&viewCallbacks.tagHandler(n,e.tagName,e),can.each(e&&e.attrs||[],(function(t){e.attributeName=t;var i=viewCallbacks.attr(t);i&&i(n,e)}))}))},can.view.tag("content",(function(e,t){return t.scope})),can.view.Scanner=Scanner,Scanner})),define("can/view/render",["can/view/view","can/view/elements","can/view/live/live","can/util/string/string"],(function(e,t,n){var i,o=[],r=function(e){var n=t.tagMap[e]||"span";return"span"===n?"@@!!@@":"<"+n+">"+r(n)+"</"+n+">"},s=function(t,n){if("string"==typeof t)return t;if(!t&&0!==t)return"";var i=t.hookup&&function(e,n){t.hookup.call(t,e,n)}||"function"==typeof t&&t;return i?n?"<"+n+" "+e.view.hook(i)+"></"+n+">":(o.push(i),""):""+t},a=function(t,n){return"string"==typeof t||"number"==typeof t?e.esc(t):s(t,n)},l=!1,c=function(){};return e.extend(e.view,{live:n,setupLists:function(){var t,n=e.view.lists;return e.view.lists=function(e,n){return t={list:e,renderer:n},Math.random()},function(){return e.view.lists=n,t}},getHooks:function(){var e=o.slice(0);return i=e,o=[],e},onlytxt:function(e,t){return a(t.call(e))},txt:function(u,d,p,h,f){var m,g,v,y,_=t.tagMap[d]||"span",b=!1,w=c;if(l)m=f.call(h);else{("string"==typeof p||1===p)&&(l=!0);var C=e.view.setupLists();w=function(){v.unbind("change",c)},(v=e.compute(f,h,!1)).bind("change",c),g=C(),m=v(),l=!1,b=v.computeInstance.hasDependencies}if(g)return w(),"<"+_+e.view.hook((function(e,t){n.list(e,g.list,g.renderer,h,t)}))+"></"+_+">";if(!b||"function"==typeof m)return w(),(l||2===u||!u?s:a)(m,0===p&&_);var x=t.tagToContentPropMap[d];if(0!==p||x)return 1===p?(o.push((function(e){n.attributes(e,v,v()),w()})),v()):2===u?(y=p,o.push((function(e){n.specialAttribute(e,y,v),w()})),v()):(y=0===p?x:p,(0===p?i:o).push((function(e){n.attribute(e,y,v),w()})),n.attributePlaceholder);var k=!!t.selfClosingTags[_];return"<"+_+e.view.hook(u&&"object"!=typeof m?function(e,t){n.text(e,v,t),w()}:function(e,t){n.html(e,v,t),w()})+(k?"/>":">"+r(_)+"</"+_+">")}}),e})),define("can/view/mustache/mustache",["can/util/util","can/view/scope/scope","can/view/view","can/view/scanner","can/compute/compute","can/view/render","can/view/bindings/bindings"],(function(e){e.view.ext=".mustache";var t="scope",n="___h4sh",i=t+",options",o=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,r=/^(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)|((.+?)=(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false)|(.+))))$/,s=function(e){return'{get:"'+e.replace(/"/g,'\\"')+'"}'},a=function(e){return e&&"string"==typeof e.get},l=function(t){return t instanceof e.Map||t&&!!t._get},c=function(e){return e&&e.splice&&"number"==typeof e.length},u=function(t,n,i){var o=function(e,i){return t(e||n,i)};return function(t,r){return void 0===t||t instanceof e.view.Scope||(t=n.add(t)),void 0===r||r instanceof e.view.Options||(r=i.add(r)),o(t,r||i)}},d=function(t,n){if(this.constructor!==d){var i=new d(t);return function(e,t){return i.render(e,t)}}return"function"==typeof t?void(this.template={fn:t}):(e.extend(this,t),void(this.template=this.scanner.scan(this.text,this.name)))};e.Mustache=e.global.Mustache=d,d.prototype.render=function(t,n){return t instanceof e.view.Scope||(t=new e.view.Scope(t||{})),n instanceof e.view.Options||(n=new e.view.Options(n||{})),n=n||{},this.template.fn.call(t,t,n)},e.extend(d.prototype,{scanner:new e.view.Scanner({text:{start:"",scope:t,options:",options: options",argNames:i},tokens:[["returnLeft","{{{","{{[{&]"],["commentFull","{{!}}","^[\\s\\t]*{{!.+?}}\\n"],["commentLeft","{{!","(\\n[\\s\\t]*{{!|{{!)"],["escapeFull","{{}}","(^[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}$)",function(e){return{before:/^\n.+?\n$/.test(e)?"\n":"",content:e.match(/\{\{(.+?)\}\}/)[1]||""}}],["escapeLeft","{{"],["returnRight","}}}"],["right","}}"]],helpers:[{name:/^>[\s]*\w*/,fn:function(t,n){return"can.Mustache.renderPartial('"+e.trim(t.replace(/^>\s?/,"")).replace(/["|']/g,"")+"',"+i+")"}},{name:/^\s*data\s/,fn:function(e,n){return"can.proxy(function(__){can.data(can.$(__),'"+e.match(/["|'](.*)["|']/)[1]+"', this.attr('.')); }, "+t+")"}},{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(e){var n=e.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);return"can.proxy(function(__){var "+n[1]+"=can.$(__);with("+t+".attr('.')){"+n[2]+"}}, this);"}},{name:/^.*$/,fn:function(t,a){var l=!1,c={content:"",startTxt:!1,startOnlyTxt:!1,end:!1};if((t=e.trim(t)).length&&(l=t.match(/^([#^/]|else$)/))){switch(l=l[0]){case"#":case"^":a.specialAttribute?c.startOnlyTxt=!0:(c.startTxt=!0,c.escaped=0);break;case"/":return c.end=!0,c.content+='return ___v1ew.join("");}}])',c}t=t.substring(1)}if("else"!==l){var u,d=[],p=[],h=0;c.content+="can.Mustache.txt(\n"+(a.specialAttribute?"{scope:scope,options:options, special: true}":"{scope:scope,options:options}")+",\n"+(l?'"'+l+'"':"null")+",",(e.trim(t)+" ").replace(o,(function(e,t){h&&(u=t.match(r))?u[2]?d.push(u[0]):p.push(u[4]+":"+(u[6]?u[6]:s(u[5]))):d.push(s(t)),h++})),c.content+=d.join(","),p.length&&(c.content+=",{"+n+":{"+p.join(",")+"}}")}switch(l&&"else"!==l&&(c.content+=",[\n\n"),l){case"^":case"#":c.content+="{fn:function("+i+"){var ___v1ew = [];";break;case"else":c.content+='return ___v1ew.join("");}},\n{inverse:function('+i+"){\nvar ___v1ew = [];";break;default:c.content+=")"}return l||(c.startTxt=!0,c.end=!0),c}}]})});for(var p=e.view.Scanner.prototype.helpers,h=0;h<p.length;h++)d.prototype.scanner.helpers.unshift(p[h]);return d.txt=function(t,i,o){for(var r,s,p=t.scope,h=t.options,f=[],m={fn:function(){},inverse:function(){}},g=p.attr("."),v=!0,y=3;y<arguments.length;y++){var _=arguments[y];if(i&&e.isArray(_))m=e.extend.apply(e,[m].concat(_));else if(_&&_[n])for(var b in r=_[n])a(r[b])&&(r[b]=d.get(r[b].get,t,!1,!0));else _&&a(_)?f.push(d.get(_.get,t,!1,!0,!0)):f.push(_)}if(a(o)){var w=o.get;v=w===(o=d.get(o.get,t,f.length,!1))}if(m.fn=u(m.fn,p,h),m.inverse=u(m.inverse,p,h),"^"===i){var C=m.fn;m.fn=m.inverse,m.inverse=C}return(s=v&&"string"==typeof o&&d.getHelper(o,h)||e.isFunction(o)&&!o.isComputed&&{fn:o})?(e.extend(m,{context:g,scope:p,contexts:p,hash:r}),f.push(m),function(){var e=s.fn.apply(g,f);return null==e?"":e}):function(){var t;t=e.isFunction(o)&&o.isComputed?o():o;var n,r,s,a=f.length?f:[t],u=!0,d=[];if(i)for(n=0;n<a.length;n++)r=void 0!==(s=a[n])&&l(s),c(s)?"#"===i?u=u&&!!(r?s.attr("length"):s.length):"^"===i&&(u=u&&!(r?s.attr("length"):s.length)):u="#"===i?u&&!!s:"^"===i?u&&!s:u;if(u){if("#"===i){if(c(t)){var p=l(t);for(n=0;n<t.length;n++)d.push(m.fn(p?t.attr(""+n):t[n]));return d.join("")}return m.fn(t||{})||""}return"^"===i?m.inverse(t||{})||"":""+(null!=t?t:"")}return""}},d.get=function(t,n,i,o,r){var s=n.scope.attr("."),a=n.options||{};if(i){if(d.getHelper(t,a))return t;if(n.scope&&e.isFunction(s[t]))return s[t]}var l=n.scope.computeData(t,{isArgument:o,args:[s,n.scope]}),c=l.compute;e.compute.temporarilyBind(c);var u=l.initialValue;return d.getHelper(t,a),r||void 0!==u&&l.scope===n.scope||!d.getHelper(t,a)?c.computeInstance.hasDependencies?c:u:t},d.resolve=function(t){return l(t)&&c(t)&&t.attr("length")?t:e.isFunction(t)?t():t},d._helpers={},d.registerHelper=function(e,t){this._helpers[e]={name:e,fn:t}},d.registerSimpleHelper=function(t,n){d.registerHelper(t,e.view.simpleHelper(n))},d.getHelper=function(e,t){var n;return t&&(n=t.get("helpers."+e,{proxyMethods:!1})),n?{fn:n}:this._helpers[e]},d.render=function(t,n,i){return e.view.cached[t]||e.__notObserve((function(){var e=n.attr(t);e&&(t=e)}))(),e.view.render(t,n,i)},d.safeString=function(e){return{toString:function(){return e}}},d.renderPartial=function(t,n,i){var o=i.get("partials."+t,{proxyMethods:!1});return o?o.render?o.render(n,i):o(n,i):e.Mustache.render(t,n,i)},e.each({if:function(t,n){return(e.isFunction(t)?e.compute.truthy(t)():!!d.resolve(t))?n.fn(n.contexts||this):n.inverse(n.contexts||this)},is:function(){var t,n,i=arguments[arguments.length-1];if(arguments.length-2<=0)return i.inverse();for(var o=0;o<arguments.length-1;o++){if(n=d.resolve(arguments[o]),n=e.isFunction(n)?n():n,o>0&&n!==t)return i.inverse();t=n}return i.fn()},eq:function(){return d._helpers.is.fn.apply(this,arguments)},unless:function(t,n){return d._helpers.if.fn.apply(this,[t,e.extend({},n,{fn:n.inverse,inverse:n.fn})])},each:function(t,n){var i,o,r,s=d.resolve(t),a=[];if(e.view.lists&&(s instanceof e.List||t&&t.isComputed&&void 0===s))return e.view.lists(t,(function(e,t){return n.fn(n.scope.add({"@index":t}).add(e))}));if((t=s)&&c(t)){for(r=0;r<t.length;r++)a.push(n.fn(n.scope.add({"@index":r}).add(t[r])));return a.join("")}if(l(t)){for(i=e.Map.keys(t),r=0;r<i.length;r++)o=i[r],a.push(n.fn(n.scope.add({"@key":o}).add(t[o])));return a.join("")}if(t instanceof Object){for(o in t)a.push(n.fn(n.scope.add({"@key":o}).add(t[o])));return a.join("")}},with:function(e,t){var n=e;return(e=d.resolve(e))?t.fn(n):void 0},log:function(e,t){"undefined"!=typeof console&&console.log&&(t?console.log(e,t.context):console.log(e.context))},"@index":function(t,n){n||(n=t,t=0);var i=n.scope.read("@index",{isArgument:!0}).value;return""+((e.isFunction(i)?i():i)+t)}},(function(e,t){d.registerHelper(t,e)})),e.view.register({suffix:"mustache",contentType:"x-mustache-template",script:function(e,t){return"can.Mustache(function("+i+") { "+new d({text:t,name:e}).template.out+" })"},renderer:function(e,t){return d({text:t,name:e})}}),e.mustache.registerHelper=e.proxy(e.Mustache.registerHelper,e.Mustache),e.mustache.safeString=e.Mustache.safeString,e})),define("can/util/view_model/view_model",["can/util/util"],(function(e){var t=e.$;t.fn&&(t.fn.scope=t.fn.viewModel=function(){return e.viewModel.apply(e,[this].concat(e.makeArray(arguments)))})})),define("can/component/component",["can/util/util","can/view/callbacks/callbacks","can/view/elements","can/view/bindings/bindings","can/control/control","can/observe/observe","can/view/mustache/mustache","can/util/view_model/view_model"],(function(e,t,n,i){var o=/\{([^\}]+)\}/g,r=e.Component=e.Construct.extend({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Component){var t=this,n=this.prototype.scope||this.prototype.viewModel;if(this.Control=s.extend(this.prototype.events),n&&("object"!=typeof n||n instanceof e.Map)?n.prototype instanceof e.Map&&(this.Map=n):this.Map=e.Map.extend(n||{}),this.attributeScopeMappings={},e.each(this.Map?this.Map.defaults:{},(function(e,n){"@"===e&&(t.attributeScopeMappings[n]=n)})),this.prototype.template)if("function"==typeof this.prototype.template){var i=this.prototype.template;this.renderer=function(){return e.view.frag(i.apply(null,arguments))}}else this.renderer=e.view.mustache(this.prototype.template);e.view.tag(this.prototype.tag,(function(e,n){new t(e,n)}))}}},{setup:function(t,o){var r,s,a,l={},c=this,u=void 0!==this.leakScope&&!this.leakScope&&!!this.template,d=[],p=e.$(t),h=!e.data(p,"preventDataBindings");e.each(this.constructor.attributeScopeMappings,(function(n,i){l[i]=t.getAttribute(e.hyphenate(n))})),h&&d.push(i.behaviors.viewModel(t,o,(function(n){n["%root"]=o.scope.attr("%root");var i=c.scope||c.viewModel;if(c.constructor.Map)r=new c.constructor.Map(n);else if(i instanceof e.Map)r=i;else if(e.isFunction(i)){var s=i.call(c,n,o.scope,t);r=s instanceof e.Map?s:s.prototype instanceof e.Map?new s(n):new(e.Map.extend(s))(n)}var a=r.serialize;return r.serialize=function(){var e=a.apply(this,arguments);return delete e["%root"],e},r}),l)),this.scope=this.viewModel=r,e.data(p,"scope",this.viewModel),e.data(p,"viewModel",this.viewModel),e.data(p,"preventDataBindings",!0),a=u?e.view.Scope.refsScope().add(this.viewModel,{viewModel:!0}):(this.constructor.renderer?o.scope.add(new e.view.Scope.Refs):o.scope).add(this.viewModel,{viewModel:!0});var f={helpers:{}},m=function(e,t){f.helpers[e]=function(){return t.apply(r,arguments)}};e.each(this.helpers||{},(function(t,n){e.isFunction(t)&&m(n,t)})),e.each(this.simpleHelpers||{},(function(t,n){m(n,e.view.simpleHelper(t))})),this._control=new this.constructor.Control(t,{scope:this.viewModel,viewModel:this.viewModel,destroy:function(){for(var e=0,t=d.length;t>e;e++)d[e]()}});var g=e.view.nodeLists.register([],void 0,o.parentNodeList||!0,!1);g.expression="<"+this.tag+">",d.push((function(){e.view.nodeLists.unregister(g)})),this.constructor.renderer?(f.tags||(f.tags={}),f.tags.content=function t(i,r){var s=o.subtemplate||r.subtemplate,a=s===o.subtemplate;if(s){var l;if(delete f.tags.content,l=a?u?o:{scope:r.scope.cloneFromRef(),options:r.options}:r,r.parentNodeList){var c=s(l.scope,l.options,r.parentNodeList);n.replace([i],c)}else e.view.live.replace([i],s(l.scope,l.options));f.tags.content=t}},s=this.constructor.renderer(a,o.options.add(f),g)):s="legacy"===o.templateType?e.view.frag(o.subtemplate?o.subtemplate(a,o.options.add(f)):""):o.subtemplate?o.subtemplate(a,o.options.add(f),g):document.createDocumentFragment(),e.appendChild(t,s,e.document),e.view.nodeLists.update(g,e.childNodes(t))}}),s=e.Control.extend({_lookup:function(e){return[e.scope,e,window]},_action:function(t,n,i){var r,s;if(o.lastIndex=0,r=o.test(t),i||!r){if(r){s=e.compute((function(){var i,r=t.replace(o,(function(t,o){var r;return"scope"===o||"viewModel"===o?(i=n.viewModel,""):(o=o.replace(/^(scope|^viewModel)\./,""),void 0===(r=e.compute.read(n.viewModel,e.compute.read.reads(o),{readCompute:!1}).value)&&(r=e.getObject(o)),"string"==typeof r?r:(i=r,""))})),s=r.split(/\s+/g),a=s.pop();return{processor:this.processors[a]||this.processors.click,parts:[r,s.join(" "),a],delegate:i||void 0}}),this);var a=function(e,n){i._bindings.control[t](i.element),i._bindings.control[t]=n.processor(n.delegate||i.element,n.parts[2],n.parts[1],t,i)};return s.bind("change",a),i._bindings.readyComputes[t]={compute:s,handler:a},s()}return e.Control._action.apply(this,arguments)}}},{setup:function(t,n){return this.scope=n.scope,this.viewModel=n.viewModel,e.Control.prototype.setup.call(this,t,n)},off:function(){this._bindings&&e.each(this._bindings.readyComputes||{},(function(e){e.compute.unbind("change",e.handler)})),e.Control.prototype.off.apply(this,arguments),this._bindings.readyComputes={}},destroy:function(){e.Control.prototype.destroy.apply(this,arguments),"function"==typeof this.options.destroy&&this.options.destroy.apply(this,arguments)}}),a=e.$;return a.fn&&(a.fn.scope=a.fn.viewModel=function(){return e.viewModel.apply(e,[this].concat(e.makeArray(arguments)))}),r})),define("can/model/model",["can/util/util","can/map/map","can/list/list"],(function(e){var t=function(t,n,i){var o=new e.Deferred;return t.then((function(){var t=e.makeArray(arguments),r=!0;try{t[0]=i.apply(n,t)}catch(e){r=!1,o.rejectWith(o,[e].concat(t))}r&&o.resolveWith(o,t)}),(function(){o.rejectWith(this,arguments)})),"function"==typeof t.abort&&(o.abort=function(){return t.abort()}),o},n=0,i=function(t){return e.__observe(t,t.constructor.id),t.___get(t.constructor.id)},o=function(t,n,i,o,r,s){var a={};if("string"==typeof t){var l=t.split(/\s+/);a.url=l.pop(),l.length&&(a.type=l.pop())}else e.extend(a,t);return a.data="object"!=typeof n||e.isArray(n)?n:e.extend(a.data||{},n),a.url=e.sub(a.url,a.data,!0),e.ajax(e.extend({type:i||"post",dataType:o||"json",success:r,error:s},a))},r=function(n,o,r,s,a){var l;e.isArray(n)?(l=n[1],n=n[0]):l=n.serialize(),l=[l];var c,u,d=n.constructor;return("update"===o||"destroy"===o)&&l.unshift(i(n)),u=d[o].apply(d,l),c=t(u,n,(function(e){return n[a||o+"d"](e,u),n})),u.abort&&(c.abort=function(){u.abort()}),c.then(r,s),c},s={models:function(t,n,i){if(e.Model._reqs++,t){if(t instanceof this.List)return t;var o=this,r=[],s=o.List||f,a=n instanceof e.List?n:new s,l=t instanceof f?t.serialize():t;if((l=o.parseModels(l,i)).data&&(t=l,l=l.data),void 0===l||!e.isArray(l))throw new Error("Could not get any raw data while converting using .models");return a.length&&a.splice(0),e.each(l,(function(e){r.push(o.model(e,i))})),a.push.apply(a,r),e.isArray(t)||e.each(t,(function(e,t){"data"!==t&&a.attr(t,e)})),setTimeout(e.proxy(this._clean,this),1),a}},model:function(t,n,i){if(t){var o=(t="function"==typeof t.serialize?t.serialize():this.parseModel(t,i))[this.id];return(o||0===o)&&this.store[o]&&(n=this.store[o]),n&&e.isFunction(n.attr)?n.attr(t,this.removeAttr||!1):new this(t)}}},a={parseModel:function(t){return function(n){return t?e.getObject(t,n):n}},parseModels:function(t){return function(n){if(e.isArray(n))return n;t=t||"data";var i=e.getObject(t,n);if(!e.isArray(i))throw new Error("Could not get any raw data while converting using .models");return i}}},l={create:{url:"_shortName",type:"post"},update:{data:function(t,n){n=n||{};var i=this.id;return n[i]&&n[i]!==t&&(n["new"+e.capitalize(t)]=n[i],delete n[i]),n[i]=t,n},type:"put"},destroy:{type:"delete",data:function(e,t){return(t=t||{}).id=t[this.id]=e,t}},findAll:{url:"_shortName"},findOne:{}},c=function(e,t){return function(n){return n=e.data?e.data.apply(this,arguments):n,o(t||this[e.url||"_url"],n,e.type||"get")}},u=function(e,t){if(e.resource){var n=e.resource.replace(/\/+$/,"");return"findAll"===t||"create"===t?n:n+"/{"+e.id+"}"}};e.Model=e.Map.extend({fullName:"can.Model",_reqs:0,setup:function(t,i,o,r){if("string"!=typeof i&&(r=o,o=i),r||(r=o),this.store={},e.Map.setup.apply(this,arguments),e.Model){o&&o.List?(this.List=o.List,this.List.Map=this):this.List=t.List.extend({Map:this},{});var d=this,p=e.proxy(this._clean,d);e.each(l,(function(n,i){if(o&&o[i]&&("string"==typeof o[i]||"object"==typeof o[i])?d[i]=c(n,o[i]):o&&o.resource&&!e.isFunction(o[i])&&(d[i]=c(n,u(d,i))),d["make"+e.capitalize(i)]){var r=d["make"+e.capitalize(i)](d[i]);e.Construct._overwrite(d,t,i,(function(){e.Model._reqs++;var t=r.apply(this,arguments),n=t.then(p,p);return n.abort=t.abort,n}))}}));var h={};e.each(s,(function(n,i){var r="parse"+e.capitalize(i),s=o&&o[i]||d[i];"string"==typeof s?(d[r]=s,e.Construct._overwrite(d,t,i,n)):o&&o[i]&&(h[r]=!0)})),e.each(a,(function(n,i){var r=o&&o[i]||d[i];if("string"==typeof r)e.Construct._overwrite(d,t,i,n(r));else if(!(o&&e.isFunction(o[i])||d[i])){var s=n();s.useModelConverter=h[i],e.Construct._overwrite(d,t,i,s)}})),"can.Model"!==d.fullName&&d.fullName||(d.fullName="Model"+ ++n),e.Model._reqs=0,this._url=this._shortName+"/{"+this.id+"}"}},_ajax:c,_makeRequest:r,_clean:function(){if(e.Model._reqs--,!e.Model._reqs)for(var t in this.store)this.store[t]._bindings||delete this.store[t];return arguments[0]},models:s.models,model:s.model},{setup:function(t){var n=t&&t[this.constructor.id];e.Model._reqs&&null!=n&&(this.constructor.store[n]=this),e.Map.prototype.setup.apply(this,arguments)},isNew:function(){var e=i(this);return!(e||0===e)},save:function(e,t){return r(this,this.isNew()?"create":"update",e,t)},destroy:function(t,n){if(this.isNew()){var i=this,o=e.Deferred();return o.then(t,n),o.done((function(e){i.destroyed(e)})).resolve(i)}return r(this,"destroy",t,n,"destroyed")},_bindsetup:function(){var t=this.___get(this.constructor.id);return null!=t&&(this.constructor.store[t]=this),e.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){return delete this.constructor.store[i(this)],e.Map.prototype._bindteardown.apply(this,arguments)},___set:function(t,n){e.Map.prototype.___set.call(this,t,n),t===this.constructor.id&&this._bindings&&(this.constructor.store[i(this)]=this)}});var d=function(e){return function(t,n,i){return this[e](t,null,i)}},p=function(e){return this.parseModel.useModelConverter?this.model(e):this.parseModel(e)},h={makeFindAll:d("models"),makeFindOne:d("model"),makeCreate:p,makeUpdate:p,makeDestroy:p};e.each(h,(function(n,i){e.Model[i]=function(i){return function(){var o=e.makeArray(arguments),r=e.isFunction(o[1])?o.splice(0,1):o.splice(0,2),s=t(i.apply(this,r),this,n);return s.then(o[0],o[1]),s}}})),e.each(["created","updated","destroyed"],(function(t){e.Model.prototype[t]=function(n){var i=this.constructor;n&&"object"==typeof n&&this.attr(e.isFunction(n.attr)?n.attr():n),e.dispatch.call(this,{type:t,target:this},[]),e.dispatch.call(i,t,[this])}}));var f=e.Model.List=e.List.extend({_bubbleRule:function(t,n){var i=e.List._bubbleRule(t,n);return i.push("destroyed"),i}},{setup:function(t){e.isPlainObject(t)&&!e.isArray(t)?(e.List.prototype.setup.apply(this),this.replace(e.isPromise(t)?t:this.constructor.Map.findAll(t))):e.List.prototype.setup.apply(this,arguments),this.bind("destroyed",e.proxy(this._destroyed,this))},_destroyed:function(e,t){if(/\w+/.test(t))for(var n;(n=this.indexOf(e.target))>-1;)this.splice(n,1)}});return e.Model})),define("can/util/string/deparam/deparam",["can/util/util","can/util/string/string"],(function(e){var t=/^\d+$/,n=/([^\[\]]+)|(\[\])/g,i=/([^?#]*)(#.*)?$/,o=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return e.extend(e,{deparam:function(r){var s,a,l={};return r&&i.test(r)&&(s=r.split("&"),e.each(s,(function(e){var i=e.split("="),r=o(i.shift()),s=o(i.join("=")),c=l;if(r){for(var u=0,d=(i=r.match(n)).length-1;d>u;u++)c[i[u]]||(c[i[u]]=t.test(i[u+1])||"[]"===i[u+1]?[]:{}),c=c[i[u]];"[]"===(a=i.pop())?c.push(s):c[a]=s}}))),l}}),e})),define("can/route/route",["can/util/util","can/map/map","can/list/list","can/util/string/deparam/deparam"],(function(e){var t,n,i,o,r=/\:([\w\.]+)/g,s=function(e,t){var n=0,i=0,o={};for(var r in e.defaults)e.defaults[r]===t[r]&&(o[r]=1,n++);for(;i<e.names.length;i++){if(!t.hasOwnProperty(e.names[i]))return-1;o[e.names[i]]||n++}return n},a=window.location,l=function(e){return(e+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},c=e.each,u=e.extend,d=function(t){return t&&"object"==typeof t&&!function(e){return e.toString.toString()!==Object.prototype.toString.toString()}(t)?(t=t instanceof e.Map?t:e.isFunction(t.slice)?t.slice():e.extend({},t),e.each(t,(function(e,n){t[n]=d(e)}))):null!=t&&e.isFunction(t.toString)&&(t=t.toString()),t},p=function(e){return e.replace(/\\/g,"")},h=[],f=function(n,r,s,a){o=1,h.push(r),clearTimeout(t),t=setTimeout((function(){o=0;var t=e.route.data.serialize(),n=e.route.param(t,!0);e.route._call("setURL",n,h),e.batch.trigger(m,"__url",[n,i]),i=n,h=[]}),10)},m=e.extend({},e.event),g=function(e){var t=e.attr;return e.attr=function(e,n){var i,o=void 0===this.define||void 0===this.define[e]||!!this.define[e].serialize;return i=o?d(Array.apply(null,arguments)):arguments,t.apply(this,i)},e};e.route=function(t,n){var i=e.route._call("root");i.lastIndexOf("/")===i.length-1&&0===t.indexOf("/")&&(t=t.substr(1)),n=n||{};for(var o,s=[],a="",c=r.lastIndex=0,u=e.route._call("querySeparator"),d=e.route._call("matchSlashes");o=r.exec(t);)s.push(o[1]),a+=p(t.substring(c,r.lastIndex-o[0].length)),a+="([^"+("\\"+(p(t.substr(r.lastIndex,1))||u+(d?"":"|/")))+"]"+(n[o[1]]?"*":"+")+")",c=r.lastIndex;return a+=t.substr(c).replace("\\",""),e.route.routes[t]={test:new RegExp("^"+a+"($|"+l(u)+")"),route:t,names:s,defaults:n,length:t.split("/").length},e.route},u(e.route,{param:function(t,n){var i,o,a=0,l=t.route,d=0;if(delete t.route,c(t,(function(){d++})),c(e.route.routes,(function(e,n){return(o=s(e,t))>a&&(i=e,a=o),!(o>=d)&&void 0})),e.route.routes[l]&&s(e.route.routes[l],t)===a&&(i=e.route.routes[l]),i){var p,h=u({},t),f=i.route.replace(r,(function(e,n){return delete h[n],t[n]===i.defaults[n]?"":encodeURIComponent(t[n])})).replace("\\","");return c(i.defaults,(function(e,t){h[t]===e&&delete h[t]})),p=e.param(h),n&&e.route.attr("route",i.route),f+(p?e.route._call("querySeparator")+p:"")}return e.isEmptyObject(t)?"":e.route._call("querySeparator")+e.param(t)},deparam:function(t){var n=e.route._call("root");n.lastIndexOf("/")===n.length-1&&0===t.indexOf("/")&&(t=t.substr(1));var i={length:-1},o=e.route._call("querySeparator"),r=e.route._call("paramsMatcher");if(c(e.route.routes,(function(e,n){e.test.test(t)&&e.length>i.length&&(i=e)})),i.length>-1){var s=t.match(i.test),a=s.shift(),l=t.substr(a.length-(s[s.length-1]===o?1:0)),d=l&&r.test(l)?e.deparam(l.slice(1)):{};return d=u(!0,{},i.defaults,d),c(s,(function(e,t){e&&e!==o&&(d[i.names[t]]=decodeURIComponent(e))})),d.route=i.route,d}return t.charAt(0)!==o&&(t=o+t),r.test(t)?e.deparam(t.slice(1)):{}},data:g(new e.Map({})),map:function(t){var n;n=t.prototype instanceof e.Map?new t:t,e.route.data=g(n)},routes:{},ready:function(t){return!0!==t&&(e.route._setup(),(e.isBrowserWindow||e.isWebWorker)&&e.route.setState()),e.route},url:function(t,n){return n&&(e.__observe(m,"__url"),t=e.extend({},e.route.deparam(e.route._call("matchingPartOfURL")),t)),e.route._call("root")+e.route.param(t)},link:function(t,n,i,o){return"<a "+function(t){var n=[];return e.each(t,(function(t,i){n.push(("className"===i?"class":i)+'="'+("href"===i?t:e.esc(t))+'"')})),n.join(" ")}(u({href:e.route.url(n,o)},i))+">"+t+"</a>"},current:function(t){return e.__observe(m,"__url"),this._call("matchingPartOfURL")===e.route.param(t)},bindings:{hashchange:{paramsMatcher:/^(?:&[^=]+=[^&]*)+/,querySeparator:"&",matchSlashes:!1,bind:function(){e.bind.call(window,"hashchange",v)},unbind:function(){e.unbind.call(window,"hashchange",v)},matchingPartOfURL:function(){return(e.route.location||a).href.split(/#!?/)[1]||""},setURL:function(e){return a.hash!=="#"+e&&(a.hash="!"+e),e},root:"#!"}},defaultBinding:"hashchange",currentBinding:null,_setup:function(){e.route.currentBinding||(e.route._call("bind"),e.route.bind("change",f),e.route.currentBinding=e.route.defaultBinding)},_teardown:function(){e.route.currentBinding&&(e.route._call("unbind"),e.route.unbind("change",f),e.route.currentBinding=null),clearTimeout(t),o=0},_call:function(){var t=e.makeArray(arguments),n=t.shift(),i=e.route.bindings[e.route.currentBinding||e.route.defaultBinding],o=i[n];return o.apply?o.apply(i,t):o}}),c(["bind","unbind","on","off","delegate","undelegate","removeAttr","compute","_get","___get","each"],(function(t){e.route[t]=function(){return e.route.data[t]?e.route.data[t].apply(e.route.data,arguments):void 0}})),e.route.attr=function(){return e.route.data.attr.apply(e.route.data,arguments)},e.route.batch=e.batch;var v=e.route.setState=function(){var t=e.route._call("matchingPartOfURL"),r=n;n=e.route.deparam(t),o&&t===i||(e.route.batch.start(),y(r,n,e.route.data),e.route.attr(n),e.route.batch.trigger(m,"__url",[t,i]),e.route.batch.stop())},y=function(e,t,n){for(var i in e)void 0===t[i]?n.removeAttr(i):"[object Object]"===Object.prototype.toString.call(e[i])&&y(e[i],t[i],n.attr(i))};return e.route})),define("can/control/route/route",["can/util/util","can/route/route","can/control/control"],(function(e){return e.Control.processors.route=function(t,n,i,o,r){i=i||"",e.route.routes[i]||("/"===i[0]&&(i=i.substring(1)),e.route(i));var s,a=function(t,n,a){if(e.route.attr("route")===i&&(void 0===t.batchNum||t.batchNum!==s)){s=t.batchNum;var l=e.route.attr();delete l.route,e.isFunction(r[o])?r[o](l):r[r[o]](l)}};return e.route.bind("change",a),function(){e.route.unbind("change",a)}},e})),define("can/util/event",["can/util/can","can/event/event"],(function(e){return e})),window._define=window.define,window.define=window.define.orig,
/*!
 * CanJS - 2.3.29
 * http://canjs.com/
 * Copyright (c) 2017 Bitovi
 * Tue, 21 Feb 2017 00:42:50 GMT
 * Licensed MIT
 */
function(exports,global){var origDefine=global.define,get=function(e){var t,n=e.split("."),i=global;for(t=0;t<n.length&&i;t++)i=i[n[t]];return i},modules=global.define&&global.define.modules||global._define&&global._define.modules||{},ourDefine=global.define=function(e,t,n){var i;"function"==typeof t&&(n=t,t=[]);var o,r=[];for(o=0;o<t.length;o++)r.push(exports[t[o]]?get(exports[t[o]]):modules[t[o]]||get(t[o]));if(!t.length&&n.length){i={exports:{}};r.push((function(e){return exports[e]?get(exports[e]):modules[e]}),i.exports,i)}else r[0]||"exports"!==t[0]?r[0]||"module"!==t[0]||(r[0]={id:e}):(i={exports:{}},r[0]=i.exports,"module"===t[1]&&(r[1]=i));global.define=origDefine;var s=n?n.apply(null,r):void 0;global.define=ourDefine,modules[e]=i&&i.exports?i.exports:s};global.define.orig=origDefine,global.define.modules=modules,global.define.amd=!0,ourDefine("@loader",[],(function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}}))}({},window),define("can/construct/super/super",["can/util/util","can/construct/construct"],(function(e,t){var n=e.isFunction,i=/xyz/.test((function(){return this.xyz}))?/\b_super\b/:/.*/,o=["get","set"],r=function(e,t,n){return function(){var i,o=this._super;return this._super=e[t],i=n.apply(this,arguments),this._super=o,i}};return e.Construct._defineProperty=function(t,i,s,a){var l=Object.getOwnPropertyDescriptor(i,s);l&&e.each(o,(function(e){n(l[e])&&n(a[e])?a[e]=r(l,e,a[e]):n(a[e])||(a[e]=l[e])})),Object.defineProperty(t,s,a)},e.Construct._overwrite=function(e,t,o,s){e[o]=n(s)&&n(t[o])&&i.test(s)?r(t,o,s):s},e})),window._define=window.define,window.define=window.define.orig,
/*!
 * CanJS - 2.3.29
 * http://canjs.com/
 * Copyright (c) 2017 Bitovi
 * Tue, 21 Feb 2017 00:42:50 GMT
 * Licensed MIT
 */
function(exports,global){var origDefine=global.define,get=function(e){var t,n=e.split("."),i=global;for(t=0;t<n.length&&i;t++)i=i[n[t]];return i},modules=global.define&&global.define.modules||global._define&&global._define.modules||{},ourDefine=global.define=function(e,t,n){var i;"function"==typeof t&&(n=t,t=[]);var o,r=[];for(o=0;o<t.length;o++)r.push(exports[t[o]]?get(exports[t[o]]):modules[t[o]]||get(t[o]));if(!t.length&&n.length){i={exports:{}};r.push((function(e){return exports[e]?get(exports[e]):modules[e]}),i.exports,i)}else r[0]||"exports"!==t[0]?r[0]||"module"!==t[0]||(r[0]={id:e}):(i={exports:{}},r[0]=i.exports,"module"===t[1]&&(r[1]=i));global.define=origDefine;var s=n?n.apply(null,r):void 0;global.define=ourDefine,modules[e]=i&&i.exports?i.exports:s};global.define.orig=origDefine,global.define.modules=modules,global.define.amd=!0,ourDefine("@loader",[],(function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}}))}({},window),define("can/construct/proxy/proxy",["can/util/util","can/construct/construct"],(function(e,t){e.isFunction;var n=e.isArray,i=e.makeArray,o=function(e){var t,o=i(arguments);return e=o.shift(),n(e)||(e=[e]),t=this,function(){for(var r,s=o.concat(i(arguments)),a=e.length,l=0;l<a;l++)(r=e[l])&&(s=("string"==typeof r?t[r]:r).apply(t,s||[]),l<a-1&&(s=!n(s)||s._use_call?[s]:s));return s}};e.Construct.proxy=e.Construct.prototype.proxy=o;for(var r=[e.Map,e.Control,e.Model],s=0;s<r.length;s++)r[s]&&(r[s].proxy=o);return e})),window._define=window.define,window.define=window.define.orig,
/*!
 * CanJS - 2.3.29
 * http://canjs.com/
 * Copyright (c) 2017 Bitovi
 * Tue, 21 Feb 2017 00:42:50 GMT
 * Licensed MIT
 */
function(exports,global){var origDefine=global.define,get=function(e){var t,n=e.split("."),i=global;for(t=0;t<n.length&&i;t++)i=i[n[t]];return i},modules=global.define&&global.define.modules||global._define&&global._define.modules||{},ourDefine=global.define=function(e,t,n){var i;"function"==typeof t&&(n=t,t=[]);var o,r=[];for(o=0;o<t.length;o++)r.push(exports[t[o]]?get(exports[t[o]]):modules[t[o]]||get(t[o]));if(!t.length&&n.length){i={exports:{}};r.push((function(e){return exports[e]?get(exports[e]):modules[e]}),i.exports,i)}else r[0]||"exports"!==t[0]?r[0]||"module"!==t[0]||(r[0]={id:e}):(i={exports:{}},r[0]=i.exports,"module"===t[1]&&(r[1]=i));global.define=origDefine;var s=n?n.apply(null,r):void 0;global.define=ourDefine,modules[e]=i&&i.exports?i.exports:s};global.define.orig=origDefine,global.define.modules=modules,global.define.amd=!0,ourDefine("@loader",[],(function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}}))}({},window),define("can/control/plugin/plugin",["dist/jquery","can/util/util","can/control/control"],(function(e,t){e=e||window.$;var n,i=function(e,t){var i=e.constructor.pluginName||e.constructor._shortName;for(n=0;n<t.length;n++)if("string"==typeof t[n]?i===t[n]:e instanceof t[n])return!0;return!1},o=t.makeArray,r=t.Control.setup;return t.Control.setup=function(){if(this!==t.Control){var e=this.pluginName||this._fullName;"can_control"!==e&&this.plugin(e),r.apply(this,arguments)}},e.fn.extend({controls:function(){var e,n,r=o(arguments),s=[];return this.each((function(){if(e=t.$(this).data("controls"))for(var o=0;o<e.length;o++)n=e[o],r.length&&!i(n,r)||s.push(n)})),s},control:function(e){return this.controls.apply(this,arguments)[0]}}),t.Control.plugin=function(n){var i=this;e.fn[n]||(e.fn[n]=function(n){var r,s=o(arguments),a="string"==typeof n&&e.isFunction(i.prototype[n]),l=s[0];return this.each((function(){var e=t.$(this).control(i);e?a?r=e[l].apply(e,s.slice(1)):e.update.apply(e,s):i.newInstance.apply(i,[this].concat(s))})),void 0!==r?r:this})},t.Control.prototype.update=function(e){t.extend(this.options,e),this.on()},t})),window._define=window.define,window.define=window.define.orig,function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";var t=window.Slick||{};(t=function(){var t=0;return function(n,i){var o,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(n),appendDots:e(n),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,n){return e('<button type="button" />').text(n+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.focussed=!1,r.interrupted=!1,r.hidden="hidden",r.paused=!0,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=e(n),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,o=e(n).data("slick")||{},r.options=e.extend({},r.defaults,i,o),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=e.proxy(r.autoPlay,r),r.autoPlayClear=e.proxy(r.autoPlayClear,r),r.autoPlayIterator=e.proxy(r.autoPlayIterator,r),r.changeSlide=e.proxy(r.changeSlide,r),r.clickHandler=e.proxy(r.clickHandler,r),r.selectHandler=e.proxy(r.selectHandler,r),r.setPosition=e.proxy(r.setPosition,r),r.swipeHandler=e.proxy(r.swipeHandler,r),r.dragHandler=e.proxy(r.dragHandler,r),r.keyHandler=e.proxy(r.keyHandler,r),r.instanceUid=t++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,n,i){var o=this;if("boolean"==typeof n)i=n,n=null;else if(n<0||n>=o.slideCount)return!1;o.unload(),"number"==typeof n?0===n&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):i?e(t).insertBefore(o.$slides.eq(n)):e(t).insertAfter(o.$slides.eq(n)):!0===i?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each((function(t,n){e(n).attr("data-slick-index",t)})),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,n){var i={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(t=-t),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,n):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,n):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),!1===o.options.vertical?(i[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(i)):(i[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(i))},complete:function(){n&&n.call()}})):(o.applyTransition(),t=Math.ceil(t),!1===o.options.vertical?i[o.animType]="translate3d("+t+"px, 0px, 0px)":i[o.animType]="translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(i),n&&setTimeout((function(){o.disableTransition(),n.call()}),o.options.speed))},t.prototype.getNavTarget=function(){var t=this.options.asNavFor;return t&&null!==t&&(t=e(t).not(this.$slider)),t},t.prototype.asNavFor=function(t){var n=this.getNavTarget();null!==n&&"object"==typeof n&&n.each((function(){var n=e(this).slick("getSlick");n.unslicked||n.slideHandler(t,!0)}))},t.prototype.applyTransition=function(e){var t=this,n={};!1===t.options.fade?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,n,i=this;if(!0===i.options.dots){for(i.$slider.addClass("slick-dotted"),n=e("<ul />").addClass(i.options.dotsClass),t=0;t<=i.getDotCount();t+=1)n.append(e("<li />").append(i.options.customPaging.call(this,i,t)));i.$dots=n.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each((function(t,n){e(n).attr("data-slick-index",t).data("originalStyling",e(n).attr("style")||"")})),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,n,i,o,r,s,a=this;if(i=document.createDocumentFragment(),r=a.$slider.children(),a.options.rows>1){for(s=a.options.slidesPerRow*a.options.rows,o=Math.ceil(r.length/s),e=0;e<o;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var c=document.createElement("div");for(n=0;n<a.options.slidesPerRow;n++){var u=e*s+(t*a.options.slidesPerRow+n);r.get(u)&&c.appendChild(r.get(u))}l.appendChild(c)}i.appendChild(l)}a.$slider.empty().append(i),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,n){var i,o,r,s=this,a=!1,l=s.$slider.width(),c=window.innerWidth||e(window).width();if("window"===s.respondTo?r=c:"slider"===s.respondTo?r=l:"min"===s.respondTo&&(r=Math.min(c,l)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){for(i in o=null,s.breakpoints)s.breakpoints.hasOwnProperty(i)&&(!1===s.originalSettings.mobileFirst?r<s.breakpoints[i]&&(o=s.breakpoints[i]):r>s.breakpoints[i]&&(o=s.breakpoints[i]));null!==o?null!==s.activeBreakpoint?(o!==s.activeBreakpoint||n)&&(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[o]),!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),a=o):(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[o]),!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),a=o):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t),a=o),t||!1===a||s.$slider.trigger("breakpoint",[s,a])}},t.prototype.changeSlide=function(t,n){var i,o,r=this,s=e(t.currentTarget);switch(s.is("a")&&t.preventDefault(),s.is("li")||(s=s.closest("li")),i=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":o=0===i?r.options.slidesToScroll:r.options.slidesToShow-i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-o,!1,n);break;case"next":o=0===i?r.options.slidesToScroll:i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+o,!1,n);break;case"index":var a=0===t.data.index?0:t.data.index||s.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,n),s.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,n;if(n=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var i in t){if(e<t[i]){e=n;break}n=t[i]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&((e=t.$slides.children().children()).removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var n=this;n.autoPlayClear(),n.touchObject={},n.cleanUpEvents(),e(".slick-cloned",n.$slider).detach(),n.$dots&&n.$dots.remove(),n.$prevArrow&&n.$prevArrow.length&&(n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.prevArrow)&&n.$prevArrow.remove()),n.$nextArrow&&n.$nextArrow.length&&(n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.nextArrow)&&n.$nextArrow.remove()),n.$slides&&(n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each((function(){e(this).attr("style",e(this).data("originalStyling"))})),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.detach(),n.$list.detach(),n.$slider.append(n.$slides)),n.cleanUpRows(),n.$slider.removeClass("slick-slider"),n.$slider.removeClass("slick-initialized"),n.$slider.removeClass("slick-dotted"),n.unslicked=!0,t||n.$slider.trigger("destroy",[n])},t.prototype.disableTransition=function(e){var t=this,n={};n[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.fadeSlide=function(e,t){var n=this;!1===n.cssTransitions?(n.$slides.eq(e).css({zIndex:n.options.zIndex}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex}),t&&setTimeout((function(){n.disableTransition(e),t.call()}),n.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",(function(n){n.stopImmediatePropagation();var i=e(this);setTimeout((function(){t.options.pauseOnFocus&&(t.focussed=i.is(":focus"),t.autoPlay())}),0)}))},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,n=0,i=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++i;else for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)i=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return i-1},t.prototype.getLeft=function(e){var t,n,i,o,r=this,s=0;return r.slideOffset=0,n=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=-1,!0===r.options.vertical&&!0===r.options.centerMode&&(2===r.options.slidesToShow?o=-1.5:1===r.options.slidesToShow&&(o=-2)),s=n*r.options.slidesToShow*o),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,s=(r.options.slidesToShow-(e-r.slideCount))*n*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,s=r.slideCount%r.options.slidesToScroll*n*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,s=(e+r.options.slidesToShow-r.slideCount)*n),r.slideCount<=r.options.slidesToShow&&(r.slideOffset=0,s=0),!0===r.options.centerMode&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*n*-1+s,!0===r.options.variableWidth&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===r.options.centerMode&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,t+=(r.$list.width()-i.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){return this.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,n=0,i=0,o=[];for(!1===t.options.infinite?e=t.slideCount:(n=-1*t.options.slidesToScroll,i=-1*t.options.slidesToScroll,e=2*t.slideCount);n<e;)o.push(n),n=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,n,i=this;return n=!0===i.options.centerMode?i.slideWidth*Math.floor(i.options.slidesToShow/2):0,!0===i.options.swipeToSlide?(i.$slideTrack.find(".slick-slide").each((function(o,r){if(r.offsetLeft-n+e(r).outerWidth()/2>-1*i.swipeLeft)return t=r,!1})),Math.abs(e(t).attr("data-slick-index")-i.currentSlide)||1):i.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var n=this;e(n.$slider).hasClass("slick-initialized")||(e(n.$slider).addClass("slick-initialized"),n.buildRows(),n.buildOut(),n.setProps(),n.startLoad(),n.loadSlider(),n.initializeEvents(),n.updateArrows(),n.updateDots(),n.checkResponsive(!0),n.focusHandler()),t&&n.$slider.trigger("init",[n]),!0===n.options.accessibility&&n.initADA(),n.options.autoplay&&(n.paused=!1,n.autoPlay())},t.prototype.initADA=function(){var t=this,n=Math.ceil(t.slideCount/t.options.slidesToShow),i=t.getNavigableIndexes().filter((function(e){return e>=0&&e<t.slideCount}));t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==t.$dots&&(t.$slides.not(t.$slideTrack.find(".slick-cloned")).each((function(n){var o=i.indexOf(n);e(this).attr({role:"tabpanel",id:"slick-slide"+t.instanceUid+n,tabindex:-1}),-1!==o&&e(this).attr({"aria-describedby":"slick-slide-control"+t.instanceUid+o})})),t.$dots.attr("role","tablist").find("li").each((function(o){var r=i[o];e(this).attr({role:"presentation"}),e(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+t.instanceUid+o,"aria-controls":"slick-slide"+t.instanceUid+r,"aria-label":o+1+" of "+n,"aria-selected":null,tabindex:"-1"})})).eq(t.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var o=t.currentSlide,r=o+t.options.slidesToShow;o<r;o++)t.$slides.eq(o).attr("tabindex",0);t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&(e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(t.setPosition)},t.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each((function(){var t=e(this),n=e(this).attr("data-lazy"),i=e(this).attr("data-srcset"),o=e(this).attr("data-sizes")||r.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){t.animate({opacity:0},100,(function(){i&&(t.attr("srcset",i),o&&t.attr("sizes",o)),t.attr("src",n).animate({opacity:1},200,(function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")})),r.$slider.trigger("lazyLoaded",[r,t,n])}))},s.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,t,n])},s.src=n}))}var n,i,o,r=this;if(!0===r.options.centerMode?!0===r.options.infinite?o=(i=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(i=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),o=r.options.slidesToShow/2+1+2+r.currentSlide):(i=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,o=Math.ceil(i+r.options.slidesToShow),!0===r.options.fade&&(i>0&&i--,o<=r.slideCount&&o++)),n=r.$slider.find(".slick-slide").slice(i,o),"anticipated"===r.options.lazyLoad)for(var s=i-1,a=o,l=r.$slider.find(".slick-slide"),c=0;c<r.options.slidesToScroll;c++)s<0&&(s=r.slideCount-1),n=(n=n.add(l.eq(s))).add(l.eq(a)),s--,a++;t(n),r.slideCount<=r.options.slidesToShow?t(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?t(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&t(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(t){var n=this;n.unslicked||(n.$slider.trigger("afterChange",[n,t]),n.animating=!1,n.slideCount>n.options.slidesToShow&&n.setPosition(),n.swipeLeft=null,n.options.autoplay&&n.autoPlay(),!0===n.options.accessibility&&(n.initADA(),n.options.focusOnChange&&e(n.$slides.get(n.currentSlide)).attr("tabindex",0).focus()))},t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var n,i,o,r,s,a=this,l=e("img[data-lazy]",a.$slider);l.length?(n=l.first(),i=n.attr("data-lazy"),o=n.attr("data-srcset"),r=n.attr("data-sizes")||a.$slider.attr("data-sizes"),(s=document.createElement("img")).onload=function(){o&&(n.attr("srcset",o),r&&n.attr("sizes",r)),n.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===a.options.adaptiveHeight&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,n,i]),a.progressiveLazyLoad()},s.onerror=function(){t<3?setTimeout((function(){a.progressiveLazyLoad(t+1)}),500):(n.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,n,i]),a.progressiveLazyLoad())},s.src=i):a.$slider.trigger("allImagesLoaded",[a])},t.prototype.refresh=function(t){var n,i,o=this;i=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>i&&(o.currentSlide=i),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),n=o.currentSlide,o.destroy(!0),e.extend(o,o.initials,{currentSlide:n}),o.init(),t||o.changeSlide({data:{message:"index",index:n}},!1)},t.prototype.registerBreakpoints=function(){var t,n,i,o=this,r=o.options.responsive||null;if("array"===e.type(r)&&r.length){for(t in o.respondTo=o.options.respondTo||"window",r)if(i=o.breakpoints.length-1,r.hasOwnProperty(t)){for(n=r[t].breakpoint;i>=0;)o.breakpoints[i]&&o.breakpoints[i]===n&&o.breakpoints.splice(i,1),i--;o.breakpoints.push(n),o.breakpointSettings[n]=r[t].settings}o.breakpoints.sort((function(e,t){return o.options.mobileFirst?e-t:t-e}))}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout((function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()}),50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,n){var i=this;if(e="boolean"==typeof e?!0===(t=e)?0:i.slideCount-1:!0===t?--e:e,i.slideCount<1||e<0||e>i.slideCount-1)return!1;i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,i.reinit()},t.prototype.setCSS=function(e){var t,n,i=this,o={};!0===i.options.rtl&&(e=-e),t="left"==i.positionProp?Math.ceil(e)+"px":"0px",n="top"==i.positionProp?Math.ceil(e)+"px":"0px",o[i.positionProp]=e,!1===i.transformsEnabled?i.$slideTrack.css(o):(o={},!1===i.cssTransitions?(o[i.animType]="translate("+t+", "+n+")",i.$slideTrack.css(o)):(o[i.animType]="translate3d("+t+", "+n+", 0px)",i.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,n=this;n.$slides.each((function(i,o){t=n.slideWidth*i*-1,!0===n.options.rtl?e(o).css({position:"relative",right:t,top:0,zIndex:n.options.zIndex-2,opacity:0}):e(o).css({position:"relative",left:t,top:0,zIndex:n.options.zIndex-2,opacity:0})})),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,n,i,o,r,s=this,a=!1;if("object"===e.type(arguments[0])?(i=arguments[0],a=arguments[1],r="multiple"):"string"===e.type(arguments[0])&&(i=arguments[0],o=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)s.options[i]=o;else if("multiple"===r)e.each(i,(function(e,t){s.options[e]=t}));else if("responsive"===r)for(n in o)if("array"!==e.type(s.options.responsive))s.options.responsive=[o[n]];else{for(t=s.options.responsive.length-1;t>=0;)s.options.responsive[t].breakpoint===o[n].breakpoint&&s.options.responsive.splice(t,1),t--;s.options.responsive.push(o[n])}a&&(s.unload(),s.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},t.prototype.setSlideClasses=function(e){var t,n,i,o,r=this;if(n=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(e).addClass("slick-current"),!0===r.options.centerMode){var s=r.options.slidesToShow%2==0?1:0;t=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(e>=t&&e<=r.slideCount-1-t?r.$slides.slice(e-t+s,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(i=r.options.slidesToShow+e,n.slice(i-t+1+s,i+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?n.eq(n.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&n.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")}else e>=0&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=r.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,i=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?n.slice(i-(r.options.slidesToShow-o),i+o).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},t.prototype.setupInfinite=function(){var t,n,i,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(n=null,o.slideCount>o.options.slidesToShow)){for(i=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-i;t-=1)n=t-1,e(o.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;t<i+o.slideCount;t+=1)n=t,e(o.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each((function(){e(this).attr("id","")}))}},t.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},t.prototype.selectHandler=function(t){var n=this,i=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),o=parseInt(i.attr("data-slick-index"));o||(o=0),n.slideCount<=n.options.slidesToShow?n.slideHandler(o,!1,!0):n.slideHandler(o)},t.prototype.slideHandler=function(e,t,n){var i,o,r,s,a,l=null,c=this;if(t=t||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===e))if(!1===t&&c.asNavFor(e),i=e,l=c.getLeft(i),s=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?s:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(e<0||e>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(s,(function(){c.postSlide(i)})):c.postSlide(i));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(e<0||e>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(s,(function(){c.postSlide(i)})):c.postSlide(i));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=i<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+i:i>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:i-c.slideCount:i,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),r=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(a=(a=c.getNavTarget()).slick("getSlick")).slideCount<=a.options.slidesToShow&&a.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==n?(c.fadeSlideOut(r),c.fadeSlide(o,(function(){c.postSlide(o)}))):c.postSlide(o),void c.animateHeight();!0!==n?c.animateSlide(l,(function(){c.postSlide(o)})):c.postSlide(o)}},t.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,n,i,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,n=Math.atan2(t,e),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?!1===o.options.rtl?"left":"right":i>=135&&i<=225?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?i>=35&&i<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(e){var t,n,i=this;if(i.dragging=!1,i.swiping=!1,i.scrolling)return i.scrolling=!1,!1;if(i.interrupted=!1,i.shouldClick=!(i.touchObject.swipeLength>10),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(t),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,n,i,o,r,s,a=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||a.scrolling||r&&1!==r.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,a.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&s>4?(a.scrolling=!0,!1):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=s),n=a.swipeDirection(),void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&(a.swiping=!0,e.preventDefault()),o=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),i=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,!1===a.options.infinite&&(0===a.currentSlide&&"right"===n||a.currentSlide>=a.getDotCount()&&"left"===n)&&(i=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+i*o:a.swipeLeft=t+i*(a.$list.height()/a.listWidth)*o,!0===a.options.verticalSwiping&&(a.swipeLeft=t+i*o),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},t.prototype.swipeStart=function(e){var t,n=this;if(n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow)return n.touchObject={},!1;void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,n.dragging=!0},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode||e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode)&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").end(),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,n,i=this,o=arguments[0],r=Array.prototype.slice.call(arguments,1),s=i.length;for(e=0;e<s;e++)if("object"==typeof o||void 0===o?i[e].slick=new t(i[e],o):n=i[e].slick[o].apply(i[e].slick,r),void 0!==n)return n;return i}})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}((function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var n,i,o,r,s,a,l,c,u,d,p,h,f,m,g;function v(e,t){return f.call(e,t)}function y(e,t){var n,i,o,r,s,a,l,c,u,d,h,f=t&&t.split("/"),m=p.map,v=m&&m["*"]||{};if(e){for(s=(e=e.split("/")).length-1,p.nodeIdCompat&&g.test(e[s])&&(e[s]=e[s].replace(g,"")),"."===e[0].charAt(0)&&f&&(e=f.slice(0,f.length-1).concat(e)),u=0;u<e.length;u++)if("."===(h=e[u]))e.splice(u,1),u-=1;else if(".."===h){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;0<u&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((f||v)&&m){for(u=(n=e.split("/")).length;0<u;u-=1){if(i=n.slice(0,u).join("/"),f)for(d=f.length;0<d;d-=1)if(o=(o=m[f.slice(0,d).join("/")])&&o[i]){r=o,a=u;break}if(r)break;!l&&v&&v[i]&&(l=v[i],c=u)}!r&&l&&(r=l,a=c),r&&(n.splice(0,a,r),e=n.join("/"))}return e}function _(e,t){return function(){var n=m.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),a.apply(r,n.concat([e,t]))}}function b(e){return function(t){u[e]=t}}function w(e){if(v(d,e)){var t=d[e];delete d[e],h[e]=!0,s.apply(r,t)}if(!v(u,e)&&!v(h,e))throw new Error("No "+e);return u[e]}function C(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function x(e){return e?C(e):[]}return t&&t.requirejs||(t?i=t:t={},u={},d={},p={},h={},f=Object.prototype.hasOwnProperty,m=[].slice,g=/\.js$/,l=function(e,t){var n,i=C(e),o=i[0],r=t[1];return e=i[1],o&&(n=w(o=y(o,r))),o?e=n&&n.normalize?n.normalize(e,function(e){return function(t){return y(t,e)}}(r)):y(e,r):(o=(i=C(e=y(e,r)))[0],e=i[1],o&&(n=w(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},c={require:function(e){return _(e)},exports:function(e){var t=u[e];return void 0!==t?t:u[e]={}},module:function(e){return{id:e,uri:"",exports:u[e],config:function(e){return function(){return p&&p.config&&p.config[e]||{}}}(e)}}},s=function(e,t,n,i){var o,s,a,p,f,m,g,y=[],C=typeof n;if(m=x(i=i||e),"undefined"==C||"function"==C){for(t=!t.length&&n.length?["require","exports","module"]:t,f=0;f<t.length;f+=1)if("require"===(s=(p=l(t[f],m)).f))y[f]=c.require(e);else if("exports"===s)y[f]=c.exports(e),g=!0;else if("module"===s)o=y[f]=c.module(e);else if(v(u,s)||v(d,s)||v(h,s))y[f]=w(s);else{if(!p.p)throw new Error(e+" missing "+s);p.p.load(p.n,_(i,!0),b(s),{}),y[f]=u[s]}a=n?n.apply(u[e],y):void 0,e&&(o&&o.exports!==r&&o.exports!==u[e]?u[e]=o.exports:a===r&&g||(u[e]=a))}else e&&(u[e]=n)},n=i=a=function(e,t,n,i,o){if("string"==typeof e)return c[e]?c[e](t):w(l(e,x(t)).f);if(!e.splice){if((p=e).deps&&a(p.deps,p.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?s(r,e,t,n):setTimeout((function(){s(r,e,t,n)}),4),a},a.config=function(e){return a(e)},n._defined=u,(o=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),v(u,e)||v(d,e)||(d[e]=[e,t,n])}).amd={jQuery:!0},t.requirejs=n,t.require=i,t.define=o),t.define("almond",(function(){})),t.define("jquery",[],(function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t})),t.define("select2/utils",["jquery"],(function(e){var t={};function n(e){var t=e.prototype,n=[];for(var i in t)"function"==typeof t[i]&&"constructor"!==i&&n.push(i);return n}function i(){this.listeners={}}t.Extend=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},t.Decorate=function(e,t){var i=n(t),o=n(e);function r(){var n=Array.prototype.unshift,i=t.prototype.constructor.length,o=e.prototype.constructor;0<i&&(n.call(arguments,e.prototype.constructor),o=t.prototype.constructor),o.apply(this,arguments)}t.displayName=e.displayName,r.prototype=new function(){this.constructor=r};for(var s=0;s<o.length;s++){var a=o[s];r.prototype[a]=e.prototype[a]}function l(e){var n=function(){};e in r.prototype&&(n=r.prototype[e]);var i=t.prototype[e];return function(){return Array.prototype.unshift.call(arguments,n),i.apply(this,arguments)}}for(var c=0;c<i.length;c++){var u=i[c];r.prototype[u]=l(u)}return r},i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},t.Observable=i,t.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=e[t]),i=i[r]}delete e[t]}}return e},t.hasScroll=function(t,n){var i=e(n),o=n.style.overflowX,r=n.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,(function(e){return t[e]}))},t.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,(function(e){i=i.add(e)})),n=i}t.append(n)},t.__cache={};var o=0;return t.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++o),t=o.toString())),t},t.StoreData=function(e,n,i){var o=t.GetUniqueElementId(e);t.__cache[o]||(t.__cache[o]={}),t.__cache[o][n]=i},t.GetData=function(n,i){var o=t.GetUniqueElementId(n);return i?t.__cache[o]&&null!=t.__cache[o][i]?t.__cache[o][i]:e(n).data(i):t.__cache[o]},t.RemoveData=function(e){var n=t.GetUniqueElementId(e);null!=t.__cache[n]&&delete t.__cache[n],e.removeAttribute("data-select2-id")},t})),t.define("select2/results",["jquery","./utils"],(function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(t.message);i.append(n(o(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],o=this.option(i);t.push(o)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current((function(i){var o=e.map(i,(function(e){return e.id.toString()}));n.$results.find(".select2-results__option[aria-selected]").each((function(){var n=e(this),i=t.GetData(this,"data"),r=""+i.id;null!=i.element&&i.element.selected||null==i.element&&-1<e.inArray(r,o)?n.attr("aria-selected","true"):n.attr("aria-selected","false")}))}))},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var i=document.createElement("li");i.className="select2-results__option";var o={role:"option","aria-selected":"false"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var s in(null!=n.element&&r.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==n.id&&delete o["aria-selected"],null!=n._resultId&&(i.id=n._resultId),n.title&&(i.title=n.title),n.children&&(o.role="group",o["aria-label"]=n.text,delete o["aria-selected"]),o){var a=o[s];i.setAttribute(s,a)}if(n.children){var l=e(i),c=document.createElement("strong");c.className="select2-results__group",e(c),this.template(n,c);for(var u=[],d=0;d<n.children.length;d++){var p=n.children[d],h=this.option(p);u.push(h)}var f=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(u),l.append(c),l.append(f)}else this.template(n,i);return t.StoreData(i,"data",n),i},n.prototype.bind=function(n,i){var o=this,r=n.id+"-results";this.$results.attr("id",r),n.on("results:all",(function(e){o.clear(),o.append(e.data),n.isOpen()&&(o.setClasses(),o.highlightFirstItem())})),n.on("results:append",(function(e){o.append(e.data),n.isOpen()&&o.setClasses()})),n.on("query",(function(e){o.hideMessages(),o.showLoading(e)})),n.on("select",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("unselect",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("open",(function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()})),n.on("close",(function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")})),n.on("results:toggle",(function(){var e=o.getHighlightedResults();0!==e.length&&e.trigger("mouseup")})),n.on("results:select",(function(){var e=o.getHighlightedResults();if(0!==e.length){var n=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:n})}})),n.on("results:previous",(function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),n=t.index(e);if(!(n<=0)){var i=n-1;0===e.length&&(i=0);var r=t.eq(i);r.trigger("mouseenter");var s=o.$results.offset().top,a=r.offset().top,l=o.$results.scrollTop()+(a-s);0===i?o.$results.scrollTop(0):a-s<0&&o.$results.scrollTop(l)}})),n.on("results:next",(function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger("mouseenter");var r=o.$results.offset().top+o.$results.outerHeight(!1),s=i.offset().top+i.outerHeight(!1),a=o.$results.scrollTop()+s-r;0===n?o.$results.scrollTop(0):r<s&&o.$results.scrollTop(a)}})),n.on("results:focus",(function(e){e.element.addClass("select2-results__option--highlighted")})),n.on("results:message",(function(e){o.displayMessage(e)})),e.fn.mousewheel&&this.$results.on("mousewheel",(function(e){var t=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-t+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,r=e.deltaY<0&&n<=o.$results.height();i?(o.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),e.preventDefault(),e.stopPropagation())})),this.$results.on("mouseup",".select2-results__option[aria-selected]",(function(n){var i=e(this),r=t.GetData(this,"data");"true"!==i.attr("aria-selected")?o.trigger("select",{originalEvent:n,data:r}):o.options.get("multiple")?o.trigger("unselect",{originalEvent:n,data:r}):o.trigger("close",{})})),this.$results.on("mouseenter",".select2-results__option[aria-selected]",(function(n){var i=t.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:i,element:e(this)})}))},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(t,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):e(n).append(r)},n})),t.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),t.define("select2/selection/base",["jquery","../utils","../keys"],(function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var n=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n},i.prototype.bind=function(e,t){var i=this,o=e.id+"-results";this.container=e,this.$selection.on("focus",(function(e){i.trigger("focus",e)})),this.$selection.on("blur",(function(e){i._handleBlur(e)})),this.$selection.on("keydown",(function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()})),e.on("results:focus",(function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)})),e.on("selection:update",(function(e){i.update(e.data)})),e.on("open",(function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",o),i._attachCloseHandler(e)})),e.on("close",(function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(e)})),e.on("enable",(function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")})),e.on("disable",(function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")}))},i.prototype._handleBlur=function(t){var n=this;window.setTimeout((function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)}),1)},i.prototype._attachCloseHandler=function(n){e(document.body).on("mousedown.select2."+n.id,(function(n){var i=e(n.target).closest(".select2");e(".select2.select2-container--open").each((function(){this!=i[0]&&t.GetData(this,"element").select2("close")}))}))},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i.prototype.isEnabled=function(){return!this.isDisabled()},i.prototype.isDisabled=function(){return this.options.get("disabled")},i})),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(e,t,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",(function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})})),this.$selection.on("focus",(function(e){})),this.$selection.on("blur",(function(e){})),e.on("focus",(function(t){e.isOpen()||n.$selection.trigger("focus")}))},o.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return e("<span></span>")},o.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i);var o=t.title||t.text;o?n.attr("title",o):n.removeAttr("title")}else this.clear()},o})),t.define("select2/selection/multiple",["jquery","./base","../utils"],(function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,o){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",(function(e){r.trigger("toggle",{originalEvent:e})})),this.$selection.on("click",".select2-selection__choice__remove",(function(t){if(!r.isDisabled()){var i=e(this).parent(),o=n.GetData(i[0],"data");r.trigger("unselect",{originalEvent:t,data:o})}}))},i.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var o=e[i],r=this.selectionContainer(),s=this.display(o,r);r.append(s);var a=o.title||o.text;a&&r.attr("title",a),n.StoreData(r[0],"data",o),t.push(r)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,t)}},i})),t.define("select2/selection/placeholder",["../utils"],(function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t})),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(e,t,n){function i(){}return i.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(e){i._handleClear(e)})),t.on("keypress",(function(e){i._handleKeyboardClear(e,t)}))},i.prototype._handleClear=function(e,t){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();var o=n.GetData(i[0],"data"),r=this.$element.val();this.$element.val(this.placeholder.id);var s={data:o};if(this.trigger("clear",s),s.prevented)this.$element.val(r);else{for(var a=0;a<o.length;a++)if(s={data:o[a]},this.trigger("unselect",s),s.prevented)return void this.$element.val(r);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},i.prototype.update=function(t,i){if(t.call(this,i),!(0<this.$selection.find(".select2-selection__placeholder").length||0===i.length)){var o=this.options.get("translations").get("removeAllItems"),r=e('<span class="select2-selection__clear" title="'+o()+'">&times;</span>');n.StoreData(r[0],"data",i),this.$selection.find(".select2-selection__rendered").prepend(r)}},i})),t.define("select2/selection/search",["jquery","../utils","../keys"],(function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,i,o){var r=this,s=i.id+"-results";e.call(this,i,o),i.on("open",(function(){r.$search.attr("aria-controls",s),r.$search.trigger("focus")})),i.on("close",(function(){r.$search.val(""),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")})),i.on("enable",(function(){r.$search.prop("disabled",!1),r._transferTabIndex()})),i.on("disable",(function(){r.$search.prop("disabled",!0)})),i.on("focus",(function(e){r.$search.trigger("focus")})),i.on("results:focus",(function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(e){r.trigger("focus",e)})),this.$selection.on("focusout",".select2-search--inline",(function(e){r._handleBlur(e)})),this.$selection.on("keydown",".select2-search--inline",(function(e){if(e.stopPropagation(),r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===r.$search.val()){var i=r.$searchContainer.prev(".select2-selection__choice");if(0<i.length){var o=t.GetData(i[0],"data");r.searchRemoveChoice(o),e.preventDefault()}}})),this.$selection.on("click",".select2-search--inline",(function(e){r.$search.val()&&e.stopPropagation()}));var a=document.documentMode,l=a&&a<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(e){l?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(e){if(l&&"input"===e.type)r.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&r.handleSearch(e)}}))},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},i})),t.define("select2/selection/eventRelay",["jquery"],(function(e){function t(){}return t.prototype.bind=function(t,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];t.call(this,n,i),n.on("*",(function(t,n){if(-1!==e.inArray(t,r)){n=n||{};var i=e.Event("select2:"+t,{params:n});o.$element.trigger(i),-1!==e.inArray(t,s)&&(n.prevented=i.isDefaultPrevented())}}))},t})),t.define("select2/translation",["jquery","require"],(function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n})),t.define("select2/diacritics",[],(function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}})),t.define("select2/data/base",["../utils"],(function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+e.generateChars(4),i},t})),t.define("select2/data/select",["./base","../utils","jquery"],(function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each((function(){var e=n(this),o=i.item(e);t.push(o)})),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current((function(i){var o=[];(e=[e]).push.apply(e,i);for(var r=0;r<e.length;r++){var s=e[r].id;-1===n.inArray(s,o)&&o.push(s)}t.$element.val(o),t.$element.trigger("input").trigger("change")}));else{var i=e.id;this.$element.val(i),this.$element.trigger("input").trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,n(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current((function(i){for(var o=[],r=0;r<i.length;r++){var s=i[r].id;s!==e.id&&-1===n.inArray(s,o)&&o.push(s)}t.$element.val(o),t.$element.trigger("input").trigger("change")}))}},i.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",(function(e){n.select(e.data)})),e.on("unselect",(function(e){n.unselect(e.data)}))},i.prototype.destroy=function(){this.$element.find("*").each((function(){t.RemoveData(this)}))},i.prototype.query=function(e,t){var i=[],o=this;this.$element.children().each((function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var r=o.item(t),s=o.matches(e,r);null!==s&&i.push(s)}})),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var i;e.children?(i=document.createElement("optgroup")).label=e.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=e.text:i.innerText=e.text,void 0!==e.id&&(i.value=e.id),e.disabled&&(i.disabled=!0),e.selected&&(i.selected=!0),e.title&&(i.title=e.title);var o=n(i),r=this._normalizeItem(e);return r.element=i,t.StoreData(i,"data",r),o},i.prototype.item=function(e){var i={};if(null!=(i=t.GetData(e[0],"data")))return i;if(e.is("option"))i={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){i={text:e.prop("label"),children:[],title:e.prop("title")};for(var o=e.children("option"),r=[],s=0;s<o.length;s++){var a=n(o[s]),l=this.item(a);r.push(l)}i.children=r}return(i=this._normalizeItem(i)).element=e[0],t.StoreData(e[0],"data",i),i},i.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},{selected:!1,disabled:!1},e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i})),t.define("select2/data/array",["./select","../utils","jquery"],(function(e,t,n){function i(e,t){this._dataToConvert=t.get("data")||[],i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype.bind=function(e,t){i.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(e){var t=this.$element.find("option").filter((function(t,n){return n.value==e.id.toString()}));0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){var i=this,o=this.$element.find("option"),r=o.map((function(){return i.item(n(this)).id})).get(),s=[];function a(e){return function(){return n(this).val()==e.id}}for(var l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(0<=n.inArray(c.id,r)){var u=o.filter(a(c)),d=this.item(u),p=n.extend(!0,{},c,d),h=this.option(p);u.replaceWith(h)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);t.appendMany(f,m)}s.push(f)}}return s},i})),t.define("select2/data/ajax",["./array","../utils","jquery"],(function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var o=n.ajax(e);return o.then(t),o.fail(i),o}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){var i=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);function r(){var r=o.transport(o,(function(o){var r=i.processResults(o,e);i.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(r)}),(function(){"status"in r&&(0===r.status||"0"===r.status)||i.trigger("results:message",{message:"errorLoading"})}));i._request=r}"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(r,this.ajaxOptions.delay)):r()},i})),t.define("select2/data/tags",["jquery"],(function(e){function t(t,n,i){var o=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),t.call(this,n,i),e.isArray(o))for(var a=0;a<o.length;a++){var l=o[a],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return t.prototype.query=function(e,t,n){var i=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,(function e(o,r){for(var s=o.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!e({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||c)return!r&&(o.data=s,void n(o))}if(r)return!0;var u=i.createTag(t);if(null!=u){var d=i.option(u);d.attr("data-select2-tag",!0),i.addOptions([d]),i.insertTag(s,u)}o.results=s,n(o)})):e.call(this,t,n)},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each((function(){this.selected||e(this).remove()}))},t})),t.define("select2/data/tokenizer",["jquery"],(function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){var o=this;n.term=n.term||"";var r=this.tokenizer(n,this.options,(function(t){var n=o._normalizeItem(t);if(!o.$element.find("option").filter((function(){return e(this).val()===n.id})).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}!function(e){o.trigger("select",{data:e})}(n)}));r.term!==n.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.trigger("focus")),n.term=r.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,o){for(var r=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<s.length;){var c=s[a];if(-1!==e.inArray(c,r)){var u=s.substr(0,a),d=l(e.extend({},n,{term:u}));null!=d?(o(d),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},t})),t.define("select2/data/minimumInputLength",[],(function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e})),t.define("select2/data/maximumInputLength",[],(function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e})),t.define("select2/data/maximumSelectionLength",[],(function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",(function(){i._checkIfMaximumSelected()}))},e.prototype.query=function(e,t,n){var i=this;this._checkIfMaximumSelected((function(){e.call(i,t,n)}))},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current((function(e){var i=null!=e?e.length:0;0<n.maximumSelectionLength&&i>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):t&&t()}))},e})),t.define("select2/dropdown",["jquery","./utils"],(function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n})),t.define("select2/dropdown/search",["jquery","../utils"],(function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var o=this,r=n.id+"-results";t.call(this,n,i),this.$search.on("keydown",(function(e){o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented()})),this.$search.on("input",(function(t){e(this).off("keyup")})),this.$search.on("keyup input",(function(e){o.handleSearch(e)})),n.on("open",(function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",r),o.$search.trigger("focus"),window.setTimeout((function(){o.$search.trigger("focus")}),0)})),n.on("close",(function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")})),n.on("focus",(function(){n.isOpen()||o.$search.trigger("focus")})),n.on("results:all",(function(e){null!=e.query.term&&""!==e.query.term||(o.showSearch(e)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))})),n.on("results:focus",(function(e){e.data._resultId?o.$search.attr("aria-activedescendant",e.data._resultId):o.$search.removeAttr("aria-activedescendant")}))},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n})),t.define("select2/dropdown/hidePlaceholder",[],(function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var o=t[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},e})),t.define("select2/dropdown/infiniteScroll",["jquery"],(function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",(function(e){i.lastParams=e,i.loading=!0})),t.on("query:append",(function(e){i.lastParams=e,i.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&t){var n=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=n+50&&this.loadMore()}},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t})),t.define("select2/dropdown/attachBody",["jquery","../utils"],(function(e,t){function n(t,n,i){this.$dropdownParent=e(i.get("dropdownParent")||document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",(function(){i._showDropdown(),i._attachPositioningHandler(t),i._bindContainerResultHandlers(t)})),t.on("close",(function(){i._hideDropdown(),i._detachPositioningHandler(t)})),this.$dropdownContainer.on("mousedown",(function(e){e.stopPropagation()}))},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on("results:all",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("results:append",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("results:message",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("select",(function(){n._positionDropdown(),n._resizeDropdown()})),t.on("unselect",(function(){n._positionDropdown(),n._resizeDropdown()})),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each((function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})})),l.on(r,(function(n){var i=t.GetData(this,"select2-scroll-position");e(this).scrollTop(i.y)})),e(window).on(r+" "+s+" "+a,(function(e){o._positionDropdown(),o._resizeDropdown()}))},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,s="orientationchange.select2."+i.id;this.$container.parents().filter(t.hasScroll).off(o),e(window).off(o+" "+r+" "+s)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var a=this.$dropdown.outerHeight(!1),l=t.scrollTop(),c=t.scrollTop()+t.height(),u=l<r.top-a,d=c>r.bottom+a,p={left:r.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f={top:0,left:0};(e.contains(document.body,h[0])||h[0].isConnected)&&(f=h.offset()),p.top-=f.top,p.left-=f.left,n||i||(o="below"),d||!u||n?!u&&d&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(p.top=s.top-f.top-a),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(p)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n})),t.define("select2/dropdown/minimumResultsForSearch",[],(function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var o=t[i];o.children?n+=e(o.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e})),t.define("select2/dropdown/selectOnClose",["../utils"],(function(e){function t(){}return t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",(function(e){i._handleSelectOnClose(e)}))},t.prototype._handleSelectOnClose=function(t,n){if(n&&null!=n.originalSelect2Event){var i=n.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var r=e.GetData(o[0],"data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t})),t.define("select2/dropdown/closeOnSelect",[],(function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",(function(e){i._selectTriggered(e)})),t.on("unselect",(function(e){i._selectTriggered(e)}))},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e})),t.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}})),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],(function(e,t,n,i,o,r,s,a,l,c,u,d,p,h,f,m,g,v,y,_,b,w,C,x,k,T,S,A,E){function O(){this.reset()}return O.prototype.apply=function(u){if(null==(u=e.extend(!0,{},this.defaults,u)).dataAdapter){if(null!=u.ajax?u.dataAdapter=f:null!=u.data?u.dataAdapter=h:u.dataAdapter=p,0<u.minimumInputLength&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),0<u.maximumInputLength&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),0<u.maximumSelectionLength&&(u.dataAdapter=c.Decorate(u.dataAdapter,_)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null!=u.query){var d=t(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,d)}if(null!=u.initSelection){var E=t(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,E)}}if(null==u.resultsAdapter&&(u.resultsAdapter=n,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,x)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,C)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,S))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=b;else{var O=c.Decorate(b,w);u.dropdownAdapter=O}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,T)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,A)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var M=t(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,M)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,k)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=o:u.selectionAdapter=i,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,r)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var $=t(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,$)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}u.language=this._resolveLanguage(u.language),u.language.push("en");for(var F=[],P=0;P<u.language.length;P++){var j=u.language[P];-1===F.indexOf(j)&&F.push(j)}return u.language=F,u.translations=this._processTranslations(u.language,u.debug),u},O.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return d[e]||e}))}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function n(i,o){if(""===e.trim(i.term))return o;if(o.children&&0<o.children.length){for(var r=e.extend(!0,{},o),s=o.children.length-1;0<=s;s--)null==n(i,o.children[s])&&r.children.splice(s,1);return 0<r.children.length?r:n(i,r)}var a=t(o.text).toUpperCase(),l=t(i.term).toUpperCase();return-1<a.indexOf(l)?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},O.prototype.applyFromElement=function(e,t){var n=e.language,i=this.defaults.language,o=t.prop("lang"),r=t.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(r));return e.language=s,e},O.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var n;n=e.isArray(t)?t:[t];for(var i=[],o=0;o<n.length;o++)if(i.push(n[o]),"string"==typeof n[o]&&0<n[o].indexOf("-")){var r=n[o].split("-")[0];i.push(r)}return i},O.prototype._processTranslations=function(t,n){for(var i=new u,o=0;o<t.length;o++){var r=new u,s=t[o];if("string"==typeof s)try{r=u.loadPath(s)}catch(t){try{s=this.defaults.amdLanguageBase+s,r=u.loadPath(s)}catch(t){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+s+'" could not be automatically loaded. A fallback will be used instead.')}}else r=e.isPlainObject(s)?new u(s):s;i.extend(r)}return i},O.prototype.set=function(t,n){var i={};i[e.camelCase(t)]=n;var o=c._convertData(i);e.extend(!0,this.defaults,o)},new O})),t.define("select2/options",["require","jquery","./defaults","./utils"],(function(e,t,n,i){function o(t,o){if(this.options=t,null!=o&&this.fromElement(o),null!=o&&(this.options=n.applyFromElement(this.options,o)),this.options=n.apply(this.options),o&&o.is("input")){var r=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),i.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),i.StoreData(e[0],"data",i.GetData(e[0],"select2Tags")),i.StoreData(e[0],"tags",!0)),i.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",i.GetData(e[0],"ajaxUrl")),i.StoreData(e[0],"ajax-Url",i.GetData(e[0],"ajaxUrl")));var o={};function r(e,t){return t.toUpperCase()}for(var s=0;s<e[0].attributes.length;s++){var a=e[0].attributes[s].name,l="data-";if(a.substr(0,l.length)==l){var c=a.substring(l.length),u=i.GetData(e[0],c);o[c.replace(/-([a-z])/g,r)]=u}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(o=t.extend(!0,{},e[0].dataset,o));var d=t.extend(!0,{},i.GetData(e[0]),o);for(var p in d=i._convertData(d))-1<t.inArray(p,n)||(t.isPlainObject(this.options[p])?t.extend(this.options[p],d[p]):this.options[p]=d[p]);return this},o.prototype.get=function(e){return this.options[e]},o.prototype.set=function(e,t){this.options[e]=t},o})),t.define("select2/core",["jquery","./options","./utils","./keys"],(function(e,t,n,i){var o=function(e,i){null!=n.GetData(e[0],"select2")&&n.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),i=i||{},this.options=new t(i,e),o.__super__.constructor.call(this);var r=e.attr("tabindex")||0;n.StoreData(e[0],"old-tabindex",r),e.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(e,this.options);var a=this.render();this._placeContainer(a);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var c=this.options.get("dropdownAdapter");this.dropdown=new c(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var u=this.options.get("resultsAdapter");this.results=new u(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(e){d.trigger("selection:update",{data:e})})),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(e[0],"select2",this),e.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},o.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(e[0]).width;var r=e.attr("style");if("string"!=typeof r)return null;for(var s=r.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",(function(){e.dataAdapter.current((function(t){e.trigger("selection:update",{data:t})}))})),this.$element.on("focus.select2",(function(t){e.trigger("focus",t)})),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t((function(t){e._syncA(),e._syncS(null,t)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},o.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",(function(t,n){e.trigger(t,n)}))},o.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",(function(){t.toggleDropdown()})),this.selection.on("focus",(function(e){t.focus(e)})),this.selection.on("*",(function(i,o){-1===e.inArray(i,n)&&t.trigger(i,o)}))},o.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",(function(t,n){e.trigger(t,n)}))},o.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",(function(t,n){e.trigger(t,n)}))},o.prototype._registerEvents=function(){var e=this;this.on("open",(function(){e.$container.addClass("select2-container--open")})),this.on("close",(function(){e.$container.removeClass("select2-container--open")})),this.on("enable",(function(){e.$container.removeClass("select2-container--disabled")})),this.on("disable",(function(){e.$container.addClass("select2-container--disabled")})),this.on("blur",(function(){e.$container.removeClass("select2-container--focus")})),this.on("query",(function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,(function(n){e.trigger("results:all",{data:n,query:t})}))})),this.on("query:append",(function(t){this.dataAdapter.query(t,(function(n){e.trigger("results:append",{data:n,query:t})}))})),this.on("keypress",(function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(t),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())}))},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._isChangeMutation=function(t,n){var i=!1,o=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(n)if(n.addedNodes&&0<n.addedNodes.length)for(var r=0;r<n.addedNodes.length;r++)n.addedNodes[r].selected&&(i=!0);else n.removedNodes&&0<n.removedNodes.length?i=!0:e.isArray(n)&&e.each(n,(function(e,t){if(o._isChangeMutation(e,t))return!(i=!0)}));else i=!0;return i}},o.prototype._syncSubtree=function(e,t){var n=this._isChangeMutation(e,t),i=this;n&&this.dataAdapter.current((function(e){i.trigger("selection:update",{data:e})}))},o.prototype.trigger=function(e,t){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in i){var r=i[e],s={prevented:!1,name:e,args:t};if(n.call(this,r,s),s.prevented)return void(t.prevented=!0)}n.call(this,e,t)},o.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},o.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},o.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current((function(t){e=t})),e},o.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,(function(e){return e.toString()}))),this.$element.val(n).trigger("input").trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(t[0],"element",this.$element),t},o})),t.define("jquery-mousewheel",["jquery"],(function(e){return e})),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(e,t,n,i,o){if(null==e.fn.select2){var r=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each((function(){var i=e.extend(!0,{},t);new n(e(this),i)})),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var i,s=Array.prototype.slice.call(arguments,1);return this.each((function(){var e=o.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=e[t].apply(e,s)})),-1<e.inArray(t,r)?this:i}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n})),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n})),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e)})):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,(function(e){function t(e){this.$container,this.constraints=null,this.__$tooltip,this.__init(e)}function n(t,n){var i=!0;return e.each(t,(function(e,o){return void 0===n[e]||t[e]!==n[e]?(i=!1,!1):void 0})),i}function i(t){var n=t.attr("id"),i=n?s.window.document.getElementById(n):null;return i?i===t[0]:e.contains(s.window.document.body,t[0])}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},r="undefined"!=typeof window?window:null,s={hasTouchCapability:!(!r||!("ontouchstart"in r||r.DocumentTouch&&r.document instanceof r.DocumentTouch||r.navigator.maxTouchPoints)),hasTransitions:function(){if(!r)return!1;var e=(r.document.body||r.document.documentElement).style,t="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[t])return!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof e[n[i]+t])return!0;return!1}(),IE:!1,semVer:"4.2.8",window:r},a=function(){this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__instancesLatestArr=[],this.__plugins={},this._env=s};a.prototype={__bridge:function(t,n,i){if(!n[i]){var r=function(){};r.prototype=t;var s=new r;s.__init&&s.__init(n),e.each(t,(function(e,t){0!=e.indexOf("__")&&(n[e]?o.debug&&console.log("The "+e+" method of the "+i+" plugin conflicts with another plugin or native methods"):(n[e]=function(){return s[e].apply(s,Array.prototype.slice.apply(arguments))},n[e].bridged=s))})),n[i]=s}return this},__setWindow:function(e){return s.window=e,this},_getRuler:function(e){return new t(e)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(t){var n=this;if("string"==typeof t){var i=t,o=null;return i.indexOf(".")>0?o=n.__plugins[i]:e.each(n.__plugins,(function(e,t){return t.name.substring(t.name.length-i.length-1)=="."+i?(o=t,!1):void 0})),o}if(t.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return n.__plugins[t.name]=t,t.core&&n.__bridge(t.core,n,t.name),this},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},instances:function(t){var n=[];return e(t||".tooltipstered").each((function(){var t=e(this),i=t.data("tooltipster-ns");i&&e.each(i,(function(e,i){n.push(t.data(i))}))})),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(t){return e((t?t+" ":"")+".tooltipstered").toArray()},setDefaults:function(t){return e.extend(o,t),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.tooltipster=new a,e.Tooltipster=function(t,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(t,n)},e.Tooltipster.prototype={__init:function(t,n){var i=this;if(i._$origin=e(t),i.__options=e.extend(!0,{},o,n),i.__optionsFormat(),!s.IE||s.IE>=i.__options.IEmin){var r=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(void 0===(r=i._$origin.attr("title"))&&(r=null),i._$origin.data("tooltipster-initialTitle",r)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var a,l=i._$origin.attr("data-tooltip-content");l&&(a=e(l)),a&&a[0]?i.__contentSet(a.first()):i.__contentSet(r)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),e.each(i.__options.plugins,(function(e,t){i._plug(t)})),s.hasTouchCapability&&e(s.window.document.body).on("touchmove."+i.__namespace+"-triggerOpen",(function(e){i._touchRecordEvent(e)})),i._on("created",(function(){i.__prepareTooltip()}))._on("repositioned",(function(e){i.__lastPosition=e.position}))}else i.__options.disabled=!0},__contentInsert:function(){var e=this,t=e._$tooltip.find(".tooltipster-content"),n=e.__Content;return e._trigger({type:"format",content:e.__Content,format:function(e){n=e}}),e.__options.functionFormat&&(n=e.__options.functionFormat.call(e,e,{origin:e._$origin[0]},e.__Content)),"string"!=typeof n||e.__options.contentAsHTML?t.empty().append(n):t.text(n),e},__contentSet:function(t){return t instanceof e&&this.__options.contentCloning&&(t=t.clone(!0)),this.__Content=t,this._trigger({type:"updated",content:t}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var t=this,n=t._$origin,i=t._$origin.is("area");if(i){var o=t._$origin.parent().attr("name");n=e('img[usemap="#'+o+'"]')}var r=n[0].getBoundingClientRect(),a=e(s.window.document),l=e(s.window),c=n,u={available:{document:null,window:null},document:{size:{height:a.height(),width:a.width()}},window:{scroll:{left:s.window.scrollX||s.window.document.documentElement.scrollLeft,top:s.window.scrollY||s.window.document.documentElement.scrollTop},size:{height:l.height(),width:l.width()}},origin:{fixedLineage:!1,offset:{},size:{height:r.bottom-r.top,width:r.right-r.left},usemapImage:i?n[0]:null,windowOffset:{bottom:r.bottom,left:r.left,right:r.right,top:r.top}}};if(i){var d=t._$origin.attr("shape"),p=t._$origin.attr("coords");if(p&&(p=p.split(","),e.map(p,(function(e,t){p[t]=parseInt(e)}))),"default"!=d)switch(d){case"circle":var h=p[0],f=p[1],m=p[2],g=f-m,v=h-m;u.origin.size.height=2*m,u.origin.size.width=u.origin.size.height,u.origin.windowOffset.left+=v,u.origin.windowOffset.top+=g;break;case"rect":var y=p[0],_=p[1],b=p[2],w=p[3];u.origin.size.height=w-_,u.origin.size.width=b-y,u.origin.windowOffset.left+=y,u.origin.windowOffset.top+=_;break;case"poly":for(var C=0,x=0,k=0,T=0,S="even",A=0;A<p.length;A++){var E=p[A];"even"==S?(E>k&&(k=E,0===A&&(C=k)),C>E&&(C=E),S="odd"):(E>T&&(T=E,1==A&&(x=T)),x>E&&(x=E),S="even")}u.origin.size.height=T-x,u.origin.size.width=k-C,u.origin.windowOffset.left+=C,u.origin.windowOffset.top+=x}}for(t._trigger({type:"geometry",edit:function(e){u.origin.size.height=e.height,u.origin.windowOffset.left=e.left,u.origin.windowOffset.top=e.top,u.origin.size.width=e.width},geometry:{height:u.origin.size.height,left:u.origin.windowOffset.left,top:u.origin.windowOffset.top,width:u.origin.size.width}}),u.origin.windowOffset.right=u.origin.windowOffset.left+u.origin.size.width,u.origin.windowOffset.bottom=u.origin.windowOffset.top+u.origin.size.height,u.origin.offset.left=u.origin.windowOffset.left+u.window.scroll.left,u.origin.offset.top=u.origin.windowOffset.top+u.window.scroll.top,u.origin.offset.bottom=u.origin.offset.top+u.origin.size.height,u.origin.offset.right=u.origin.offset.left+u.origin.size.width,u.available.document={bottom:{height:u.document.size.height-u.origin.offset.bottom,width:u.document.size.width},left:{height:u.document.size.height,width:u.origin.offset.left},right:{height:u.document.size.height,width:u.document.size.width-u.origin.offset.right},top:{height:u.origin.offset.top,width:u.document.size.width}},u.available.window={bottom:{height:Math.max(u.window.size.height-Math.max(u.origin.windowOffset.bottom,0),0),width:u.window.size.width},left:{height:u.window.size.height,width:Math.max(u.origin.windowOffset.left,0)},right:{height:u.window.size.height,width:Math.max(u.window.size.width-Math.max(u.origin.windowOffset.right,0),0)},top:{height:Math.max(u.origin.windowOffset.top,0),width:u.window.size.width}};"html"!=c[0].tagName.toLowerCase();){if("fixed"==c.css("position")){u.origin.fixedLineage=!0;break}c=c.parent()}return u},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=e(s.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=e(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var t=this;return t.__options.selfDestruction?t.__garbageCollector=setInterval((function(){var n=(new Date).getTime();t.__touchEvents=e.grep(t.__touchEvents,(function(e,t){return n-e.time>6e4})),i(t._$origin)||t.close((function(){t.destroy()}))}),2e4):clearInterval(t.__garbageCollector),t},__prepareOrigin:function(){var e=this;if(e._$origin.off("."+e.__namespace+"-triggerOpen"),s.hasTouchCapability&&e._$origin.on("touchstart."+e.__namespace+"-triggerOpen touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen",(function(t){e._touchRecordEvent(t)})),e.__options.triggerOpen.click||e.__options.triggerOpen.tap&&s.hasTouchCapability){var t="";e.__options.triggerOpen.click&&(t+="click."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.tap&&s.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen"),e._$origin.on(t,(function(t){e._touchIsMeaningfulEvent(t)&&e._open(t)}))}if(e.__options.triggerOpen.mouseenter||e.__options.triggerOpen.touchstart&&s.hasTouchCapability){t="";e.__options.triggerOpen.mouseenter&&(t+="mouseenter."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.touchstart&&s.hasTouchCapability&&(t+="touchstart."+e.__namespace+"-triggerOpen"),e._$origin.on(t,(function(t){!e._touchIsTouchEvent(t)&&e._touchIsEmulatedEvent(t)||(e.__pointerIsOverOrigin=!0,e._openShortly(t))}))}if(e.__options.triggerClose.mouseleave||e.__options.triggerClose.touchleave&&s.hasTouchCapability){t="";e.__options.triggerClose.mouseleave&&(t+="mouseleave."+e.__namespace+"-triggerOpen "),e.__options.triggerClose.touchleave&&s.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen"),e._$origin.on(t,(function(t){e._touchIsMeaningfulEvent(t)&&(e.__pointerIsOverOrigin=!1)}))}return e},__prepareTooltip:function(){var t=this,n=t.__options.interactive?"auto":"";return t._$tooltip.attr("id",t.__namespace).css({"pointer-events":n,zIndex:t.__options.zIndex}),e.each(t.__previousThemes,(function(e,n){t._$tooltip.removeClass(n)})),e.each(t.__options.theme,(function(e,n){t._$tooltip.addClass(n)})),t.__previousThemes=e.merge([],t.__options.theme),t},__scrollHandler:function(t){var n=this;if(n.__options.triggerClose.scroll)n._close(t);else if(i(n._$origin)&&i(n._$tooltip)){var o=null;if(t.target===s.window.document)n.__Geometry.origin.fixedLineage||n.__options.repositionOnScroll&&n.reposition(t);else{o=n.__geometry();var r=!1;if("fixed"!=n._$origin.css("position")&&n.__$originParents.each((function(t,n){var i=e(n),s=i.css("overflow-x"),a=i.css("overflow-y");if("visible"!=s||"visible"!=a){var l=n.getBoundingClientRect();if("visible"!=s&&(o.origin.windowOffset.left<l.left||o.origin.windowOffset.right>l.right))return r=!0,!1;if("visible"!=a&&(o.origin.windowOffset.top<l.top||o.origin.windowOffset.bottom>l.bottom))return r=!0,!1}return"fixed"!=i.css("position")&&void 0})),r)n._$tooltip.css("visibility","hidden");else if(n._$tooltip.css("visibility","visible"),n.__options.repositionOnScroll)n.reposition(t);else{var a=o.origin.offset.left-n.__Geometry.origin.offset.left,l=o.origin.offset.top-n.__Geometry.origin.offset.top;n._$tooltip.css({left:n.__lastPosition.coord.left+a,top:n.__lastPosition.coord.top+l})}}n._trigger({type:"scroll",event:t,geo:o})}return n},__stateSet:function(e){return this.__state=e,this._trigger({type:"state",state:e}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,e.each(this.__timeouts.close,(function(e,t){clearTimeout(t)})),this.__timeouts.close=[],this},__trackerStart:function(){var e=this,t=e._$tooltip.find(".tooltipster-content");return e.__options.trackTooltip&&(e.__contentBcr=t[0].getBoundingClientRect()),e.__tracker=setInterval((function(){if(i(e._$origin)&&i(e._$tooltip)){if(e.__options.trackOrigin){var o=e.__geometry(),r=!1;n(o.origin.size,e.__Geometry.origin.size)&&(e.__Geometry.origin.fixedLineage?n(o.origin.windowOffset,e.__Geometry.origin.windowOffset)&&(r=!0):n(o.origin.offset,e.__Geometry.origin.offset)&&(r=!0)),r||(e.__options.triggerClose.mouseleave?e._close():e.reposition())}if(e.__options.trackTooltip){var s=t[0].getBoundingClientRect();s.height===e.__contentBcr.height&&s.width===e.__contentBcr.width||(e.reposition(),e.__contentBcr=s)}}else e._close()}),e.__options.trackerInterval),e},_close:function(t,n,i){var o=this,r=!0;if(o._trigger({type:"close",event:t,stop:function(){r=!1}}),r||i){n&&o.__callbacks.close.push(n),o.__callbacks.open=[],o.__timeoutsClear();var a=function(){e.each(o.__callbacks.close,(function(e,n){n.call(o,o,{event:t,origin:o._$origin[0]})})),o.__callbacks.close=[]};if("closed"!=o.__state){var l=!0,c=(new Date).getTime()+o.__options.animationDuration[1];if("disappearing"==o.__state&&c>o.__closingTime&&o.__options.animationDuration[1]>0&&(l=!1),l){o.__closingTime=c,"disappearing"!=o.__state&&o.__stateSet("disappearing");var u=function(){clearInterval(o.__tracker),o._trigger({type:"closing",event:t}),o._$tooltip.off("."+o.__namespace+"-triggerClose").removeClass("tooltipster-dying"),e(s.window).off("."+o.__namespace+"-triggerClose"),o.__$originParents.each((function(t,n){e(n).off("scroll."+o.__namespace+"-triggerClose")})),o.__$originParents=null,e(s.window.document.body).off("."+o.__namespace+"-triggerClose"),o._$origin.off("."+o.__namespace+"-triggerClose"),o._off("dismissable"),o.__stateSet("closed"),o._trigger({type:"after",event:t}),o.__options.functionAfter&&o.__options.functionAfter.call(o,o,{event:t,origin:o._$origin[0]}),a()};s.hasTransitions?(o._$tooltip.css({"-moz-animation-duration":o.__options.animationDuration[1]+"ms","-ms-animation-duration":o.__options.animationDuration[1]+"ms","-o-animation-duration":o.__options.animationDuration[1]+"ms","-webkit-animation-duration":o.__options.animationDuration[1]+"ms","animation-duration":o.__options.animationDuration[1]+"ms","transition-duration":o.__options.animationDuration[1]+"ms"}),o._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),o.__options.animationDuration[1]>0&&o._$tooltip.delay(o.__options.animationDuration[1]),o._$tooltip.queue(u)):o._$tooltip.stop().fadeOut(o.__options.animationDuration[1],u)}}else a()}return o},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(t,n){var o=this;if(!o.__destroying&&i(o._$origin)&&o.__enabled){var r=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:t,stop:function(){r=!1}}),r&&o.__options.functionBefore&&(r=o.__options.functionBefore.call(o,o,{event:t,origin:o._$origin[0]}))),!1!==r&&null!==o.__Content){n&&o.__callbacks.open.push(n),o.__callbacks.close=[],o.__timeoutsClear();var a,l=function(){"stable"!=o.__state&&o.__stateSet("stable"),e.each(o.__callbacks.open,(function(e,t){t.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})})),o.__callbacks.open=[]};if("closed"!==o.__state)a=0,"disappearing"===o.__state?(o.__stateSet("appearing"),s.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l)):o._$tooltip.stop().fadeIn(l)):"stable"==o.__state&&l();else{if(o.__stateSet("appearing"),a=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(t,!0),s.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout((function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l))}),0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],l),o.__trackerStart(),e(s.window).on("resize."+o.__namespace+"-triggerClose",(function(t){var n=e(document.activeElement);(n.is("input")||n.is("textarea"))&&e.contains(o._$tooltip[0],n[0])||o.reposition(t)})).on("scroll."+o.__namespace+"-triggerClose",(function(e){o.__scrollHandler(e)})),o.__$originParents=o._$origin.parents(),o.__$originParents.each((function(t,n){e(n).on("scroll."+o.__namespace+"-triggerClose",(function(e){o.__scrollHandler(e)}))})),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&s.hasTouchCapability){o._on("dismissable",(function(e){e.dismissable?e.delay?(p=setTimeout((function(){o._close(e.event)}),e.delay),o.__timeouts.close.push(p)):o._close(e):clearTimeout(p)}));var c=o._$origin,u="",d="",p=null;o.__options.interactive&&(c=c.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(u+="mouseenter."+o.__namespace+"-triggerClose ",d+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&s.hasTouchCapability&&(u+="touchstart."+o.__namespace+"-triggerClose",d+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),c.on(d,(function(e){if(o._touchIsTouchEvent(e)||!o._touchIsEmulatedEvent(e)){var t="mouseleave"==e.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:t[1],dismissable:!0,event:e,type:"dismissable"})}})).on(u,(function(e){!o._touchIsTouchEvent(e)&&o._touchIsEmulatedEvent(e)||o._trigger({dismissable:!1,event:e,type:"dismissable"})}))}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",(function(e){o._touchIsTouchEvent(e)||o._touchIsEmulatedEvent(e)||o._close(e)})),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&s.hasTouchCapability)&&setTimeout((function(){if("closed"!=o.__state){var t="",n=e(s.window.document.body);o.__options.triggerClose.click&&(t+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&s.hasTouchCapability&&(t+="touchend."+o.__namespace+"-triggerClose"),n.on(t,(function(t){o._touchIsMeaningfulEvent(t)&&(o._touchRecordEvent(t),o.__options.interactive&&e.contains(o._$tooltip[0],t.target)||o._close(t))})),o.__options.triggerClose.tap&&s.hasTouchCapability&&n.on("touchstart."+o.__namespace+"-triggerClose",(function(e){o._touchRecordEvent(e)}))}}),0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(o.__options.timer>0){p=setTimeout((function(){o._close()}),o.__options.timer+a);o.__timeouts.close.push(p)}}}return o},_openShortly:function(e){var t=this,n=!0;if("stable"!=t.__state&&"appearing"!=t.__state&&!t.__timeouts.open&&(t._trigger({type:"start",event:e,stop:function(){n=!1}}),n)){var i=0==e.type.indexOf("touch")?t.__options.delayTouch:t.__options.delay;i[0]?t.__timeouts.open=setTimeout((function(){t.__timeouts.open=null,t.__pointerIsOverOrigin&&t._touchIsMeaningfulEvent(e)?(t._trigger("startend"),t._open(e)):t._trigger("startcancel")}),i[0]):(t._trigger("startend"),t._open(e))}return t},_optionsExtract:function(t,n){var i=this,o=e.extend(!0,{},n),r=i.__options[t];return r||(r={},e.each(n,(function(e,t){var n=i.__options[e];void 0!==n&&(r[e]=n)}))),e.each(o,(function(t,n){void 0!==r[t]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof r[t]||r[t]instanceof Array||null==r[t]?o[t]=r[t]:e.extend(o[t],r[t]))})),o},_plug:function(t){var n=e.tooltipster._plugin(t);if(!n)throw new Error('The "'+t+'" plugin is not defined');return n.instance&&e.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(e){for(var t=!1,n=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--){var o=this.__touchEvents[i];if(!(n-o.time<500))break;o.target===e.target&&(t=!0)}return t},_touchIsMeaningfulEvent:function(e){return this._touchIsTouchEvent(e)&&!this._touchSwiped(e.target)||!this._touchIsTouchEvent(e)&&!this._touchIsEmulatedEvent(e)},_touchIsTouchEvent:function(e){return 0==e.type.indexOf("touch")},_touchRecordEvent:function(e){return this._touchIsTouchEvent(e)&&(e.time=(new Date).getTime(),this.__touchEvents.push(e)),this},_touchSwiped:function(e){for(var t=!1,n=this.__touchEvents.length-1;n>=0;n--){var i=this.__touchEvents[n];if("touchmove"==i.type){t=!0;break}if("touchstart"==i.type&&e===i.target)break}return t},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),t[0].instance=this,t[0].origin=this._$origin?this._$origin[0]:null,t[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),e.tooltipster._trigger.apply(e.tooltipster,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},_unplug:function(t){var n=this;if(n[t]){var i=e.tooltipster._plugin(t);i.instance&&e.each(i.instance,(function(e,i){n[e]&&n[e].bridged===n[t]&&delete n[e]})),n[t].__destroy&&n[t].__destroy(),delete n[t]}return n},close:function(e){return this.__destroyed?this.__destroyError():this._close(null,e),this},content:function(e){var t=this;if(void 0===e)return t.__Content;if(t.__destroyed)t.__destroyError();else if(t.__contentSet(e),null!==t.__Content){if("closed"!==t.__state&&(t.__contentInsert(),t.reposition(),t.__options.updateAnimation))if(s.hasTransitions){var n=t.__options.updateAnimation;t._$tooltip.addClass("tooltipster-update-"+n),setTimeout((function(){"closed"!=t.__state&&t._$tooltip.removeClass("tooltipster-update-"+n)}),1e3)}else t._$tooltip.fadeTo(200,.5,(function(){"closed"!=t.__state&&t._$tooltip.fadeTo(200,1)}))}else t._close();return t},destroy:function(){var t=this;if(t.__destroyed)t.__destroyError();else{"closed"!=t.__state?t.option("animationDuration",0)._close(null,null,!0):t.__timeoutsClear(),t._trigger("destroy"),t.__destroyed=!0,t._$origin.removeData(t.__namespace).off("."+t.__namespace+"-triggerOpen"),e(s.window.document.body).off("."+t.__namespace+"-triggerOpen");var n=t._$origin.data("tooltipster-ns");if(n)if(1===n.length){var i=null;"previous"==t.__options.restoration?i=t._$origin.data("tooltipster-initialTitle"):"current"==t.__options.restoration&&(i="string"==typeof t.__Content?t.__Content:e("<div></div>").append(t.__Content).html()),i&&t._$origin.attr("title",i),t._$origin.removeClass("tooltipstered"),t._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=e.grep(n,(function(e,n){return e!==t.__namespace})),t._$origin.data("tooltipster-ns",n);t._trigger("destroyed"),t._off(),t.off(),t.__Content=null,t.__$emitterPrivate=null,t.__$emitterPublic=null,t.__options.parent=null,t._$origin=null,t._$tooltip=null,e.tooltipster.__instancesLatestArr=e.grep(e.tooltipster.__instancesLatestArr,(function(e,n){return t!==e})),clearInterval(t.__garbageCollector)}return t},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(e){return this.close(e)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(e){return this.__destroyed?this.__destroyError():this._open(null,e),this},option:function(t,n){return void 0===n?this.__options[t]:(this.__destroyed?this.__destroyError():(this.__options[t]=n,this.__optionsFormat(),e.inArray(t,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===t&&this.__prepareGC()),this)},reposition:function(e,t){var n=this;return n.__destroyed?n.__destroyError():"closed"!=n.__state&&i(n._$origin)&&(t||i(n._$tooltip))&&(t||n._$tooltip.detach(),n.__Geometry=n.__geometry(),n._trigger({type:"reposition",event:e,helper:{geo:n.__Geometry}})),n},show:function(e){return this.open(e)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.fn.tooltipster=function(){var t=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof t[0]){var i="#*$~&";return this.each((function(){var o=e(this).data("tooltipster-ns"),r=o?e(this).data(o[0]):null;if(!r)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof r[t[0]])throw new Error('Unknown method "'+t[0]+'"');this.length>1&&"content"==t[0]&&(t[1]instanceof e||"object"==typeof t[1]&&null!=t[1]&&t[1].tagName)&&!r.__options.contentCloning&&r.__options.debug&&console.log(n);var s=r[t[0]](t[1],t[2]);return s!==r||"instance"===t[0]?(i=s,!1):void 0})),"#*$~&"!==i?i:this}e.tooltipster.__instancesLatestArr=[];var r=t[0]&&void 0!==t[0].multiple,s=r&&t[0].multiple||!r&&o.multiple,a=t[0]&&void 0!==t[0].content,l=a&&t[0].content||!a&&o.content,c=t[0]&&void 0!==t[0].contentCloning,u=c&&t[0].contentCloning||!c&&o.contentCloning,d=t[0]&&void 0!==t[0].debug,p=d&&t[0].debug||!d&&o.debug;return this.length>1&&(l instanceof e||"object"==typeof l&&null!=l&&l.tagName)&&!u&&p&&console.log(n),this.each((function(){var n=!1,i=e(this),o=i.data("tooltipster-ns"),r=null;o?s?n=!0:p&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):n=!0,n&&(r=new e.Tooltipster(this,t[0]),o||(o=[]),o.push(r.__namespace),i.data("tooltipster-ns",o),i.data(r.__namespace,r),r.__options.functionInit&&r.__options.functionInit.call(r,r,{origin:this}),r._trigger("init")),e.tooltipster.__instancesLatestArr.push(r)})),this},t.prototype={__init:function(t){this.__$tooltip=t,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=e('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(s.window.document.body)},__forceRedraw:function(){var e=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(e)},constrain:function(e,t){return this.constraints={width:e,height:t},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:e}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var e=this.__$tooltip[0].getBoundingClientRect(),t={size:{height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),i=this.__$tooltip.outerHeight(),o=n[0].getBoundingClientRect(),r={height:i<=this.constraints.height,width:e.width<=this.constraints.width&&o.width>=n[0].scrollWidth-1};t.fits=r.height&&r.width}return s.IE&&s.IE<=11&&t.size.width!==s.window.document.documentElement.clientWidth&&(t.size.width=Math.ceil(t.size.width)+1),t}};var l=navigator.userAgent.toLowerCase();-1!=l.indexOf("msie")?s.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?s.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(s.IE=parseInt(l.toLowerCase().split("edge/")[1]));var c="tooltipster.sideTip";return e.tooltipster._plugin({name:c,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(e){var t=this;t.__instance=e,t.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),t.__previousState="closed",t.__options,t.__optionsFormat(),t.__instance._on("state."+t.__namespace,(function(e){"closed"==e.state?t.__close():"appearing"==e.state&&"closed"==t.__previousState&&t.__create(),t.__previousState=e.state})),t.__instance._on("options."+t.__namespace,(function(){t.__optionsFormat()})),t.__instance._on("reposition."+t.__namespace,(function(e){t.__reposition(e.event,e.helper)}))},__close:function(){this.__instance.content()instanceof e&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var t=e('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||t.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&t.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&t.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=t,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var t=this;if(t.__options=t.__instance._optionsExtract(c,t.__defaults()),t.__options.position&&(t.__options.side=t.__options.position),"object"!=typeof t.__options.distance&&(t.__options.distance=[t.__options.distance]),t.__options.distance.length<4&&(void 0===t.__options.distance[1]&&(t.__options.distance[1]=t.__options.distance[0]),void 0===t.__options.distance[2]&&(t.__options.distance[2]=t.__options.distance[0]),void 0===t.__options.distance[3]&&(t.__options.distance[3]=t.__options.distance[1])),t.__options.distance={top:t.__options.distance[0],right:t.__options.distance[1],bottom:t.__options.distance[2],left:t.__options.distance[3]},"string"==typeof t.__options.side){t.__options.side=[t.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[t.__options.side]],"left"==t.__options.side[0]||"right"==t.__options.side[0]?t.__options.side.push("top","bottom"):t.__options.side.push("right","left")}6===e.tooltipster._env.IE&&!0!==t.__options.arrow&&(t.__options.arrow=!1)},__reposition:function(t,n){var i,o=this,r=o.__targetFind(n),s=[];o.__instance._$tooltip.detach();var a=o.__instance._$tooltip.clone(),l=e.tooltipster._getRuler(a),c=!1,u=o.__instance.option("animation");switch(u&&a.removeClass("tooltipster-"+u),e.each(["window","document"],(function(i,u){var d=null;if(o.__instance._trigger({container:u,helper:n,satisfied:c,takeTest:function(e){d=e},results:s,type:"positionTest"}),1==d||0!=d&&0==c&&("window"!=u||o.__options.viewportAware))for(i=0;i<o.__options.side.length;i++){var p={horizontal:0,vertical:0},h=o.__options.side[i];"top"==h||"bottom"==h?p.vertical=o.__options.distance[h]:p.horizontal=o.__options.distance[h],o.__sideChange(a,h),e.each(["natural","constrained"],(function(e,i){if(d=null,o.__instance._trigger({container:u,event:t,helper:n,mode:i,results:s,satisfied:c,side:h,takeTest:function(e){d=e},type:"positionTest"}),1==d||0!=d&&0==c){var a={container:u,distance:p,fits:null,mode:i,outerSize:null,side:h,size:null,target:r[h],whole:null},f=("natural"==i?l.free():l.constrain(n.geo.available[u][h].width-p.horizontal,n.geo.available[u][h].height-p.vertical)).measure();if(a.size=f.size,a.outerSize={height:f.size.height+p.vertical,width:f.size.width+p.horizontal},"natural"==i?n.geo.available[u][h].width>=a.outerSize.width&&n.geo.available[u][h].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=f.fits,"window"==u&&(a.fits?a.whole="top"==h||"bottom"==h?n.geo.origin.windowOffset.right>=o.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=o.__options.minIntersection:n.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=o.__options.minIntersection:a.whole=!1),s.push(a),a.whole)c=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=n.geo.available[u][h].width))return!1}}))}})),o.__instance._trigger({edit:function(e){s=e},event:t,helper:n,results:s,type:"positionTested"}),s.sort((function(e,t){if(e.whole&&!t.whole)return-1;if(!e.whole&&t.whole)return 1;if(e.whole&&t.whole){var n=o.__options.side.indexOf(e.side);return(i=o.__options.side.indexOf(t.side))>n?-1:n>i?1:"natural"==e.mode?-1:1}if(e.fits&&!t.fits)return-1;if(!e.fits&&t.fits)return 1;if(e.fits&&t.fits){var i;n=o.__options.side.indexOf(e.side);return(i=o.__options.side.indexOf(t.side))>n?-1:n>i?1:"natural"==e.mode?-1:1}return"document"==e.container&&"bottom"==e.side&&"natural"==e.mode?-1:1})),(i=s[0]).coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=n.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=n.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=n.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=n.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?i.coord.left=0:i.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>n.geo.window.size.width-i.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?i.coord.left=n.geo.window.size.width-i.size.width:i.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?i.coord.top=0:i.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>n.geo.window.size.height-i.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?i.coord.top=n.geo.window.size.height-i.size.height:i.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>n.geo.window.size.width-i.size.width&&(i.coord.left=n.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),o.__sideChange(a,i.side),n.tooltipClone=a[0],n.tooltipParent=o.__instance.option("parent").parent[0],n.mode=i.mode,n.whole=i.whole,n.origin=o.__instance._$origin[0],n.tooltip=o.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var d,p,h,f=e.extend(!0,{},i);if(o.__instance._trigger({edit:function(e){i=e},event:t,helper:n,position:f,type:"position"}),o.__options.functionPosition){var m=o.__options.functionPosition.call(o,o.__instance,n,f);m&&(i=m)}l.destroy(),"top"==i.side||"bottom"==i.side?(d={prop:"left",val:i.target-i.coord.left},p=i.size.width-this.__options.minIntersection):(d={prop:"top",val:i.target-i.coord.top},p=i.size.height-this.__options.minIntersection),d.val<this.__options.minIntersection?d.val=this.__options.minIntersection:d.val>p&&(d.val=p),h=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},i.coord={left:h.left+(i.coord.left-n.geo.origin.windowOffset.left),top:h.top+(i.coord.top-n.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,i.side),n.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(d.prop,d.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:t,position:i})},__sideChange:function(e,t){e.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+t)},__targetFind:function(e){var t={},n=this.__instance._$origin[0].getClientRects();n.length>1&&(1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)));if(n.length<2)t.top=Math.floor(e.geo.origin.windowOffset.left+e.geo.origin.size.width/2),t.bottom=t.top,t.left=Math.floor(e.geo.origin.windowOffset.top+e.geo.origin.size.height/2),t.right=t.left;else{var i=n[0];t.top=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],t.right=Math.floor(i.top+(i.bottom-i.top)/2),i=n[n.length-1],t.bottom=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],t.left=Math.floor(i.top+(i.bottom-i.top)/2)}return t}}}),e})),
/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */
function(e,t,n,i){var o=n("html"),r=n(e),s=n(t),a=n.fancybox=function(){a.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,u=t.createTouch!==i,d=function(e){return e&&e.hasOwnProperty&&e instanceof n},p=function(e){return e&&"string"===n.type(e)},h=function(e){return p(e)&&0<e.indexOf("%")},f=function(e,t){var n=parseInt(e,10)||0;return t&&h(e)&&(n*=a.getViewport()[t]/100),Math.ceil(n)},m=function(e,t){return f(e,t)+"px"};n.extend(a,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!u,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){if(e&&(n.isPlainObject(t)||(t={}),!1!==a.close(!0)))return n.isArray(e)||(e=d(e)?n(e).get():[e]),n.each(e,(function(o,r){var s,l,c,u,h,f={};"object"===n.type(r)&&(r.nodeType&&(r=n(r)),d(r)?(f={href:r.data("fancybox-href")||r.attr("href"),title:n("<div/>").text(r.data("fancybox-title")||r.attr("title")).html(),isDom:!0,element:r},n.metadata&&n.extend(!0,f,r.metadata())):f=r),s=t.href||f.href||(p(r)?r:null),l=t.title!==i?t.title:f.title||"",!(u=(c=t.content||f.content)?"html":t.type||f.type)&&f.isDom&&((u=r.data("fancybox-type"))||(u=(u=r.prop("class").match(/fancybox\.(\w+)/))?u[1]:null)),p(s)&&(u||(a.isImage(s)?u="image":a.isSWF(s)?u="swf":"#"===s.charAt(0)?u="inline":p(r)&&(u="html",c=r)),"ajax"===u&&(h=s.split(/\s+/,2),s=h.shift(),h=h.shift())),c||("inline"===u?s?c=n(p(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):f.isDom&&(c=r):"html"===u?c=s:u||s||!f.isDom||(u="inline",c=r)),n.extend(f,{href:s,type:u,content:c,title:l,selector:h}),e[o]=f})),a.opts=n.extend(!0,{},a.defaults,t),t.keys!==i&&(a.opts.keys=!!t.keys&&n.extend({},a.defaults.keys,t.keys)),a.group=e,a._start(a.opts.index)},cancel:function(){var e=a.coming;e&&!1===a.trigger("onCancel")||(a.hideLoading(),e&&(a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(e)))},close:function(e){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&!0!==e?(a.isOpen=a.isOpened=!1,a.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(a.player.timer)},n=function(){t(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},i=function(){t(),s.unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")};!0===e||!a.player.isActive&&!1!==e?a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,s.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":t}),n(),a.trigger("onPlayStart")):i()},next:function(e){var t=a.current;t&&(p(e)||(e=t.direction.next),a.jumpto(t.index+1,e,"next"))},prev:function(e){var t=a.current;t&&(p(e)||(e=t.direction.prev),a.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,n){var o=a.current;o&&(e=f(e),a.direction=t||o.direction[e>=o.index?"next":"prev"],a.router=n||"jumpto",o.loop&&(0>e&&(e=o.group.length+e%o.group.length),e%=o.group.length),o.group[e]!==i&&(a.cancel(),a._start(e)))},reposition:function(e,t){var i,o=a.current,r=o?o.wrap:null;r&&(i=a._getPosition(t),e&&"scroll"===e.type?(delete i.position,r.stop(!0,!0).animate(i,200)):(r.css(i),o.pos=n.extend({},o.dim,i)))},update:function(e){var t=e&&e.originalEvent&&e.originalEvent.type,n=!t||"orientationchange"===t;n&&(clearTimeout(c),c=null),a.isOpen&&!c&&(c=setTimeout((function(){var i=a.current;i&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(n||"load"===t||"resize"===t&&i.autoResize)&&a._setDimension(),"scroll"===t&&i.canShrink||a.reposition(e),a.trigger("onUpdate"),c=null)}),n&&!u?0:300))},toggle:function(e){a.isOpen&&(a.current.fitToView="boolean"===n.type(e)?e:!a.current.fitToView,u&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){s.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var e,t;a.hideLoading(),e=n('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body"),s.bind("keydown.loading",(function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),a.cancel())})),a.defaults.fixed||(t=a.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x})),a.trigger("onLoading")},getViewport:function(){var t=a.current&&a.current.locked||!1,n={x:r.scrollLeft(),y:r.scrollTop()};return t&&t.length?(n.w=t[0].clientWidth,n.h=t[0].clientHeight):(n.w=u&&e.innerWidth?e.innerWidth:r.width(),n.h=u&&e.innerHeight?e.innerHeight:r.height()),n},unbindEvents:function(){a.wrap&&d(a.wrap)&&a.wrap.unbind(".fb"),s.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var e,t=a.current;t&&(r.bind("orientationchange.fb"+(u?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),a.update),(e=t.keys)&&s.bind("keydown.fb",(function(o){var r=o.which||o.keyCode,s=o.target||o.srcElement;if(27===r&&a.coming)return!1;o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||s&&(s.type||n(s).is("[contenteditable]"))||n.each(e,(function(e,s){return 1<t.group.length&&s[r]!==i?(a[e](s[r]),o.preventDefault(),!1):-1<n.inArray(r,s)?(a[e](),o.preventDefault(),!1):void 0}))})),n.fn.mousewheel&&t.mouseWheel&&a.wrap.bind("mousewheel.fb",(function(e,i,o,r){for(var s=n(e.target||null),l=!1;s.length&&!(l||s.is(".fancybox-skin")||s.is(".fancybox-wrap"));)l=s[0]&&!(s[0].style.overflow&&"hidden"===s[0].style.overflow)&&(s[0].clientWidth&&s[0].scrollWidth>s[0].clientWidth||s[0].clientHeight&&s[0].scrollHeight>s[0].clientHeight),s=n(s).parent();0!==i&&!l&&1<a.group.length&&!t.canShrink&&(0<r||0<o?a.prev(0<r?"down":"left"):(0>r||0>o)&&a.next(0>r?"up":"right"),e.preventDefault())})))},trigger:function(e,t){var i,o=t||a.coming||a.current;if(o){if(n.isFunction(o[e])&&(i=o[e].apply(o,Array.prototype.slice.call(arguments,1))),!1===i)return!1;o.helpers&&n.each(o.helpers,(function(t,i){i&&a.helpers[t]&&n.isFunction(a.helpers[t][e])&&a.helpers[t][e](n.extend(!0,{},a.helpers[t].defaults,i),o)}))}s.trigger(e)},isImage:function(e){return p(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return p(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,i,o={};if(e=f(e),!(t=a.group[e]||null))return!1;if(t=(o=n.extend(!0,{},a.opts,t)).margin,i=o.padding,"number"===n.type(t)&&(o.margin=[t,t,t,t]),"number"===n.type(i)&&(o.padding=[i,i,i,i]),o.modal&&n.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),o.autoSize&&(o.autoWidth=o.autoHeight=!0),"auto"===o.width&&(o.autoWidth=!0),"auto"===o.height&&(o.autoHeight=!0),o.group=a.group,o.index=e,a.coming=o,!1===a.trigger("beforeLoad"))a.coming=null;else{if(i=o.type,t=o.href,!i)return a.coming=null,!(!a.current||!a.router||"jumpto"===a.router)&&(a.current.index=e,a[a.router](a.direction));if(a.isActive=!0,"image"!==i&&"swf"!==i||(o.autoHeight=o.autoWidth=!1,o.scrolling="visible"),"image"===i&&(o.aspectRatio=!0),"iframe"===i&&u&&(o.scrolling="scroll"),o.wrap=n(o.tpl.wrap).addClass("fancybox-"+(u?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+o.wrapCSS).appendTo(o.parent||"body"),n.extend(o,{skin:n(".fancybox-skin",o.wrap),outer:n(".fancybox-outer",o.wrap),inner:n(".fancybox-inner",o.wrap)}),n.each(["Top","Right","Bottom","Left"],(function(e,t){o.skin.css("padding"+t,m(o.padding[e]))})),a.trigger("onReady"),"inline"===i||"html"===i){if(!o.content||!o.content.length)return a._error("content")}else if(!t)return a._error("href");"image"===i?a._loadImage():"ajax"===i?a._loadAjax():"iframe"===i?a._loadIframe():a._afterLoad()}},_error:function(e){n.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var e=a.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width/a.opts.pixelRatio,a.coming.height=this.height/a.opts.pixelRatio,a._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,a._error("image")},e.src=a.coming.href,!0!==e.complete&&a.showLoading()},_loadAjax:function(){var e=a.coming;a.showLoading(),a.ajaxLoad=n.ajax(n.extend({},e.ajax,{url:e.href,error:function(e,t){a.coming&&"abort"!==t?a._error("ajax",e):a.hideLoading()},success:function(t,n){"success"===n&&(e.content=t,a._afterLoad())}}))},_loadIframe:function(){var e=a.coming,t=n(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",u?"auto":e.iframe.scrolling).attr("src",e.href);n(e.wrap).bind("onReset",(function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}})),e.iframe.preload&&(a.showLoading(),t.one("load",(function(){n(this).data("ready",1),u||n(this).bind("load.fb",a.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),a._afterLoad()}))),e.content=t.appendTo(e.inner),e.iframe.preload||a._afterLoad()},_preloadImages:function(){var e,t,n=a.group,i=a.current,o=n.length,r=i.preload?Math.min(i.preload,o-1):0;for(t=1;t<=r;t+=1)"image"===(e=n[(i.index+t)%o]).type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,i,o,r,s=a.coming,l=a.current;if(a.hideLoading(),s&&!1!==a.isActive)if(!1===a.trigger("afterLoad",s,l))s.wrap.stop(!0).trigger("onReset").remove(),a.coming=null;else{switch(l&&(a.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),a.unbindEvents(),e=s.content,t=s.type,i=s.scrolling,n.extend(a,{wrap:s.wrap,skin:s.skin,outer:s.outer,inner:s.inner,current:s,previous:l}),o=s.href,t){case"inline":case"ajax":case"html":s.selector?e=n("<div>").html(e).find(s.selector):d(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",n('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),s.wrap.bind("onReset",(function(){n(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)})));break;case"image":e=s.tpl.image.replace(/\{href\}/g,o);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',r="",n.each(s.swf,(function(t,n){e+='<param name="'+t+'" value="'+n+'"></param>',r+=" "+t+'="'+n+'"'})),e+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}d(e)&&e.parent().is(s.inner)||s.inner.append(e),a.trigger("beforeShow"),s.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?l.prevMethod&&a.transitions[l.prevMethod]():n(".fancybox-wrap").not(s.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?s.nextMethod:s.openMethod](),a._preloadImages()}},_setDimension:function(){var e,t,i,o,r,s,l,c,u,d=a.getViewport(),p=0,g=!1,v=!1,y=(g=a.wrap,a.skin),_=a.inner,b=a.current,w=(v=b.width,b.height),C=b.minWidth,x=b.minHeight,k=b.maxWidth,T=b.maxHeight,S=b.scrolling,A=b.scrollOutside?b.scrollbarWidth:0,E=b.margin,O=f(E[1]+E[3]),M=f(E[0]+E[2]);if(g.add(y).add(_).width("auto").height("auto").removeClass("fancybox-tmp"),t=O+(E=f(y.outerWidth(!0)-y.width())),i=M+(e=f(y.outerHeight(!0)-y.height())),o=h(v)?(d.w-t)*f(v)/100:v,r=h(w)?(d.h-i)*f(w)/100:w,"iframe"===b.type){if(u=b.content,b.autoHeight&&1===u.data("ready"))try{u[0].contentWindow.document.location&&(_.width(o).height(9999),s=u.contents().find("body"),A&&s.css("overflow-x","hidden"),r=s.outerHeight(!0))}catch(e){}}else(b.autoWidth||b.autoHeight)&&(_.addClass("fancybox-tmp"),b.autoWidth||_.width(o),b.autoHeight||_.height(r),b.autoWidth&&(o=_.width()),b.autoHeight&&(r=_.height()),_.removeClass("fancybox-tmp"));if(v=f(o),w=f(r),c=o/r,C=f(h(C)?f(C,"w")-t:C),k=f(h(k)?f(k,"w")-t:k),x=f(h(x)?f(x,"h")-i:x),s=k,l=T=f(h(T)?f(T,"h")-i:T),b.fitToView&&(k=Math.min(d.w-t,k),T=Math.min(d.h-i,T)),t=d.w-O,M=d.h-M,b.aspectRatio?(v>k&&(w=f((v=k)/c)),w>T&&(v=f((w=T)*c)),v<C&&(w=f((v=C)/c)),w<x&&(v=f((w=x)*c))):(v=Math.max(C,Math.min(v,k)),b.autoHeight&&"iframe"!==b.type&&(_.width(v),w=_.height()),w=Math.max(x,Math.min(w,T))),b.fitToView)if(_.width(v).height(w),g.width(v+E),d=g.width(),O=g.height(),b.aspectRatio)for(;(d>t||O>M)&&v>C&&w>x&&!(19<p++);)w=Math.max(x,Math.min(T,w-10)),(v=f(w*c))<C&&(w=f((v=C)/c)),v>k&&(w=f((v=k)/c)),_.width(v).height(w),g.width(v+E),d=g.width(),O=g.height();else v=Math.max(C,Math.min(v,v-(d-t))),w=Math.max(x,Math.min(w,w-(O-M)));A&&"auto"===S&&w<r&&v+E+A<t&&(v+=A),_.width(v).height(w),g.width(v+E),d=g.width(),O=g.height(),g=(d>t||O>M)&&v>C&&w>x,v=b.aspectRatio?v<s&&w<l&&v<o&&w<r:(v<s||w<l)&&(v<o||w<r),n.extend(b,{dim:{width:m(d),height:m(O)},origWidth:o,origHeight:r,canShrink:g,canExpand:v,wPadding:E,hPadding:e,wrapSpace:O-y.outerHeight(!0),skinSpace:y.height()-w}),!u&&b.autoHeight&&w>x&&w<T&&!v&&_.height("auto")},_getPosition:function(e){var t=a.current,n=a.getViewport(),i=t.margin,o=a.wrap.width()+i[1]+i[3],r=a.wrap.height()+i[0]+i[2];i={position:"absolute",top:i[0],left:i[3]};return t.autoCenter&&t.fixed&&!e&&r<=n.h&&o<=n.w?i.position="fixed":t.locked||(i.top+=n.y,i.left+=n.x),i.top=m(Math.max(i.top,i.top+(n.h-r)*t.topRatio)),i.left=m(Math.max(i.left,i.left+(n.w-o)*t.leftRatio)),i},_afterZoomIn:function(){var e=a.current;e&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(e.closeClick||e.nextClick&&1<a.group.length)&&a.inner.css("cursor","pointer").bind("click.fb",(function(t){n(t.target).is("a")||n(t.target).parent().is("a")||(t.preventDefault(),a[e.closeClick?"close":"next"]())})),e.closeBtn&&n(e.tpl.closeBtn).appendTo(a.skin).bind("click.fb",(function(e){e.preventDefault(),a.close()})),e.arrows&&1<a.group.length&&((e.loop||0<e.index)&&n(e.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(e.loop||e.index<a.group.length-1)&&n(e.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),e.loop||e.index!==e.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play(!0)):a.play(!1))},_afterZoomOut:function(e){e=e||a.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",e)}}),a.transitions={getOrigPosition:function(){var e=a.current,t=e.element,n=e.orig,i={},o=50,r=50,s=e.hPadding,l=e.wPadding,c=a.getViewport();return!n&&e.isDom&&t.is(":visible")&&((n=t.find("img:first")).length||(n=t)),d(n)?(i=n.offset(),n.is("img")&&(o=n.outerWidth(),r=n.outerHeight())):(i.top=c.y+(c.h-r)*e.topRatio,i.left=c.x+(c.w-o)*e.leftRatio),("fixed"===a.wrap.css("position")||e.locked)&&(i.top-=c.y,i.left-=c.x),{top:m(i.top-s*e.topRatio),left:m(i.left-l*e.leftRatio),width:m(o+l),height:m(r+s)}},step:function(e,t){var n,i,o=t.prop,r=(i=a.current).wrapSpace,s=i.skinSpace;"width"!==o&&"height"!==o||(n=t.end===t.start?1:(e-t.start)/(t.end-t.start),a.isClosing&&(n=1-n),i=e-(i="width"===o?i.wPadding:i.hPadding),a.skin[o](f("width"===o?i:i-r*n)),a.inner[o](f("width"===o?i:i-r*n-s*n)))},zoomIn:function(){var e=a.current,t=e.pos,i=e.openEffect,o="elastic"===i,r=n.extend({opacity:1},t);delete r.position,o?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===i&&(t.opacity=.1),a.wrap.css(t).animate(r,{duration:"none"===i?0:e.openSpeed,easing:e.openEasing,step:o?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var e=a.current,t=e.closeEffect,n="elastic"===t,i={opacity:.1};n&&(i=this.getOrigPosition(),e.closeOpacity&&(i.opacity=.1)),a.wrap.animate(i,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var e,t=a.current,n=t.nextEffect,i=t.pos,o={opacity:1},r=a.direction;i.opacity=.1,"elastic"===n&&(e="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(i[e]=m(f(i[e])-200),o[e]="+=200px"):(i[e]=m(f(i[e])+200),o[e]="-=200px")),"none"===n?a._afterZoomIn():a.wrap.css(i).animate(o,{duration:t.nextSpeed,easing:t.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var e=a.previous,t=e.prevEffect,i={opacity:.1},o=a.direction;"elastic"===t&&(i["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"=200px"),e.wrap.animate(i,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!u,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(e){var t;e=n.extend({},this.defaults,e),this.overlay&&this.close(),t=a.coming?a.coming.parent:e.parent,this.overlay=n('<div class="fancybox-overlay"></div>').appendTo(t&&t.lenth?t:"body"),this.fixed=!1,e.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=n.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(r.bind("resize.overlay",n.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",(function(e){if(n(e.target).hasClass("fancybox-overlay"))return a.isActive?a.close():t.close(),!1})),this.overlay.css(e.css).show()},close:function(){r.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),r.scrollTop(this.scrollV).scrollLeft(this.scrollH)),n(".fancybox-overlay").remove().hide(),n.extend(this,{overlay:null,fixed:!1})},update:function(){var e,n="100%";this.overlay.width(n).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),s.width()>e&&(n=s.width())):s.width()>r.width()&&(n=s.width()),this.overlay.width(n).height(s.height())},onReady:function(e,t){var i=this.overlay;n(".fancybox-overlay").stop(!0,!0),i||this.create(e),e.locked&&this.fixed&&t.fixed&&(t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){t.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&n("*").filter((function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")})).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=r.scrollTop(),this.scrollH=r.scrollLeft(),this.el.addClass("fancybox-lock"),r.scrollTop(this.scrollV).scrollLeft(this.scrollH)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!a.coming&&this.overlay.fadeOut(e.speedOut,n.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=a.current,i=t.title,o=e.type;if(n.isFunction(i)&&(i=i.call(t.element,t)),p(i)&&""!==n.trim(i)){switch(t=n('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+i+"</div>"),o){case"inside":o=a.skin;break;case"outside":o=a.wrap;break;case"over":o=a.inner;break;default:o=a.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(f(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](o)}}},n.fn.fancybox=function(e){var t,i=n(this),o=this.selector||"",r=function(r){var s,l,c=n(this).blur(),u=t;r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||c.is(".fancybox-wrap")||(s=e.groupAttr||"data-fancybox-group",(l=c.attr(s))||(s="rel",l=c.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(u=(c=(c=o.length?n(o):i).filter("["+s+'="'+l+'"]')).index(this)),e.index=u,!1!==a.open(c,e)&&r.preventDefault())};return t=(e=e||{}).index||0,o&&!1!==e.live?s.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",r):i.unbind("click.fb-start").bind("click.fb-start",r),this.filter("[data-fancybox-start=1]").trigger("click"),this},s.ready((function(){var t,r;n.scrollbarWidth===i&&(n.scrollbarWidth=function(){var e=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=(t=e.children()).innerWidth()-t.height(99).innerWidth();return e.remove(),t}),n.support.fixedPosition===i&&(n.support.fixedPosition=function(){var e=n('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),n.extend(a.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),t=n(e).width(),o.addClass("fancybox-lock-test"),r=n(e).width(),o.removeClass("fancybox-lock-test"),n("<style type='text/css'>.fancybox-margin{margin-right:"+(r-t)+"px;}</style>").appendTo("head")}))}(window,document,jQuery),
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.18.12
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,(function(e,t,n,i){"use strict";var o=i&&i.URI;function r(e,t){var n=arguments.length>=1,i=arguments.length>=2;if(!(this instanceof r))return n?i?new r(e,t):new r(e):new r;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}r.version="1.18.12";var s=r.prototype,a=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function c(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return"Array"===c(e)}function d(e,t){var n,i,o={};if("RegExp"===c(t))o=null;else if(u(t))for(n=0,i=t.length;n<i;n++)o[t[n]]=!0;else o[t]=!0;for(n=0,i=e.length;n<i;n++){(o&&void 0!==o[e[n]]||!o&&t.test(e[n]))&&(e.splice(n,1),i--,n--)}return e}function p(e,t){var n,i;if(u(t)){for(n=0,i=t.length;n<i;n++)if(!p(e,t[n]))return!1;return!0}var o=c(t);for(n=0,i=e.length;n<i;n++)if("RegExp"===o){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function h(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function f(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function g(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}r._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:r.duplicateQueryParameters,escapeQuerySpace:r.escapeQuerySpace}},r.duplicateQueryParameters=!1,r.escapeQuerySpace=!0,r.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,r.idn_expression=/[^a-z0-9\._-]/i,r.punycode_expression=/(xn--)/i,r.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,r.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},r.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},r.hostProtocols=["http","https"],r.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,r.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},r.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return r.domAttributes[t]}},r.encode=g,r.decode=decodeURIComponent,r.iso8859=function(){r.encode=escape,r.decode=unescape},r.unicode=function(){r.encode=g,r.decode=decodeURIComponent},r.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},r.encodeQuery=function(e,t){var n=r.encode(e+"");return void 0===t&&(t=r.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},r.decodeQuery=function(e,t){e+="",void 0===t&&(t=r.escapeQuerySpace);try{return r.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,y={encode:"encode",decode:"decode"},_=function(e,t){return function(n){try{return r[t](n+"").replace(r.characters[e][t].expression,(function(n){return r.characters[e][t].map[n]}))}catch(e){return n}}};for(v in y)r[v+"PathSegment"]=_("pathname",y[v]),r[v+"UrnPathSegment"]=_("urnpath",y[v]);var b=function(e,t,n){return function(i){var o;o=n?function(e){return r[t](r[n](e))}:r[t];for(var s=(i+"").split(e),a=0,l=s.length;a<l;a++)s[a]=o(s[a]);return s.join(e)}};function w(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function C(e,t){return function(n,i){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!i),this)}}r.decodePath=b("/","decodePathSegment"),r.decodeUrnPath=b(":","decodeUrnPathSegment"),r.recodePath=b("/","encodePathSegment","decode"),r.recodeUrnPath=b(":","encodeUrnPathSegment","decode"),r.encodeReserved=_("reserved","encode"),r.parse=function(e,t){var n;return t||(t={}),(n=e.indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=r.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(r.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=r.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},r.parseHost=function(e,t){var n,i,o=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===o&&(o=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,o)||null,"/"===t.port&&(t.port=null);else{var s=e.indexOf(":"),a=e.indexOf("/"),l=e.indexOf(":",s+1);-1!==l&&(-1===a||l<a)?(t.hostname=e.substring(0,o)||null,t.port=null):(i=e.substring(0,o).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),r.ensureValidHostname(t.hostname,t.protocol),t.port&&r.ensureValidPort(t.port),e.substring(o)||"/"},r.parseAuthority=function(e,t){return e=r.parseUserinfo(e,t),r.parseHost(e,t)},r.parseUserinfo=function(e,t){var n,i=e.indexOf("/"),o=e.lastIndexOf("@",i>-1?i:e.length-1);return o>-1&&(-1===i||o<i)?(n=e.substring(0,o).split(":"),t.username=n[0]?r.decode(n[0]):null,n.shift(),t.password=n[0]?r.decode(n.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},r.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,i,o,s={},l=e.split("&"),c=l.length,u=0;u<c;u++)n=l[u].split("="),i=r.decodeQuery(n.shift(),t),o=n.length?r.decodeQuery(n.join("="),t):null,a.call(s,i)?("string"!=typeof s[i]&&null!==s[i]||(s[i]=[s[i]]),s[i].push(o)):s[i]=o;return s},r.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=r.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},r.buildHost=function(e){var t="";return e.hostname?(r.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},r.buildAuthority=function(e){return r.buildUserinfo(e)+r.buildHost(e)},r.buildUserinfo=function(e){var t="";return e.username&&(t+=r.encode(e.username)),e.password&&(t+=":"+r.encode(e.password)),t&&(t+="@"),t},r.buildQuery=function(e,t,n){var i,o,s,l,c="";for(o in e)if(a.call(e,o)&&o)if(u(e[o]))for(i={},s=0,l=e[o].length;s<l;s++)void 0!==e[o][s]&&void 0===i[e[o][s]+""]&&(c+="&"+r.buildQueryParameter(o,e[o][s],n),!0!==t&&(i[e[o][s]+""]=!0));else void 0!==e[o]&&(c+="&"+r.buildQueryParameter(o,e[o],n));return c.substring(1)},r.buildQueryParameter=function(e,t,n){return r.encodeQuery(e,n)+(null!==t?"="+r.encodeQuery(t,n):"")},r.addQuery=function(e,t,n){if("object"==typeof t)for(var i in t)a.call(t,i)&&r.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),u(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},r.removeQuery=function(e,t,n){var i,o,s;if(u(t))for(i=0,o=t.length;i<o;i++)e[t[i]]=void 0;else if("RegExp"===c(t))for(s in e)t.test(s)&&(e[s]=void 0);else if("object"==typeof t)for(s in t)a.call(t,s)&&r.removeQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===c(n)?!u(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=d(e[t],n):e[t]!==String(n)||u(n)&&1!==n.length?u(e[t])&&(e[t]=d(e[t],n)):e[t]=void 0:e[t]=void 0}},r.hasQuery=function(e,t,n,i){switch(c(t)){case"String":break;case"RegExp":for(var o in e)if(a.call(e,o)&&t.test(o)&&(void 0===n||r.hasQuery(e,o,n)))return!0;return!1;case"Object":for(var s in t)if(a.call(t,s)&&!r.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(c(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(u(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!u(e[t])&&(i?p:h)(e[t],n);case"RegExp":return u(e[t])?!!i&&p(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return u(e[t])?!!i&&p(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},r.joinPaths=function(){for(var e=[],t=[],n=0,i=0;i<arguments.length;i++){var o=new r(arguments[i]);e.push(o);for(var s=o.segment(),a=0;a<s.length;a++)"string"==typeof s[a]&&t.push(s[a]),s[a]&&n++}if(!t.length||!n)return new r("");var l=new r("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},r.commonPath=function(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},r.withinString=function(e,t,n){n||(n={});var i=n.start||r.findUri.start,o=n.end||r.findUri.end,s=n.trim||r.findUri.trim,a=n.parens||r.findUri.parens,l=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var c=i.exec(e);if(!c)break;var u=c.index;if(n.ignoreHtml){var d=e.slice(Math.max(u-3,0),u);if(d&&l.test(d))continue}for(var p=u+e.slice(u).search(o),h=e.slice(u,p),f=-1;;){var m=a.exec(h);if(!m)break;var g=m.index+m[0].length;f=Math.max(f,g)}if(!((h=f>-1?h.slice(0,f)+h.slice(f).replace(s,""):h.replace(s,"")).length<=c[0].length||n.ignore&&n.ignore.test(h))){var v=t(h,u,p=u+h.length,e);void 0!==v?(v=String(v),e=e.slice(0,u)+v+e.slice(p),i.lastIndex=u+v.length):i.lastIndex=p}}return i.lastIndex=0,e},r.ensureValidHostname=function(t,n){var i=!!t,o=!1;if(!!n&&(o=p(r.hostProtocols,n)),o&&!i)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(r.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(r.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},r.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},r.noConflict=function(e){if(e){var t={URI:this.noConflict()};return i.URITemplate&&"function"==typeof i.URITemplate.noConflict&&(t.URITemplate=i.URITemplate.noConflict()),i.IPv6&&"function"==typeof i.IPv6.noConflict&&(t.IPv6=i.IPv6.noConflict()),i.SecondLevelDomains&&"function"==typeof i.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=i.SecondLevelDomains.noConflict()),t}return i.URI===this&&(i.URI=o),this},s.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=r.build(this._parts),this._deferred_build=!1),this},s.clone=function(){return new r(this)},s.valueOf=s.toString=function(){return this.build(!1)._string},s.protocol=w("protocol"),s.username=w("username"),s.password=w("password"),s.hostname=w("hostname"),s.port=w("port"),s.query=C("query","?"),s.fragment=C("fragment","#"),s.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},s.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},s.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?r.decodeUrnPath:r.decodePath)(n):n}return this._parts.urn?this._parts.path=e?r.recodeUrnPath(e):"":this._parts.path=e?r.recodePath(e):"/",this.build(!t),this},s.path=s.pathname,s.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=r._parts();var i=e instanceof r,o="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[r.getDomAttribute(e)]||"",o=!1);if(!i&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=r.parse(String(e),this._parts);else{if(!i&&!o)throw new TypeError("invalid input");var s=i?e._parts:e;for(n in s)a.call(this._parts,n)&&(this._parts[n]=s[n])}return this.build(!t),this},s.is=function(e){var t=!1,i=!1,o=!1,s=!1,a=!1,l=!1,c=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,i=r.ip4_expression.test(this._parts.hostname),o=r.ip6_expression.test(this._parts.hostname),a=(s=!(t=i||o))&&n&&n.has(this._parts.hostname),l=s&&r.idn_expression.test(this._parts.hostname),c=s&&r.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return s;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return o;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var x=s.protocol,k=s.port,T=s.hostname;s.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(r.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return x.call(this,e,t)},s.scheme=s.protocol,s.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),r.ensureValidPort(e))),k.call(this,e,t))},s.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={};if("/"!==r.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,r.ensureValidHostname(e,this._parts.protocol)}return T.call(this,e,t)},s.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var i=r(e);return this.protocol(i.protocol()).authority(i.authority()).build(!t),this},s.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?r.buildHost(this._parts):"";if("/"!==r.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?r.buildAuthority(this._parts):"";if("/"!==r.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=r.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),r.parseUserinfo(e,this._parts),this.build(!t),this},s.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=r.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},s.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var i=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,i),s=new RegExp("^"+l(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&r.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},s.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var i=this._parts.hostname.length-this.tld(t).length-1;return i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(r.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(l(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},s.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(i+1);return!0!==t&&n&&n.list[o.toLowerCase()]&&n.get(this._parts.hostname)||o}var r;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');r=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");r=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},s.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?r.decodePath(i):i}var o=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,o),a=new RegExp("^"+l(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=r.recodePath(e),this._parts.path=this._parts.path.replace(a,e),this.build(!t),this},s.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(n+1);return e?r.decodePathSegment(i):i}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var s=new RegExp(l(this.filename())+"$");return e=r.recodePath(e),this._parts.path=this._parts.path.replace(s,e),o?this.normalizePath(t):this.build(!t),this},s.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,i,o=this.filename(),s=o.lastIndexOf(".");return-1===s?"":(n=o.substring(s+1),i=/^[a-z0-9%]+$/i.test(n)?n:"",e?r.decodePathSegment(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var a,c=this.suffix();if(c)a=e?new RegExp(l(c)+"$"):new RegExp(l("."+c)+"$");else{if(!e)return this;this._parts.path+="."+r.recodePath(e)}return a&&(e=r.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},s.segment=function(e,t,n){var i=this._parts.urn?":":"/",o=this.path(),r="/"===o.substring(0,1),s=o.split(i);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(r&&s.shift(),e<0&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(u(t)){s=[];for(var a=0,l=t.length;a<l;a++)(t[a].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(f(t[a])))}else(t||"string"==typeof t)&&(t=f(t),""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=f(t):s.splice(e,1);return r&&s.unshift(""),this.path(s.join(i),n)},s.segmentCoded=function(e,t,n){var i,o,s;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(u(i=this.segment(e,t,n)))for(o=0,s=i.length;o<s;o++)i[o]=r.decode(i[o]);else i=void 0!==i?r.decode(i):void 0;return i}if(u(t))for(o=0,s=t.length;o<s;o++)t[o]=r.encode(t[o]);else t="string"==typeof t||t instanceof String?r.encode(t):t;return this.segment(e,t,n)};var S=s.query;return s.query=function(e,t){if(!0===e)return r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,n);return this._parts.query=r.buildQuery(i||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=r.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):S.call(this,e,t)},s.setQuery=function(e,t,n){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)a.call(e,o)&&(i[o]=e[o])}return this._parts.query=r.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},s.addQuery=function(e,t,n){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.addQuery(i,e,void 0===t?null:t),this._parts.query=r.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},s.removeQuery=function(e,t,n){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.removeQuery(i,e,t),this._parts.query=r.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},s.hasQuery=function(e,t,n){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.hasQuery(i,e,t,n)},s.setSearch=s.setQuery,s.addSearch=s.addQuery,s.removeSearch=s.removeQuery,s.hasSearch=s.hasQuery,s.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},s.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},s.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},s.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===r.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},s.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=r.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var i,o,s="";for("/"!==(n=r.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(s=n.substring(1).match(/^(\.\.\/)+/)||"")&&(s=s[0]);-1!==(i=n.search(/\/\.\.(\/|$)/));)0!==i?(-1===(o=n.substring(0,i).lastIndexOf("/"))&&(o=i),n=n.substring(0,o)+n.substring(i+3)):n=n.substring(3);return t&&this.is("relative")&&(n=s+n.substring(1)),this._parts.path=n,this.build(!e),this},s.normalizePathname=s.normalizePath,s.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(r.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},s.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},s.normalizeSearch=s.normalizeQuery,s.normalizeHash=s.normalizeFragment,s.iso8859=function(){var e=r.encode,t=r.decode;r.encode=escape,r.decode=decodeURIComponent;try{this.normalize()}finally{r.encode=e,r.decode=t}return this},s.unicode=function(){var e=r.encode,t=r.decode;r.encode=g,r.decode=unescape;try{this.normalize()}finally{r.encode=e,r.decode=t}return this},s.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var i="",o=0,s=t._parts.query.split("&"),a=s.length;o<a;o++){var l=(s[o]||"").split("=");i+="&"+r.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(i+="="+r.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+i.substring(1)}return n+=r.decodeQuery(t.hash(),!0)},s.absoluteTo=function(e){var t,n,i,o=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof r||(e=new r(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(n=0;i=s[n];n++)o._parts[i]=e._parts[i];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},s.relativeTo=function(e){var t,n,i,o,s,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new r(e).normalize(),t=a._parts,n=e._parts,o=a.path(),s=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==n.hostname||t.port!==n.port)return a.build();if(t.hostname=null,t.port=null,o===s)return t.path="",a.build();if(!(i=r.commonPath(o,s)))return a.build();var l=n.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(i.length)||"./",a.build()},s.equals=function(e){var t,n,i,o,s,l=this.clone(),c=new r(e),d={};if(l.normalize(),c.normalize(),l.toString()===c.toString())return!0;if(i=l.query(),o=c.query(),l.query(""),c.query(""),l.toString()!==c.toString())return!1;if(i.length!==o.length)return!1;for(s in t=r.parseQuery(i,this._parts.escapeQuerySpace),n=r.parseQuery(o,this._parts.escapeQuerySpace),t)if(a.call(t,s)){if(u(t[s])){if(!h(t[s],n[s]))return!1}else if(t[s]!==n[s])return!1;d[s]=!0}for(s in n)if(a.call(n,s)&&!d[s])return!1;return!0},s.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},s.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},r})),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],t):t(e.URI)}(this,(function(e){"use strict";var t=e.prototype,n=t.fragment;e.fragmentPrefix="?";var i=e._parts;return e._parts=function(){var t=i();return t.fragmentPrefix=e.fragmentPrefix,t},t.fragmentPrefix=function(e){return this._parts.fragmentPrefix=e,this},t.fragment=function(t,i){var o=this._parts.fragmentPrefix,r=this._parts.fragment||"";return!0===t?r.substring(0,o.length)!==o?{}:e.parseQuery(r.substring(o.length)):void 0!==t&&"string"!=typeof t?(this._parts.fragment=o+e.buildQuery(t),this.build(!i),this):n.call(this,t,i)},t.addFragment=function(t,n,i){var o=this._parts.fragmentPrefix,r=e.parseQuery((this._parts.fragment||"").substring(o.length));return e.addQuery(r,t,n),this._parts.fragment=o+e.buildQuery(r),"string"!=typeof t&&(i=n),this.build(!i),this},t.removeFragment=function(t,n,i){var o=this._parts.fragmentPrefix,r=e.parseQuery((this._parts.fragment||"").substring(o.length));return e.removeQuery(r,t,n),this._parts.fragment=o+e.buildQuery(r),"string"!=typeof t&&(i=n),this.build(!i),this},t.addHash=t.addFragment,t.removeHash=t.removeFragment,e})),function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=n,i}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function o(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,!0!==r[l]&&(a+="="+r[l].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],s=0;s<r.length;s++){var a=r[s].split("="),l=a.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(a[0]);if(l=(i.read||i)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(o[c]=l,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=r,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,n){r(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))})),function(e,t,n,i){function o(t,n){this.settings=null,this.options=e.extend({},o.Defaults,n),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy((function(t,n){this._handlers[n]=e.proxy(this[n],this)}),this)),e.each(o.Plugins,e.proxy((function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)}),this)),e.each(o.Workers,e.proxy((function(t,n){this._pipe.push({filter:n.filter,run:e.proxy(n.run,this)})}),this)),this.setup(),this.initialize()}o.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},o.Width={Default:"default",Inner:"inner",Outer:"outer"},o.Type={Event:"event",State:"state"},o.Plugins={},o.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",n=!this.settings.autoWidth,i=this.settings.rtl,o={width:"auto","margin-left":i?t:"","margin-right":i?"":t};!n&&this.$stage.children().css(o),e.css=o}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,i=this._items.length,o=!this.settings.autoWidth,r=[];for(e.items={merge:!1,width:t};i--;)n=this._mergers[i],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,e.items.merge=n>1||e.items.merge,r[i]=o?t*n:this._items[i].width();this._widths=r}},{filter:["items","settings"],run:function(){var t=[],n=this._items,i=this.settings,o=Math.max(2*i.items,4),r=2*Math.ceil(n.length/2),s=i.loop&&n.length?i.rewind?o:Math.max(o,r):0,a="",l="";for(s/=2;s>0;)t.push(this.normalize(t.length/2,!0)),a+=n[t[t.length-1]][0].outerHTML,t.push(this.normalize(n.length-1-(t.length-1)/2,!0)),l=n[t[t.length-1]][0].outerHTML+l,s-=1;this._clones=t,e(a).addClass("cloned").appendTo(this.$stage),e(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,n=-1,i=0,o=0,r=[];++n<t;)i=r[n-1]||0,o=this._widths[this.relative(n)]+this.settings.margin,r.push(i+o*e);this._coordinates=r}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,n={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,n=!this.settings.autoWidth,i=this.$stage.children();if(n&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],i.eq(t).css(e.css);else n&&(e.css.width=e.items.width,i.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,n,i,o=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,s=this.coordinates(this.current())+r,a=s+this.width()*o,l=[];for(n=0,i=this._coordinates.length;n<i;n++)e=this._coordinates[n-1]||0,t=Math.abs(this._coordinates[n])+r*o,(this.op(e,"<=",s)&&this.op(e,">",a)||this.op(t,"<",s)&&this.op(t,">",a))&&l.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],o.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(e("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},o.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map((function(t){return e(t)})),this._mergers=this._items.map((function(){return 1})),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},o.prototype.initialize=function(){var e,t,n;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(e=this.$element.find("img"),t=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,n=this.$element.children(t).width(),e.length&&n<=0&&this.preloadAutoWidthImages(e));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},o.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},o.prototype.setup=function(){var t=this.viewport(),n=this.options.responsive,i=-1,o=null;n?(e.each(n,(function(e){e<=t&&e>i&&(i=Number(e))})),"function"==typeof(o=e.extend({},this.options,n[i])).stagePadding&&(o.stagePadding=o.stagePadding()),delete o.responsive,o.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):o=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:o}}),this._breakpoint=i,this.settings=o,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},o.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},o.prototype.prepare=function(t){var n=this.trigger("prepare",{content:t});return n.data||(n.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:n.data}),n.data},o.prototype.update=function(){for(var t=0,n=this._pipe.length,i=e.proxy((function(e){return this[e]}),this._invalidated),o={};t<n;)(this._invalidated.all||e.grep(this._pipe[t].filter,i).length>0)&&this._pipe[t].run(o),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},o.prototype.width=function(e){switch(e=e||o.Width.Default){case o.Width.Inner:case o.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},o.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},o.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},o.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},o.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",(function(){return!1}))),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},o.prototype.onDragStart=function(t){var i=null;3!==t.which&&(e.support.transform?i={x:(i=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===i.length?12:4],y:i[16===i.length?13:5]}:(i=this.$stage.position(),i={x:this.settings.rtl?i.left+this.$stage.width()-this.width()+this.settings.margin:i.left,y:i.top}),this.is("animating")&&(e.support.transform?this.animate(i.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this.pointer(t),e(n).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(n).one("mousemove.owl.core touchmove.owl.core",e.proxy((function(t){var i=this.difference(this._drag.pointer,this.pointer(t));e(n).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(i.x)<Math.abs(i.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))}),this)))},o.prototype.onDragMove=function(e){var t=null,n=null,i=null,o=this.difference(this._drag.pointer,this.pointer(e)),r=this.difference(this._drag.stage.start,o);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-t,r.x=((r.x-t)%n+n)%n+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),i=this.settings.pullDrag?-1*o.x/5:0,r.x=Math.max(Math.min(r.x,t+i),n+i)),this._drag.stage.current=r,this.animate(r.x))},o.prototype.onDragEnd=function(t){var i=this.difference(this._drag.pointer,this.pointer(t)),o=this._drag.stage.current,r=i.x>0^this.settings.rtl?"left":"right";e(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==i.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==i.x?r:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=r,(Math.abs(i.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",(function(){return!1}))),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},o.prototype.closest=function(t,n){var i=-1,o=this.width(),r=this.coordinates();return this.settings.freeDrag||e.each(r,e.proxy((function(e,s){return"left"===n&&t>s-30&&t<s+30?i=e:"right"===n&&t>s-o-30&&t<s-o+30?i=e+1:this.op(t,"<",s)&&this.op(t,">",void 0!==r[e+1]?r[e+1]:s-o)&&(i="left"===n?e+1:e),-1===i}),this)),this.settings.loop||(this.op(t,">",r[this.minimum()])?i=t=this.minimum():this.op(t,"<",r[this.maximum()])&&(i=t=this.maximum())),i},o.prototype.animate=function(t){var n=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),n&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):n?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},o.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},o.prototype.current=function(e){if(void 0===e)return this._current;if(0!==this._items.length){if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});void 0!==t.data&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},o.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,(function(e,t){return t}))},o.prototype.reset=function(e){void 0!==(e=this.normalize(e))&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},o.prototype.normalize=function(e,t){var n=this._items.length,i=t?0:this._clones.length;return!this.isNumeric(e)||n<1?e=void 0:(e<0||e>=n+i)&&(e=((e-i/2)%n+n)%n+i/2),e},o.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},o.prototype.maximum=function(e){var t,n,i,o=this.settings,r=this._coordinates.length;if(o.loop)r=this._clones.length/2+this._items.length-1;else if(o.autoWidth||o.merge){if(t=this._items.length)for(n=this._items[--t].width(),i=this.$element.width();t--&&!((n+=this._items[t].width()+this.settings.margin)>i););r=t+1}else r=o.center?this._items.length-1:this._items.length-o.items;return e&&(r-=this._clones.length/2),Math.max(r,0)},o.prototype.minimum=function(e){return e?0:this._clones.length/2},o.prototype.items=function(e){return void 0===e?this._items.slice():(e=this.normalize(e,!0),this._items[e])},o.prototype.mergers=function(e){return void 0===e?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},o.prototype.clones=function(t){var n=this._clones.length/2,i=n+this._items.length,o=function(e){return e%2==0?i+e/2:n-(e+1)/2};return void 0===t?e.map(this._clones,(function(e,t){return o(t)})):e.map(this._clones,(function(e,n){return e===t?o(n):null}))},o.prototype.speed=function(e){return void 0!==e&&(this._speed=e),this._speed},o.prototype.coordinates=function(t){var n,i=1,o=t-1;return void 0===t?e.map(this._coordinates,e.proxy((function(e,t){return this.coordinates(t)}),this)):(this.settings.center?(this.settings.rtl&&(i=-1,o=t+1),n=this._coordinates[t],n+=(this.width()-n+(this._coordinates[o]||0))/2*i):n=this._coordinates[o]||0,n=Math.ceil(n))},o.prototype.duration=function(e,t,n){return 0===n?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(n||this.settings.smartSpeed)},o.prototype.to=function(e,t){var n=this.current(),i=null,o=e-this.relative(n),r=(o>0)-(o<0),s=this._items.length,a=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>s/2&&(o+=-1*r*s),(i=(((e=n+o)-a)%s+s)%s+a)!==e&&i-o<=l&&i-o>0&&(n=i-o,e=i,this.reset(n))):e=this.settings.rewind?(e%(l+=1)+l)%l:Math.max(a,Math.min(l,e)),this.speed(this.duration(n,e,t)),this.current(e),this.isVisible()&&this.update()},o.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},o.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},o.prototype.onTransitionEnd=function(e){if(void 0!==e&&(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},o.prototype.viewport=function(){var i;return this.options.responsiveBaseElement!==t?i=e(this.options.responsiveBaseElement).width():t.innerWidth?i=t.innerWidth:n.documentElement&&n.documentElement.clientWidth?i=n.documentElement.clientWidth:console.warn("Can not detect viewport width."),i},o.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter((function(){return 1===this.nodeType})).each(e.proxy((function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)}),this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},o.prototype.add=function(t,n){var i=this.relative(this._current);n=void 0===n?this._items.length:this.normalize(n,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:n}),t=this.prepare(t),0===this._items.length||n===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[n-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[n].before(t),this._items.splice(n,0,t),this._mergers.splice(n,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:t,position:n})},o.prototype.remove=function(e){void 0!==(e=this.normalize(e,!0))&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},o.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy((function(t,n){this.enter("pre-loading"),n=e(n),e(new Image).one("load",e.proxy((function(e){n.attr("src",e.target.src),n.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()}),this)).attr("src",n.attr("src")||n.attr("data-src")||n.attr("data-src-retina"))}),this))},o.prototype.destroy=function(){for(var i in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(n).off(".owl.core"),!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},o.prototype.op=function(e,t,n){var i=this.settings.rtl;switch(t){case"<":return i?e>n:e<n;case">":return i?e<n:e>n;case">=":return i?e<=n:e>=n;case"<=":return i?e>=n:e<=n}},o.prototype.on=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n)},o.prototype.off=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)},o.prototype.trigger=function(t,n,i,r,s){var a={item:{count:this._items.length,index:this.current()}},l=e.camelCase(e.grep(["on",t,i],(function(e){return e})).join("-").toLowerCase()),c=e.Event([t,"owl",i||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},a,n));return this._supress[t]||(e.each(this._plugins,(function(e,t){t.onTrigger&&t.onTrigger(c)})),this.register({type:o.Type.Event,name:t}),this.$element.trigger(c),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,c)),c},o.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy((function(e,t){void 0===this._states.current[t]&&(this._states.current[t]=0),this._states.current[t]++}),this))},o.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy((function(e,t){this._states.current[t]--}),this))},o.prototype.register=function(t){if(t.type===o.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var n=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!n||!n.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:n.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===o.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy((function(n,i){return e.inArray(n,this._states.tags[t.name])===i}),this)))},o.prototype.suppress=function(t){e.each(t,e.proxy((function(e,t){this._supress[t]=!0}),this))},o.prototype.release=function(t){e.each(t,e.proxy((function(e,t){delete this._supress[t]}),this))},o.prototype.pointer=function(e){var n={x:null,y:null};return(e=(e=e.originalEvent||e||t.event).touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),n},o.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},o.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var n=Array.prototype.slice.call(arguments,1);return this.each((function(){var i=e(this),r=i.data("owl.carousel");r||(r=new o(this,"object"==typeof t&&t),i.data("owl.carousel",r),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],(function(t,n){r.register({type:o.Type.Event,name:n}),r.$element.on(n+".owl.carousel.core",e.proxy((function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([n]),r[n].apply(this,[].slice.call(arguments,1)),this.release([n]))}),r))}))),"string"==typeof t&&"_"!==t.charAt(0)&&r[t].apply(r,n)}))},e.fn.owlCarousel.Constructor=o}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var o=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={autoRefresh:!0,autoRefreshInterval:500},o.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},o.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},o.prototype.destroy=function(){var e,n;for(e in t.clearInterval(this._interval),this._handlers)this._core.$element.off(e,this._handlers[e]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=o}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var o=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy((function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var n=this._core.settings,i=n.center&&Math.ceil(n.items/2)||n.items,o=n.center&&-1*i||0,r=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+o,s=this._core.clones().length,a=e.proxy((function(e,t){this.load(t)}),this);for(n.lazyLoadEager>0&&(i+=n.lazyLoadEager,n.loop&&(r-=n.lazyLoadEager,i++));o++<i;)this.load(s/2+this._core.relative(r)),s&&e.each(this._core.clones(this._core.relative(r)),a),r++}}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={lazyLoad:!1,lazyLoadEager:0},o.prototype.load=function(n){var i=this._core.$stage.children().eq(n),o=i&&i.find(".owl-lazy");!o||e.inArray(i.get(0),this._loaded)>-1||(o.each(e.proxy((function(n,i){var o,r=e(i),s=t.devicePixelRatio>1&&r.attr("data-src-retina")||r.attr("data-src")||r.attr("data-srcset");this._core.trigger("load",{element:r,url:s},"lazy"),r.is("img")?r.one("load.owl.lazy",e.proxy((function(){r.css("opacity",1),this._core.trigger("loaded",{element:r,url:s},"lazy")}),this)).attr("src",s):r.is("source")?r.one("load.owl.lazy",e.proxy((function(){this._core.trigger("loaded",{element:r,url:s},"lazy")}),this)).attr("srcset",s):((o=new Image).onload=e.proxy((function(){r.css({"background-image":'url("'+s+'")',opacity:"1"}),this._core.trigger("loaded",{element:r,url:s},"lazy")}),this),o.src=s)}),this)),this._loaded.push(i.get(0)))},o.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=o}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var o=function(n){this._core=n,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&this.update()}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&"position"===e.property.name&&this.update()}),this),"loaded.owl.lazy":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var i=this;e(t).on("load",(function(){i._core.settings.autoHeight&&i.update()})),e(t).resize((function(){i._core.settings.autoHeight&&(null!=i._intervalId&&clearTimeout(i._intervalId),i._intervalId=setTimeout((function(){i.update()}),250))}))};o.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},o.prototype.update=function(){var t=this._core._current,n=t+this._core.settings.items,i=this._core.settings.lazyLoad,o=this._core.$stage.children().toArray().slice(t,n),r=[],s=0;e.each(o,(function(t,n){r.push(e(n).height())})),(s=Math.max.apply(null,r))<=1&&i&&this._previousHeight&&(s=this._previousHeight),this._previousHeight=s,this._core.$stage.parent().height(s).addClass(this._core.settings.autoHeightClass)},o.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=o}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var o=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})}),this),"resize.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()}),this),"refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()}),this),"prepared.owl.carousel":e.proxy((function(t){if(t.namespace){var n=e(t.content).find(".owl-video");n.length&&(n.css("display","none"),this.fetch(n,e(t.content)))}}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy((function(e){this.play(e)}),this))};o.Defaults={video:!1,videoHeight:!1,videoWidth:!1},o.prototype.fetch=function(e,t){var n=e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube",i=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),o=e.attr("data-width")||this._core.settings.videoWidth,r=e.attr("data-height")||this._core.settings.videoHeight,s=e.attr("href");if(!s)throw new Error("Missing video URL.");if((i=s.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)n="youtube";else if(i[3].indexOf("vimeo")>-1)n="vimeo";else{if(!(i[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");n="vzaar"}i=i[6],this._videos[s]={type:n,id:i,width:o,height:r},t.attr("data-video",s),this.thumbnail(e,this._videos[s])},o.prototype.thumbnail=function(t,n){var i,o,r=n.width&&n.height?"width:"+n.width+"px;height:"+n.height+"px;":"",s=t.find("img"),a="src",l="",c=this._core.settings,u=function(n){'<div class="owl-video-play-icon"></div>',i=c.lazyLoad?e("<div/>",{class:"owl-video-tn "+l,srcType:n}):e("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+n+")"}),t.after(i),t.after('<div class="owl-video-play-icon"></div>')};if(t.wrap(e("<div/>",{class:"owl-video-wrapper",style:r})),this._core.settings.lazyLoad&&(a="data-src",l="owl-lazy"),s.length)return u(s.attr(a)),s.remove(),!1;"youtube"===n.type?(o="//img.youtube.com/vi/"+n.id+"/hqdefault.jpg",u(o)):"vimeo"===n.type?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e[0].thumbnail_large,u(o)}}):"vzaar"===n.type&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e.framegrab_url,u(o)}})},o.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},o.prototype.play=function(t){var n,i=e(t.target).closest("."+this._core.settings.itemClass),o=this._videos[i.attr("data-video")],r=o.width||"100%",s=o.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),i=this._core.items(this._core.relative(i.index())),this._core.reset(i.index()),(n=e('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",s),n.attr("width",r),"youtube"===o.type?n.attr("src","//www.youtube.com/embed/"+o.id+"?autoplay=1&rel=0&v="+o.id):"vimeo"===o.type?n.attr("src","//player.vimeo.com/video/"+o.id+"?autoplay=1"):"vzaar"===o.type&&n.attr("src","//view.vzaar.com/"+o.id+"/player?autoplay=true"),e(n).wrap('<div class="owl-video-frame" />').insertAfter(i.find(".owl-video")),this._playing=i.addClass("owl-video-playing"))},o.prototype.isInFullScreen=function(){var t=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;return t&&e(t).parent().hasClass("owl-video-frame")},o.prototype.destroy=function(){var e,t;for(e in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=o}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var o=function(t){this.core=t,this.core.options=e.extend({},o.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":e.proxy((function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)}),this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy((function(e){e.namespace&&(this.swapping="translated"==e.type)}),this),"translate.owl.carousel":e.proxy((function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()}),this)},this.core.$element.on(this.handlers)};o.Defaults={animateOut:!1,animateIn:!1},o.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,n=e.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),o=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,s=this.core.settings.animateOut;this.core.current()!==this.previous&&(s&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(e.support.animation.end,n).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(s)),r&&o.one(e.support.animation.end,n).addClass("animated owl-animated-in").addClass(r))}},o.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},o.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=o}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var o=function(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":e.proxy((function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._paused&&(this._time=0)}),this),"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoplay&&this.play()}),this),"play.owl.autoplay":e.proxy((function(e,t,n){e.namespace&&this.play(t,n)}),this),"stop.owl.autoplay":e.proxy((function(e){e.namespace&&this.stop()}),this),"mouseover.owl.autoplay":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"mouseleave.owl.autoplay":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()}),this),"touchstart.owl.core":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"touchend.owl.core":e.proxy((function(){this._core.settings.autoplayHoverPause&&this.play()}),this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},o.Defaults,this._core.options)};o.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},o.prototype._next=function(i){this._call=t.setTimeout(e.proxy(this._next,this,i),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||n.hidden||this._core.next(i||this._core.settings.autoplaySpeed)},o.prototype.read=function(){return(new Date).getTime()-this._time},o.prototype.play=function(n,i){var o;this._core.is("rotating")||this._core.enter("rotating"),n=n||this._core.settings.autoplayTimeout,o=Math.min(this._time%(this._timeout||n),n),this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call),this._time+=this.read()%n-o,this._timeout=n,this._call=t.setTimeout(e.proxy(this._next,this,i),n-o)},o.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))},o.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))},o.prototype.destroy=function(){var e,t;for(e in this.stop(),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=o}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){"use strict";var o=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy((function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")}),this),"added.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())}),this),"remove.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&"position"==e.property.name&&this.draw()}),this),"initialized.owl.carousel":e.proxy((function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))}),this),"refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers)};o.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},o.prototype.initialize=function(){var t,n=this._core.settings;for(t in this._controls.$relative=(n.navContainer?e(n.navContainer):e("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy((function(e){this.prev(n.navSpeed)}),this)),this._controls.$next=e("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy((function(e){this.next(n.navSpeed)}),this)),n.dotsData||(this._templates=[e('<button role="button">').addClass(n.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?e(n.dotsContainer):e("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",e.proxy((function(t){var i=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(i,n.dotsSpeed)}),this)),this._overrides)this._core[t]=e.proxy(this[t],this)},o.prototype.destroy=function(){var e,t,n,i,o;for(e in o=this._core.settings,this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)"$relative"===t&&o.navContainer?this._controls[t].html(""):this._controls[t].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},o.prototype.update=function(){var e,t,n=this._core.clones().length/2,i=n+this._core.items().length,o=this._core.maximum(!0),r=this._core.settings,s=r.center||r.autoWidth||r.dotsData?1:r.dotsEach||r.items;if("page"!==r.slideBy&&(r.slideBy=Math.min(r.slideBy,r.items)),r.dots||"page"==r.slideBy)for(this._pages=[],e=n,t=0,0;e<i;e++){if(t>=s||0===t){if(this._pages.push({start:Math.min(o,e-n),end:e-n+s-1}),Math.min(o,e-n)===o)break;t=0}t+=this._core.mergers(this._core.relative(e))}},o.prototype.draw=function(){var t,n=this._core.settings,i=this._core.items().length<=n.items,o=this._core.relative(this._core.current()),r=n.loop||n.rewind;this._controls.$relative.toggleClass("disabled",!n.nav||i),n.nav&&(this._controls.$previous.toggleClass("disabled",!r&&o<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!r&&o>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!n.dots||i),n.dots&&(t=this._pages.length-this._controls.$absolute.children().length,n.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},o.prototype.onTrigger=function(t){var n=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items)}},o.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy((function(e,n){return e.start<=t&&e.end>=t}),this)).pop()},o.prototype.getPosition=function(t){var n,i,o=this._core.settings;return"page"==o.slideBy?(n=e.inArray(this.current(),this._pages),i=this._pages.length,t?++n:--n,n=this._pages[(n%i+i)%i].start):(n=this._core.relative(this._core.current()),i=this._core.items().length,t?n+=o.slideBy:n-=o.slideBy),n},o.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},o.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},o.prototype.to=function(t,n,i){var o;!i&&this._pages.length?(o=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%o+o)%o].start,n)):e.proxy(this._overrides.to,this._core)(t,n)},e.fn.owlCarousel.Constructor.Plugins.Navigation=o}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){"use strict";var o=function(n){this._core=n,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy((function(n){n.namespace&&"URLHash"===this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")}),this),"prepared.owl.carousel":e.proxy((function(t){if(t.namespace){var n=e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!n)return;this._hashes[n]=t.content}}),this),"changed.owl.carousel":e.proxy((function(n){if(n.namespace&&"position"===n.property.name){var i=this._core.items(this._core.relative(this._core.current())),o=e.map(this._hashes,(function(e,t){return e===i?t:null})).join();if(!o||t.location.hash.slice(1)===o)return;t.location.hash=o}}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy((function(e){var n=t.location.hash.substring(1),i=this._core.$stage.children(),o=this._hashes[n]&&i.index(this._hashes[n]);void 0!==o&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)}),this))};o.Defaults={URLhashListener:!1},o.prototype.destroy=function(){var n,i;for(n in e(t).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(n,this._handlers[n]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=o}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var o=e("<support>").get(0).style,r="Webkit Moz O ms".split(" "),s={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},a=function(){return!!u("transform")},l=function(){return!!u("perspective")},c=function(){return!!u("animation")};function u(t,n){var i=!1,s=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+r.join(s+" ")+s).split(" "),(function(e,t){if(void 0!==o[t])return i=!n||t,!1})),i}function d(e){return u(e,!0)}(function(){return!!u("transition")})()&&(e.support.transition=new String(d("transition")),e.support.transition.end=s.transition.end[e.support.transition]),c()&&(e.support.animation=new String(d("animation")),e.support.animation.end=s.animation.end[e.support.animation]),a()&&(e.support.transform=new String(d("transform")),e.support.transform3d=l())}(window.Zepto||window.jQuery,window,document),
/*!
 * iCheck v1.0.2, http://git.io/arlzeA
 * ===================================
 * Powerful jQuery and Zepto plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Sultanov, http://fronteed.com
 * MIT Licensed
 */
function(e){function t(e,t,o){var r=e[0],s=/er/.test(o)?_indeterminate:/bl/.test(o)?"disabled":"checked",a=o==_update?{checked:r.checked,disabled:r.disabled,indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:r[s];if(/^(ch|di|in)/.test(o)&&!a)n(e,s);else if(/^(un|en|de)/.test(o)&&a)i(e,s);else if(o==_update)for(var l in a)a[l]?n(e,l,!0):i(e,l,!0);else t&&"toggle"!=o||(t||e[_callback]("ifClicked"),a?"radio"!==r[_type]&&i(e,s):n(e,s))}function n(t,n,o){var l=t[0],c=t.parent(),u="checked"==n,d=n==_indeterminate,p="disabled"==n,h=d?_determinate:u?"unchecked":"enabled",f=r(t,h+s(l[_type])),m=r(t,n+s(l[_type]));if(!0!==l[n]){if(!o&&"checked"==n&&"radio"==l[_type]&&l.name){var g=t.closest("form"),v='input[name="'+l.name+'"]';(v=g.length?g.find(v):e(v)).each((function(){this!==l&&e(this).data("iCheck")&&i(e(this),n)}))}d?(l[n]=!0,l.checked&&i(t,"checked","force")):(o||(l[n]=!0),u&&l[_indeterminate]&&i(t,_indeterminate,!1)),a(t,u,n,o)}l.disabled&&r(t,_cursor,!0)&&c.find(".iCheck-helper").css(_cursor,"default"),c[_add](m||r(t,n)||""),c.attr("role")&&!d&&c.attr("aria-"+(p?"disabled":"checked"),"true"),c[_remove](f||r(t,h)||"")}function i(e,t,n){var i=e[0],o=e.parent(),l="checked"==t,c=t==_indeterminate,u="disabled"==t,d=c?_determinate:l?"unchecked":"enabled",p=r(e,d+s(i[_type])),h=r(e,t+s(i[_type]));!1!==i[t]&&(!c&&n&&"force"!=n||(i[t]=!1),a(e,l,d,n)),!i.disabled&&r(e,_cursor,!0)&&o.find(".iCheck-helper").css(_cursor,"pointer"),o[_remove](h||r(e,t)||""),o.attr("role")&&!c&&o.attr("aria-"+(u?"disabled":"checked"),"false"),o[_add](p||r(e,d)||"")}function o(t,n){t.data("iCheck")&&(t.parent().html(t.attr("style",t.data("iCheck").s||"")),n&&t[_callback](n),t.off(".i").unwrap(),e(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function r(e,t,n){if(e.data("iCheck"))return e.data("iCheck").o[t+(n?"":"Class")]}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e,t,n,i){i||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+s(n)))}_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),e.fn.iCheck=function(r,s){var a='input[type="checkbox"], input[type="radio"]',l=e(),c=function(t){t.each((function(){var t=e(this);l=t.is(a)?l.add(t):l.add(t.find(a))}))};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),c(this),l.each((function(){var n=e(this);"destroy"==r?o(n,"ifDestroyed"):t(n,!0,r),e.isFunction(s)&&s()}));if("object"!=typeof r&&r)return this;var u=e.extend({checkedClass:"checked",disabledClass:"disabled",indeterminateClass:_indeterminate,labelHover:!0},r),d=u.handle,p=u.hoverClass||"hover",h=u.focusClass||"focus",f=u.activeClass||"active",m=!!u.labelHover,g=u.labelHoverClass||"hover",v=0|(""+u.increaseArea).replace("%","");return"checkbox"!=d&&"radio"!=d||(a='input[type="'+d+'"]'),v<-50&&(v=-50),c(this),l.each((function(){var r=e(this);o(r);var s,a=this,l=a.id,c=-v+"%",d=100+2*v+"%",y={position:"absolute",top:c,left:c,display:"block",width:d,height:d,margin:0,padding:0,background:"#fff",border:0,opacity:0},_=_mobile?{position:"absolute",visibility:"hidden"}:v?y:{position:"absolute",opacity:0},b="checkbox"==a[_type]?u.checkboxClass||"icheckbox":u.radioClass||"iradio",w=e(_label+'[for="'+l+'"]').add(r.closest(_label)),C=!!u.aria,x="iCheck-"+Math.random().toString(36).substr(2,6),k='<div class="'+b+'" '+(C?'role="'+a[_type]+'" ':"");C&&w.each((function(){k+='aria-labelledby="',this.id?k+=this.id:(this.id=x,k+=x),k+='"'})),k=r.wrap(k+"/>")[_callback]("ifCreated").parent().append(u.insert),s=e('<ins class="iCheck-helper"/>').css(y).appendTo(k),r.data("iCheck",{o:u,s:r.attr("style")}).css(_),u.inheritClass&&k[_add](a.className||""),u.inheritID&&l&&k.attr("id","iCheck-"+l),"static"==k.css("position")&&k.css("position","relative"),t(r,!0,_update),w.length&&w.on(_click+".i mouseover.i mouseout.i "+_touch,(function(n){var i=n[_type],o=e(this);if(!a.disabled){if(i==_click){if(e(n.target).is("a"))return;t(r,!1,!0)}else m&&(/ut|nd/.test(i)?(k[_remove](p),o[_remove](g)):(k[_add](p),o[_add](g)));if(!_mobile)return!1;n.stopPropagation()}})),r.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",(function(e){var t=e[_type],o=e.keyCode;return t!=_click&&("keydown"==t&&32==o?("radio"==a[_type]&&a.checked||(a.checked?i(r,"checked"):n(r,"checked")),!1):void("keyup"==t&&"radio"==a[_type]?!a.checked&&n(r,"checked"):/us|ur/.test(t)&&k["blur"==t?_remove:_add](h)))})),s.on(_click+" mousedown mouseup mouseover mouseout "+_touch,(function(e){var n=e[_type],i=/wn|up/.test(n)?f:p;if(!a.disabled){if(n==_click?t(r,!1,!0):(/wn|er|in/.test(n)?k[_add](i):k[_remove](i+" "+f),w.length&&m&&i==p&&w[/ut|nd/.test(n)?_remove:_add](g)),!_mobile)return!1;e.stopPropagation()}}))}))}}(window.jQuery||window.Zepto),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}((function(e){var t,n=navigator.userAgent,i=/iphone/i.test(n),o=/chrome/i.test(n),r=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,s){var a,l,c,u,d,p,h;if(!n&&this.length>0){var f=e(this[0]).data(e.mask.dataName);return f?f():void 0}return s=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},s),a=e.mask.definitions,l=[],c=p=n.length,u=null,e.each(n.split(""),(function(e,t){"?"==t?(p--,c=e):a[t]?(l.push(new RegExp(a[t])),null===u&&(u=l.length-1),c>e&&(d=l.length-1)):l.push(null)})),this.trigger("unmask").each((function(){function f(){if(s.completed){for(var e=u;d>=e;e++)if(l[e]&&x[e]===m(e))return;s.completed.call(C)}}function m(e){return s.placeholder.charAt(e<s.placeholder.length?e:0)}function g(e){for(;++e<p&&!l[e];);return e}function v(e,t){var n,i;if(!(0>e)){for(n=e,i=g(t);p>n;n++)if(l[n]){if(!(p>i&&l[n].test(x[i])))break;x[n]=x[i],x[i]=m(i),i=g(i)}b(),C.caret(Math.max(u,e))}}function y(){w(),C.val()!=T&&C.change()}function _(e,t){var n;for(n=e;t>n&&p>n;n++)l[n]&&(x[n]=m(n))}function b(){C.val(x.join(""))}function w(e){var t,n,i,o=C.val(),r=-1;for(t=0,i=0;p>t;t++)if(l[t]){for(x[t]=m(t);i++<o.length;)if(n=o.charAt(i-1),l[t].test(n)){x[t]=n,r=t;break}if(i>o.length){_(t+1,p);break}}else x[t]===o.charAt(i)&&i++,c>t&&(r=t);return e?b():c>r+1?s.autoclear||x.join("")===k?(C.val()&&C.val(""),_(0,p)):b():(b(),C.val(C.val().substring(0,r+1))),c?t:u}var C=e(this),x=e.map(n.split(""),(function(e,t){return"?"!=e?a[e]?m(t):e:void 0})),k=x.join(""),T=C.val();C.data(e.mask.dataName,(function(){return e.map(x,(function(e,t){return l[t]&&e!=m(t)?e:null})).join("")})),C.one("unmask",(function(){C.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;C.prop("readonly")||(clearTimeout(t),T=C.val(),e=w(),t=setTimeout((function(){C.get(0)===document.activeElement&&(b(),e==n.replace("?","").length?C.caret(0,e):C.caret(e))}),10))})).on("blur.mask",y).on("keydown.mask",(function(e){if(!C.prop("readonly")){var t,n,o,r=e.which||e.keyCode;h=C.val(),8===r||46===r||i&&127===r?(n=(t=C.caret()).begin,(o=t.end)-n==0&&(n=46!==r?function(e){for(;--e>=0&&!l[e];);return e}(n):o=g(n-1),o=46===r?g(o):o),_(n,o),v(n,o-1),e.preventDefault()):13===r?y.call(this,e):27===r&&(C.val(T),C.caret(0,w()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!C.prop("readonly")){var n,i,o,s=t.which||t.keyCode,a=C.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>s)&&s&&13!==s){if(a.end-a.begin!=0&&(_(a.begin,a.end),v(a.begin,a.end-1)),n=g(a.begin-1),p>n&&(i=String.fromCharCode(s),l[n].test(i))){if(function(e){var t,n,i,o;for(t=e,n=m(e);p>t;t++)if(l[t]){if(i=g(t),o=x[t],x[t]=n,!(p>i&&l[i].test(o)))break;n=o}}(n),x[n]=i,b(),o=g(n),r){setTimeout((function(){e.proxy(e.fn.caret,C,o)()}),0)}else C.caret(o);a.begin<=d&&f()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){C.prop("readonly")||setTimeout((function(){var e=w(!0);C.caret(e),f()}),0)})),o&&r&&C.off("input.mask").on("input.mask",(function(){var e=C.val(),t=C.caret();if(h&&h.length&&h.length>e.length){for(w(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<u&&!l[t.begin];)t.begin++;C.caret(t.begin,t.begin)}else{for(w(!0);t.begin<p&&!l[t.begin];)t.begin++;C.caret(t.begin,t.begin)}f()})),w()}))}})})),
/*!
 * Modernizr v2.8.3
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=function(e,t,n){var i,o,r,s={},a=t.documentElement,l="modernizr",c=t.createElement(l),u=c.style,d=t.createElement("input"),p=":)",h={}.toString,f=" -webkit- -moz- -o- -ms- ".split(" "),m="Webkit Moz O ms".split(" "),g="Webkit Moz O ms".toLowerCase().split(" "),v="http://www.w3.org/2000/svg",y={},_={},b={},w=[],C=w.slice,x=function(e,n,i,o){var r,s,c,u,d=t.createElement("div"),p=t.body,h=p||t.createElement("body");if(parseInt(i,10))for(;i--;)(c=t.createElement("div")).id=o?o[i]:l+(i+1),d.appendChild(c);return r=["&#173;",'<style id="s',l,'">',e,"</style>"].join(""),d.id=l,(p?d:h).innerHTML+=r,h.appendChild(d),p||(h.style.background="",h.style.overflow="hidden",u=a.style.overflow,a.style.overflow="hidden",a.appendChild(h)),s=n(d,e),p?d.parentNode.removeChild(d):(h.parentNode.removeChild(h),a.style.overflow=u),!!s},k=(r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e,n){n=n||t.createElement(r[e]||"div");var i=(e="on"+e)in n;return i||(n.setAttribute||(n=t.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(e,""),i=A(n[e],"function"),A(n[e],"undefined")||(n[e]=void 0),n.removeAttribute(e))),n=null,i}),T={}.hasOwnProperty;function S(e){u.cssText=e}function A(e,t){return typeof e===t}function E(e,t){return!!~(""+e).indexOf(t)}function O(e,t){for(var n in e){var i=e[n];if(!E(i,"-")&&void 0!==u[i])return"pfx"!=t||i}return!1}function M(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+m.join(i+" ")+i).split(" ");return A(t,"string")||A(t,"undefined")?O(o,t):function(e,t,n){for(var i in e){var o=t[e[i]];if(void 0!==o)return!1===n?e[i]:A(o,"function")?o.bind(n||t):o}return!1}(o=(e+" "+g.join(i+" ")+i).split(" "),t,n)}for(var $ in o=A(T,"undefined")||A(T.call,"undefined")?function(e,t){return t in e&&A(e.constructor.prototype[t],"undefined")}:function(e,t){return T.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=C.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=t.prototype;var r=new o,s=t.apply(r,n.concat(C.call(arguments)));return Object(s)===s?s:r}return t.apply(e,n.concat(C.call(arguments)))};return i}),y.flexbox=function(){return M("flexWrap")},y.flexboxlegacy=function(){return M("boxDirection")},y.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},y.canvastext=function(){return!(!s.canvas||!A(t.createElement("canvas").getContext("2d").fillText,"function"))},y.webgl=function(){return!!e.WebGLRenderingContext},y.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:x(["@media (",f.join("touch-enabled),("),l,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(e){n=9===e.offsetTop})),n},y.geolocation=function(){return"geolocation"in navigator},y.postmessage=function(){return!!e.postMessage},y.websqldatabase=function(){return!!e.openDatabase},y.indexedDB=function(){return!!M("indexedDB",e)},y.hashchange=function(){return k("hashchange",e)&&(void 0===t.documentMode||t.documentMode>7)},y.history=function(){return!(!e.history||!history.pushState)},y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},y.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},y.rgba=function(){return S("background-color:rgba(150,255,150,.5)"),E(u.backgroundColor,"rgba")},y.hsla=function(){return S("background-color:hsla(120,40%,100%,.5)"),E(u.backgroundColor,"rgba")||E(u.backgroundColor,"hsla")},y.multiplebgs=function(){return S("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(u.background)},y.backgroundsize=function(){return M("backgroundSize")},y.borderimage=function(){return M("borderImage")},y.borderradius=function(){return M("borderRadius")},y.boxshadow=function(){return M("boxShadow")},y.textshadow=function(){return""===t.createElement("div").style.textShadow},y.opacity=function(){var e,t;return e="opacity:.55",S(f.join(e+";")+(t||"")),/^0.55$/.test(u.opacity)},y.cssanimations=function(){return M("animationName")},y.csscolumns=function(){return M("columnCount")},y.cssgradients=function(){var e="background-image:";return S((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+f.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),E(u.backgroundImage,"gradient")},y.cssreflections=function(){return M("boxReflect")},y.csstransforms=function(){return!!M("transform")},y.csstransforms3d=function(){var e=!!M("perspective");return e&&"webkitPerspective"in a.style&&x("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},y.csstransitions=function(){return M("transition")},y.fontface=function(){var e;return x('@font-face {font-family:"font";src:url("https://")}',(function(n,i){var o=t.getElementById("smodernizr"),r=o.sheet||o.styleSheet,s=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"";e=/src/i.test(s)&&0===s.indexOf(i.split(" ")[0])})),e},y.generatedcontent=function(){var e;return x(["#",l,"{font:0/0 a}#",l,':after{content:"',p,'";visibility:hidden;font:3px/1 a}'].join(""),(function(t){e=t.offsetHeight>=3})),e},y.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return n},y.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return n},y.localstorage=function(){try{return localStorage.setItem(l,l),localStorage.removeItem(l),!0}catch(e){return!1}},y.sessionstorage=function(){try{return sessionStorage.setItem(l,l),sessionStorage.removeItem(l),!0}catch(e){return!1}},y.webworkers=function(){return!!e.Worker},y.applicationcache=function(){return!!e.applicationCache},y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(v,"svg").createSVGRect},y.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==v},y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(v,"animate")))},y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(v,"clipPath")))},y)o(y,$)&&(i=$.toLowerCase(),s[i]=y[$](),w.push((s[i]?"":"no-")+i));return s.input||(s.input=function(n){for(var i=0,o=n.length;i<o;i++)b[n[i]]=!!(n[i]in d);return b.list&&(b.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),b}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),s.inputtypes=function(e){for(var n,i,o,r=0,s=e.length;r<s;r++)d.setAttribute("type",i=e[r]),(n="text"!==d.type)&&(d.value=p,d.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&void 0!==d.style.WebkitAppearance?(a.appendChild(d),n=(o=t.defaultView).getComputedStyle&&"textfield"!==o.getComputedStyle(d,null).WebkitAppearance&&0!==d.offsetHeight,a.removeChild(d)):/^(search|tel)$/.test(i)||(n=/^(url|email)$/.test(i)?d.checkValidity&&!1===d.checkValidity():d.value!=p)),_[e[r]]=!!n;return _}("search tel url email datetime date month week time datetime-local number range color".split(" "))),s.addTest=function(e,t){if("object"==typeof e)for(var n in e)o(e,n)&&s.addTest(n,e[n]);else{if(e=e.toLowerCase(),void 0!==s[e])return s;t="function"==typeof t?t():t,a.className+=" "+(t?"":"no-")+e,s[e]=t}return s},S(""),c=d=null,function(e,t){var n,i,o=e.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,s=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,a=0,l={};function c(){var e=h.elements;return"string"==typeof e?e.split(" "):e}function u(e){var t=l[e._html5shiv];return t||(t={},a++,e._html5shiv=a,l[a]=t),t}function d(e,n,o){return n||(n=t),i?n.createElement(e):(o||(o=u(n)),!(a=o.cache[e]?o.cache[e].cloneNode():s.test(e)?(o.cache[e]=o.createElem(e)).cloneNode():o.createElem(e)).canHaveChildren||r.test(e)||a.tagUrn?a:o.frag.appendChild(a));var a}function p(e){e||(e=t);var o=u(e);return!h.shivCSS||n||o.hasCSS||(o.hasCSS=!!function(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),i||function(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return h.shivMethods?d(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/[\w\-]+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(h,t.frag)}(e,o),e}!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",n="hidden"in e,i=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){n=!0,i=!0}}();var h={elements:o.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==o.shivCSS,supportsUnknownElements:i,shivMethods:!1!==o.shivMethods,type:"default",shivDocument:p,createElement:d,createDocumentFragment:function(e,n){if(e||(e=t),i)return e.createDocumentFragment();for(var o=(n=n||u(e)).frag.cloneNode(),r=0,s=c(),a=s.length;r<a;r++)o.createElement(s[r]);return o}};e.html5=h,p(t)}(this,t),s._version="2.8.3",s._prefixes=f,s._domPrefixes=g,s._cssomPrefixes=m,s.mq=function(t){var n,i=e.matchMedia||e.msMatchMedia;return i?i(t)&&i(t).matches||!1:(x("@media "+t+" { #"+l+" { position: absolute; } }",(function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position})),n)},s.hasEvent=k,s.testProp=function(e){return O([e])},s.testAllProps=M,s.testStyles=x,s.prefixed=function(e,t,n){return t?M(e,t,n):M(e,"pfx")},a.className=a.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+w.join(" "),s}(this,this.document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)}((function(e){var t,n,i,o,r,s,a=function(){},l=!!window.jQuery,c=e(window),u=function(e,n){t.ev.on("mfp"+e+".mfp",n)},d=function(t,n,i,o){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},p=function(n,i){t.ev.triggerHandler("mfp"+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},h=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},f=function(){e.magnificPopup.instance||((t=new a).init(),e.magnificPopup.instance=t)};a.prototype={constructor:a,init:function(){var n=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(n){var o;if(!1===n.isObj){t.items=n.items.toArray(),t.index=0;var s,a=n.items;for(o=0;o<a.length;o++)if((s=a[o]).parsed&&(s=s.el[0]),s===n.el[0]){t.index=o;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(!t.isOpen){t.types=[],r="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=d("bg").on("click.mfp",(function(){t.close()})),t.wrap=d("wrap").attr("tabindex",-1).on("click.mfp",(function(e){t._checkIfClose(e.target)&&t.close()})),t.container=d("container",t.wrap)),t.contentContainer=d("content"),t.st.preloader&&(t.preloader=d("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(o=0;o<l.length;o++){var f=l[o];f=f.charAt(0).toUpperCase()+f.slice(1),t["init"+f].call(t)}p("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(u("MarkupParse",(function(e,t,n,i){n.close_replaceWith=h(i.type)})),r+=" mfp-close-btn-in"):t.wrap.append(h())),t.st.alignTop&&(r+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:c.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup.mfp",(function(e){27===e.keyCode&&t.close()})),c.on("resize.mfp",(function(){t.updateSize()})),t.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&t.wrap.addClass(r);var m=t.wH=c.height(),g={};if(t.fixedContentPos&&t._hasScrollBar(m)){var v=t._getScrollbarSize();v&&(g.marginRight=v)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):g.overflow="hidden");var y=t.st.mainClass;return t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),p("BuildControls"),e("html").css(g),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout((function(){t.content?(t._addClassToMFP("mfp-ready"),t._setFocus()):t.bgOverlay.addClass("mfp-ready"),i.on("focusin.mfp",t._onFocusIn)}),16),t.isOpen=!0,t.updateSize(m),p("Open"),n}t.updateItemHTML()},close:function(){t.isOpen&&(p("BeforeClose"),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP("mfp-removing"),setTimeout((function(){t._close()}),t.st.removalDelay)):t._close())},_close:function(){p("Close");var n="mfp-removing mfp-ready ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var o={marginRight:""};t.isIE7?e("body, html").css("overflow",""):o.overflow="",e("html").css(o)}i.off("keyup.mfp focusin.mfp"),t.ev.off(".mfp"),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&!0!==t.currTemplate[t.currItem.type]||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,p("AfterClose")},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||c.height();t.fixedContentPos||t.wrap.css("height",t.wH),p("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(p("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var r=!!t.st[i]&&t.st[i].markup;p("FirstMarkupParse",r),t.currTemplate[i]=!r||e(r)}o&&o!==n.type&&t.container.removeClass("mfp-"+o+"-holder");var s=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(s,i),n.preloaded=!0,p("Change",n),o=n.type,t.container.prepend(t.contentContainer),p("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[n]?t.content.find(".mfp-close").length||t.content.append(h()):t.content=e:t.content="",p("BeforeAppend"),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,o=t.items[n];if(o.tagName?o={el:e(o)}:(i=o.type,o={data:o,src:o.src}),o.el){for(var r=t.types,s=0;s<r.length;s++)if(o.el.hasClass("mfp-"+r[s])){i=r[s];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=i||t.st.type||"inline",o.index=n,o.parsed=!0,t.items[n]=o,p("ElementParse",o),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var o="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(o).on(o,i)):(n.isObj=!1,n.delegate?e.off(o).on(o,n.delegate,i):(n.items=e,e.off(o).on(o,i)))},_openClick:function(n,i,o){if((void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick)||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var r=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(r)if(e.isFunction(r)){if(!r.call(t))return!0}else if(c.width()<r)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),o.el=e(n.mfpEl),o.delegate&&(o.items=i.find(o.delegate)),t.open(o)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var o={status:e,text:i};p("UpdateStatus",o),e=o.status,i=o.text,t.preloader.html(i),t.preloader.find("a").on("click",(function(e){e.stopImmediatePropagation()})),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass("mfp-prevent-close")){var i=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(i&&o)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(o&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||c.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){if(n.target!==t.wrap[0]&&!e.contains(t.wrap[0],n.target))return t._setFocus(),!1},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),p("MarkupParse",[t,n,i]),e.each(n,(function(n,i){if(void 0===i||!1===i)return!0;if((o=n.split("_")).length>1){var r=t.find(".mfp-"+o[0]);if(r.length>0){var s=o[1];"replaceWith"===s?r[0]!==i[0]&&r.replaceWith(i):"img"===s?r.is("img")?r.attr("src",i):r.replaceWith(e("<img>").attr("src",i).attr("class",r.attr("class"))):r.attr(o[1],i)}}else t.find(".mfp-"+n).html(i)}))},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:a.prototype,modules:[],open:function(t,n){return f(),(t=t?e.extend(!0,{},t):{}).isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(n){f();var i=e(this);if("string"==typeof n)if("open"===n){var o,r=l?i.data("magnificPopup"):i[0].magnificPopup,s=parseInt(arguments[1],10)||0;r.items?o=r.items[s]:(o=i,r.delegate&&(o=o.find(r.delegate)),o=o.eq(s)),t._openClick({mfpEl:o},i,r)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),l?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var m,g,v,y=function(){v&&(g.after(v.addClass(m)).detach(),v=null)};e.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push("inline"),u("Close.inline",(function(){y()}))},getInline:function(n,i){if(y(),n.src){var o=t.st.inline,r=e(n.src);if(r.length){var s=r[0].parentNode;s&&s.tagName&&(g||(m=o.hiddenClass,g=d(m),m="mfp-"+m),v=r.after(g).detach().removeClass(m)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),r=e("<div>");return n.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var _,b=function(){_&&e(document.body).removeClass(_)},w=function(){b(),t.req&&t.req.abort()};e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push("ajax"),_=t.st.ajax.cursor,u("Close.ajax",w),u("BeforeChange.ajax",w)},getAjax:function(n){_&&e(document.body).addClass(_),t.updateStatus("loading");var i=e.extend({url:n.src,success:function(i,o,r){var s={data:i,xhr:r};p("ParseAjax",s),t.appendContent(e(s.data),"ajax"),n.finished=!0,b(),t._setFocus(),setTimeout((function(){t.wrap.addClass("mfp-ready")}),16),t.updateStatus("ready"),p("AjaxContentAdded")},error:function(){b(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var C,x=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=t.st.image,i=".image";t.types.push("image"),u("Open"+i,(function(){"image"===t.currItem.type&&n.cursor&&e(document.body).addClass(n.cursor)})),u("Close"+i,(function(){n.cursor&&e(document.body).removeClass(n.cursor),c.off("resize.mfp")})),u("Resize"+i,t.resizeImage),t.isLowIE&&u("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,C&&clearInterval(C),e.isCheckingImgSize=!1,p("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(r){C&&clearInterval(C),C=setInterval((function(){i.naturalWidth>0?t._onImageHasSize(e):(n>200&&clearInterval(C),3===++n?o(10):40===n?o(50):100===n&&o(500))}),r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,p("ImageLoadComplete")):++o<200?setTimeout(r,100):s())},s=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",a.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},a=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.el&&n.el.find("img").length&&(c.alt=n.el.find("img").attr("alt")),n.img=e(c).on("load.mfploader",r).on("error.mfploader",s),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),(c=n.img[0]).naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:x(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(C&&clearInterval(C),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var k;e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var o,r,s=n.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,t.css(o),t},l=function(){t.content.css("visibility","visible")};u("BuildControls"+i,(function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void l();(r=a(e)).css(t._getOffset()),t.wrap.append(r),o=setTimeout((function(){r.css(t._getOffset(!0)),o=setTimeout((function(){l(),setTimeout((function(){r.remove(),e=r=null,p("ZoomAnimationEnded")}),16)}),s)}),16)}})),u("BeforeClose"+i,(function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=s,!e){if(!(e=t._getItemToZoom()))return;r=a(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout((function(){r.css(t._getOffset())}),16)}})),u("Close"+i,(function(){t._allowZoom()&&(l(),r&&r.remove(),e=null)}))}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(n){var i,o=(i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem)).offset(),r=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var a={width:i.width(),height:(l?i.innerHeight():i[0].offsetHeight)-s-r};return void 0===k&&(k=void 0!==document.createElement("p").style.MozTransform),k?a["-moz-transform"]=a.transform="translate("+o.left+"px,"+o.top+"px)":(a.left=o.left,a.top=o.top),a}}});var T=function(e){if(t.currTemplate.iframe){var n=t.currTemplate.iframe.find("iframe");n.length&&(e||(n[0].src="//about:blank"),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push("iframe"),u("BeforeChange",(function(e,t,n){t!==n&&("iframe"===t?T():"iframe"===n&&T(!0))})),u("Close.iframe",(function(){T()}))},getIframe:function(n,i){var o=n.src,r=t.st.iframe;e.each(r.patterns,(function(){if(o.indexOf(this.index)>-1)return this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1}));var s={};return r.srcAction&&(s[r.srcAction]=o),t._parseMarkup(i,s,n),t.updateStatus("ready"),i}}});var S=function(e){var n=t.items.length;return e>n-1?e-n:e<0?n+e:e},A=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,o=".mfp-gallery";if(t.direction=!0,!n||!n.enabled)return!1;r+=" mfp-gallery",u("Open"+o,(function(){n.navigateByImgClick&&t.wrap.on("click"+o,".mfp-img",(function(){if(t.items.length>1)return t.next(),!1})),i.on("keydown"+o,(function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()}))})),u("UpdateStatus"+o,(function(e,n){n.text&&(n.text=A(n.text,t.currItem.index,t.items.length))})),u("MarkupParse"+o,(function(e,i,o,r){var s=t.items.length;o.counter=s>1?A(n.tCounter,r.index,s):""})),u("BuildControls"+o,(function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,o=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),r=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");o.click((function(){t.prev()})),r.click((function(){t.next()})),t.container.append(o.add(r))}})),u("Change"+o,(function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout((function(){t.preloadNearbyImages(),t._preloadTimeout=null}),16)})),u("Close"+o,(function(){i.off(o),t.wrap.off("click"+o),t.arrowRight=t.arrowLeft=null}))},next:function(){t.direction=!0,t.index=S(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=S(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),o=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?o:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:o);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=S(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),p("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",(function(){i.hasSize=!0})).on("error.mfploader",(function(){i.hasSize=!0,i.loadError=!0,p("LazyLoadError",i)})).attr("src",i.src)),i.preloaded=!0}}}});e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,(function(e){return"@2x"+e}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;(n=isNaN(n)?n():n)>1&&(u("ImageHasSize.retina",(function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})})),u("ElementParse.retina",(function(t,i){i.src=e.replaceSrc(i,n)})))}}}}),f()})),function(e){e(window).resize((function(){!function(){const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}()})),e(".js-equalize-scope").each((function(){var t=e(this),n=e(".js-equalize-scope__elem",t);function i(){var t=0;clearTimeout(void 0),n.css("min-height",""),setTimeout((function(){n.each((function(){t=Math.max(t,e(this).outerHeight())})),n.each((function(){e(this).css("min-height",t)}))}),100)}i(),e(window).on("resize",i)})),e.fn.startWaiting=function(){$elem=e(this),$elem.find(".form__submit").prop("disabled",!0);var t=document.createElement("div");t.className="ui-loader",t.style.backgroundImage='url("/local/templates/main/build/images/ui/preloader.gif")',$elem.css({position:"relative"}),$elem[0].appendChild(t)},e.fn.endWaiting=function(){$elem=e(this),$elem.find(".form__submit").prop("disabled",!1),$loaderDiv=$elem.find(".ui-loader"),$loaderDiv.remove()},window.Geo=window.Geo||{},window.CallTracking=window.CallTracking||{ready:!1},window.App=window.App||{},App.Widgets=App.Widgets||{};var t=can.Control.extend({},{init:function(){"function"==typeof getClientId&&e.getJSON("/ajax/interface/checkcid",{cid:getClientId()},(function(e){e.allowed||window.location.replace("/blocked/")})),e.getJSON("/ajax/interface/geolocation",(function(e){window.Geo=e})),window.Lang=this.spotLang();var t=new URI(window.location.href),n=this;if(t.hash())try{e(document).ready((function(){setTimeout(n.scrollIt(t.hash()),5e3)}))}catch(e){}App.ZeroWebFormValues=App.ZeroWebFormValues||{service:Cookies.get("ZeroWebFormValues_service")?Cookies.get("ZeroWebFormValues_service"):"",service_code:Cookies.get("ZeroWebFormValues_service_code")?Cookies.get("ZeroWebFormValues_service_code"):"",options_electron:Cookies.get("ZeroWebFormValues_options_electron")?Cookies.get("ZeroWebFormValues_options_electron"):"",options_courier:Cookies.get("ZeroWebFormValues_options_courier")?Cookies.get("ZeroWebFormValues_options_courier"):"",sale:Cookies.get("ZeroWebFormValues_sale")?Cookies.get("ZeroWebFormValues_sale"):"",sale_code:Cookies.get("ZeroWebFormValues_sale_code")?Cookies.get("ZeroWebFormValues_sale_code"):"",summ:Cookies.get("ZeroWebFormValues_summ")?Cookies.get("ZeroWebFormValues_summ"):"",inn:Cookies.get("ZeroWebFormValues_inn")?Cookies.get("ZeroWebFormValues_inn"):"",name:Cookies.get("ZeroWebFormValues_name")?Cookies.get("ZeroWebFormValues_name"):"",phone:Cookies.get("ZeroWebFormValues_phone")?Cookies.get("ZeroWebFormValues_phone"):"",email:Cookies.get("ZeroWebFormValues_email")?Cookies.get("ZeroWebFormValues_email"):"",address:Cookies.get("ZeroWebFormValues_address")?Cookies.get("ZeroWebFormValues_address"):"",comment:Cookies.get("ZeroWebFormValues_comment")?Cookies.get("ZeroWebFormValues_comment"):""}},bootstrap:function(){var e;for(e in this)e.length>4&&"init"===e.substr(0,4)&&this[e]();can.route.ready()},installController:function(e,t,n){return n=n||{},this.element.find(e)[t](n).control(t)},initCustomComponents:function(){this.runFancybox(),this.runTooltipster(),this.runiCheck(),this.loadUIComponents(),this.formFileInit(),this.installController(".js-get-form-file","appWidgetFormGetFile"),this.formFileClick(),setTimeout((function(){window.application.installController(".js-zero-reporting-order","appWidgetZeroReportingOrder")}),3e3);var t=this;e(document).ajaxComplete((function(){t.loadUIComponents(),t.runFancybox(),t.runiCheck(),t.runPhoneChange(),t.runTooltipster(),t.runCheckForm()}))},loadUIComponents:function(){this.maskInput(),this.formValidate(),this.runiCheck(),this.installController(".js-form-select","appWidgetFormSelect"),this.installController(".js-custom-form-element","appWidgetCustomFormElement")},validateOptionsDefault:{errorClass:"errortext",errorElement:"font",showErrors:function(t,n){var i=[],o=[],r=e(this.currentForm);if(r.find('input[data-error="true"]').is(":checked")&&(o.message="Извините, но это закрытое мероприятие только для генеральных директоров и собственников бизнеса",o.element=r.find('input[data-error="true"]')[0],o.method="required",this.errorList.push(o)),r.find('input[type="email"]').length>0&&""!=r.find('input[type="email"]').val()){var s=r.find('input[type="email"]').val();0==/.+@.+\..+/i.test(s)&&(o.message="Некорректный email",o.element=r.find('input[type="email"]')[0],o.method="required",this.errorList.push(o))}void 0!==r.find('input[type="tel"]').val()&&r.find('input[type="tel"]').val().replace(/\D/g,"").length>=0&&(r.find('input[type="tel"]').val().replace(/\D/g,"").length<11&&(o.message="Введите номер телефона",o.element=r.find('input[type="tel"]')[0],o.method="required",this.errorList.push(o)));this.errorList.forEach((function(t){if(e(t.element)){var n=e(t.element).data("fieldname");n||(n=e(t.element).attr("name")),t.message=t.message.replace("#FIELD_NAME#",n),-1==t.message.indexOf("<br/>")&&-1==t.message.indexOf("<br>")&&(t.message=t.message+"<br/>"),i.push(t)}})),this.errorList=i;var a=e(this.currentForm).data("event_name_of_the_error"),l=e(this.currentForm).data("event_name_of_the_submit"),c="Y"==e(this.currentForm).attr("data-is-click-submit"),u=this.errorList.length>0,d=!1;c&&a&&u?d=!0:c&&l&&!u&&(d=!0,a=l),d&&(e(this.currentForm).attr("data-is-click-submit","N"),"function"==typeof GTMpushEvent&&GTMpushEvent(a),"function"==typeof yaCounter26016240&&yaCounter26016240.reachGoal(a)),this.defaultShowErrors()},highlight:function(t,n,i){e(t).addClass("form__input--invalid")},unhighlight:function(t,n,i){e(t).removeClass("form__input--invalid")},errorPlacement:function(t,n){var i=n.parents("form").find(".form__errors");i.length<1&&((i=e(document.createElement("div"))).addClass("form__errors"),i.prependTo(n.parents("form")));var o=i.find("p");o.length<1&&(o=e(document.createElement("p"))).prependTo(i),t.appendTo(o)}},validateOptionsNoMsg:{showErrors:function(e,t){this.defaultShowErrors()},highlight:function(t,n,i){e(t).addClass("form__input--invalid")},unhighlight:function(t,n,i){e(t).removeClass("form__input--invalid")},errorPlacement:function(e,t){}},onClickSubmitButton:function(t){e(this).closest("form").attr("data-is-click-submit","Y");var n=e(this).data("event_name_of_the_click");n&&("function"==typeof GTMpushEvent&&GTMpushEvent(n),"function"==typeof yaCounter26016240&&yaCounter26016240.reachGoal(n))},formValidate:function(){let t=this;this.element.find('form[data-validate="true"]').each((function(){e(this).validate(t.validateOptionsDefault)})),e(this.element.find('form[data-validate="true"]')).find('[type="submit"]').off("click").on("click",this.onClickSubmitButton)},maskInput:function(){this.element.find("input[type=tel]").focusin((function(){e(this).removeClass("form__input--invalid");var t=e(this).val().replace(/\D/g,"");e(this).val("+"+t),e(this).unmask()})),this.element.find("input[type=tel]").focusout((function(){var t=e(this).val().replace(/\D/g,"");t.length>0?e(this).val("+"+t):e(this).val(t),11===t.length&&e(this).mask("+9 (999) 999-99-99",{reverse:!0}),12===t.length&&e(this).mask("+99 (999) 999-99-99",{reverse:!0}),t.length>=13&&e(this).mask("+999 (999) 999-99-99",{reverse:!0})})),this.element.find("input[type=tel]").keydown((function(t){if(-1===t.key.search(/^[\d\s\-\+]+$/)&&"Backspace"!==t.key&&"F5"!==t.key)return!1;var n=e(this).val().replace(/\D/g,"");return!("Backspace"!==t.key&&"F5"!==t.key&&n.length>=13)&&void 0})),this.element.find("input[type=number]").keydown((function(t){-1!==e.inArray(t.keyCode,[46,8,9,27,13,110,190])||65===t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||t.keyCode>=35&&t.keyCode<=40||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()})),this.element.find("input.js-mask-inn").mask("9999999999?99")},scrollIt:function(t){var n=e(t);(n.length<=0||n.is(":hidden"))&&(n=e("[data-scrollid="+t+"]")),n.length&&e("html, body").animate({scrollTop:n.offset().top-60},750)},spotLang:function(){var e="ru";switch(new URI(window.location.href).segment(0)){case"en":case"pt":e="en";break;case"de":e="de";break;case"fr":e="fr";break;default:e="ru"}return e},runFancybox:function(){e.fancybox.defaults=e.extend({},e.fancybox.defaults,{padding:0,fitToView:!1}),this.element.find(".js-modal").click((function(){var t="N"==e(this).data("padding")?0:15,n="N"!=e(this),i=e(this).attr("href");e.fancybox({href:i,wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:t,closeBtn:n,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}}})})),this.element.find(".js-img-modal").fancybox({wrapCSS:"img-modal-wrapper",margin:e(window).width()>937?20:5,fitToView:!0,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}}}),this.element.find(".fancyfull--image").click((function(){var t=e(this).find("div").attr("href")?e(this).find("div").attr("href"):e(this).find("img").attr("src");if(e(window).width()<=768){var n=document.querySelectorAll(".pswp")[0],i={closeOnScroll:!1,closeOnVerticalDrag:!1,pinchToClose:!1},o=t,r=new Image;r.src=t,e(r).one("load",(function(){orgWidth=r.width,orgHeight=r.height;var t=[{src:o,w:orgWidth,h:orgHeight}],s=new PhotoSwipe(n,PhotoSwipeUI_Default,t,i);s.init(),s.listen("close",(function(){setTimeout((function(){e("#gallery").removeClass("pswp--open")}),2e3)}))}))}else e.fancybox({href:t,type:"image",closeBtn:!1,wrapCSS:"img-fancyfull-wrapper",margin:e(window).width()>937?20:5,fitToView:!0,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},afterShow:function(){e("img.fancybox-image").click((function(){e.fancybox.close()}))}})})),this.element.find(".js-clients-modal").on("click",(function(t){t.preventDefault();var n=new Array,i=0;if(n[i]={href:e(this).attr("href")},i++,e(this).data("img").length){for(var o in e(this).data("img"))n[i]={href:e(this).data("img")[o]},i++;e.fancybox(n,{wrapCSS:"img-modal-wrapper",margin:e(window).width()>937?20:5,fitToView:!0,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}}})}})),this.element.find(".js-modal-close").on("click",(function(){e.fancybox.close()})),this.element.find(".js-img-modal-fake").on("click",(function(t){t.preventDefault(),e(e(this).data("fake-to")).click()}))},runTooltipster:function(){this.element.find(".js-tooltip").tooltipster({side:["top"],theme:"tooltipster-light",contentAsHTML:!0,animation:"fade",offsetY:-20,interactive:!0}),this.element.find(".js-tooltip-bottom-yellow").tooltipster({side:["bottom"],theme:"tooltipster-yellow-bg",contentAsHTML:!0,animation:"fade",interactive:!0,maxWidth:680,functionPosition:function(e,t,n){return window.innerWidth>=980&&(n.coord.left=t.geo.origin.offset.left),n},trigger:"custom",triggerOpen:{mouseenter:!0,tap:!0},triggerClose:{mouseleave:!0,tap:!0}}),this.element.find(".js-tooltip-bottom").tooltipster({side:["bottom"],theme:"tooltipster-light tooltipster-light-border-radius",contentAsHTML:!0,animation:"fade",interactive:!0,maxWidth:310,trigger:"custom",triggerOpen:{mouseenter:!0,tap:!0},triggerClose:{mouseleave:!0,tap:!0}}),this.element.find(".js-tooltip-personal").tooltipster({theme:"tooltipster-light",contentCloning:!0,side:"bottom"}),window.innerWidth>768?this.element.find("u.tooltip").tooltipster({side:["top"],theme:"tooltipster-light",contentAsHTML:!0,animation:"fade",offsetY:-20,interactive:!0}):this.element.find("u.tooltip").tooltipster({side:["top"],theme:"tooltipster-light",contentAsHTML:!0,animation:"fade",offsetY:-20,interactive:!0,trigger:"click"})},runiCheck:function(){this.element.find(".js-icheckbox").iCheck({checkboxClass:"custom-checkbox",checkedCheckboxClass:"custom-checkbox--checked",cursor:!0})},formFileInit:function(){window.location.href.indexOf("/blog/")>-1&&e("a[href*='.doc'],a:not(.p-info)[href*='.pdf'],a[href*='.xls'],a[href*='.docx'],a[href*='.xlsx']").click((function(e){e.preventDefault()}))},formFileClick:function(){window.location.href.indexOf("/blog/")>-1&&(e("a[href*='.doc'],a:not(.p-info)[href*='.pdf'],a[href*='.xls'],a[href*='.docx'],a[href*='.xlsx']").addClass("js-get-form-file"),e("a[href*='.doc'],a:not(.p-info)[href*='.pdf'],a[href*='.xls'],a[href*='.docx'],a[href*='.xlsx']").attr("data-form","send_file"),e("a[href*='.doc'],a:not(.p-info)[href*='.pdf'],a[href*='.xls'],a[href*='.docx'],a[href*='.xlsx']").attr("data-id",e("#blodId").val()),e("a[href*='.doc'],a:not(.p-info)[href*='.pdf'],a[href*='.xls'],a[href*='.docx'],a[href*='.xlsx']").attr("data-file",e("#blodfileId").val()))},runCheckForm:function(){var t=e('form[name="SUBSCRIPTION_BLOG"]');t&&(t.find(".js-icheckbox.rubrics").on("ifClicked",(function(){t.find(".js-icheckbox.rubrics").iCheck("uncheck"),e(this).iCheck("check")})),t.find(".js-icheckbox.cities").on("ifClicked",(function(){t.find(".js-icheckbox.cities").iCheck("uncheck"),e(this).iCheck("check")})))},initCalltracking:function(){var e=this,t=this.element.find(".js-c-ringo"),n=t.find(".js-ringo-substitution").html();if(n&&"false"!=n){this.element.off("DOMSubtreeModified",".js-c-ringo"),window.CallTracking.number=window.CallTracking.number||{};var i=t.find(".js-ringo-substitution");window.CallTracking.number={unformatted:i.data("ringo--unformatted"),wcode:i.data("ringo--wcode"),ccode:i.data("ringo--ccode"),local:i.data("ringo--local")},window.CallTracking.ready=!0,this.runPhoneChange()}else this.element.on("DOMSubtreeModified",".js-c-ringo",(function(){e.initCalltracking()}))},runPhoneChange:function(){window.CallTracking.ready&&(this.element.find("a.js-site-phone-a").attr("title","+"+window.CallTracking.number.unformatted),this.element.find("a.js-site-phone-a").attr("href","tel:+"+window.CallTracking.number.unformatted),this.element.find(".js-site-phone-wcode").text(window.CallTracking.number.wcode),this.element.find(".js-site-phone-ccode").text(window.CallTracking.number.ccode),this.element.find(".js-site-phone-local").text(window.CallTracking.number.local))},initWidgets:function(){this.installController(".js-logos-slider","appWidgetLogosSlider"),this.installController(".js-show-content","appWidgetShowContent"),this.installController(".js-main-nav","appWidgetMainNav"),this.installController(".js-tabs","appWidgetTabList"),this.installController(".js-fancy-modal-tabs","appWidgetFancyTabs")}});e((function(){window.application=new t("body"),window.application.bootstrap()}))}(jQuery),document.addEventListener("DOMContentLoaded",(function(){var e="right";window.innerWidth<=480&&(e="bottom"),$(document).find(".js-tooltip-accounting-new").tooltipster({side:[e],theme:"tooltipster-light-new",contentAsHTML:!0,animation:"fade",interactive:!0,maxWidth:750,functionPosition:function(t,n,i){let o=$(".js-tooltipster-accounting-new-container");return void 0!==o.offset&&"right"===e&&(o.offset().top-$(window).scrollTop()>-100&&(i.coord.top=o.offset().top-$(window).scrollTop()+158),window.innerWidth<=600&&(i.coord.left-=100),i.size.width=window.innerWidth-i.coord.left-20),i},trigger:"custom",triggerOpen:{click:!0,tap:!0},triggerClose:{click:!0,tap:!0}})})),$((function(){$(".js-events").on("click tap",".js-event-get-offer-in-account",(function(){return"function"==typeof GTMpushEvent&&GTMpushEvent("Start_quiz"),"function"==typeof yaCounter26016240&&yaCounter26016240.reachGoal("Start_quiz"),!0})),$(".js-events").on("click tap",".js-event-show-tooltip",(function(){return"function"==typeof GTMpushEvent&&GTMpushEvent("Start_quiz_need_arguments"),"function"==typeof yaCounter26016240&&yaCounter26016240.reachGoal("Start_quiz_need_arguments"),!0}))})),$(document).ready((function(){$("[data-popup-beige]").magnificPopup({type:"inline"}),$(document).on("click",".item-accordion .item-accordion__heading",(function(){$(".item-accordion__heading.open").removeClass("open"),$(this).addClass("open"),$(".item-accordion__heading:not(.open)").next(".item-accordion__body").addClass("block-hidden"),$(".item-accordion__heading:not(.open)").find("h3").removeClass("item-accordion__title-mobile"),$(".item-accordion__heading:not(.open)").find(".arrow").removeClass("arrow--rotate"),$(".item-accordion__heading.open").next(".item-accordion__body").toggleClass("block-hidden"),$(".item-accordion__heading.open").find("h3").toggleClass("item-accordion__title-mobile"),$(".item-accordion__heading.open").find(".arrow").toggleClass("arrow--rotate")})),$("[data-tooltip_1]").hover((function(){$(".tooltip-one-content").fadeToggle(200)})),$("[data-tooltip_2]").hover((function(){$(".tooltip-two-content").fadeToggle(200)})),$("[data-tooltip_3]").hover((function(){$(".tooltip-three-content").fadeToggle(200)})),$(document).on("click",".tab",(function(e){var t=$(this),n=t.index();t.closest(".cabinet-features__content-tabs").find(".tab").removeClass("tab-active"),t.addClass("tab-active"),t.closest(".cabinet-features__inner").find(".cabinet-features__content").slideUp(1e3).eq(n).slideDown(1e3)}));var e=void 0;function t(){$("[data-section=1],\n                [data-section=4],\n                [data-section=9],\n                [data-section=10],\n                [data-section=11],\n                [data-section=14],\n                [data-section=15],\n                [data-section=18],\n                [data-section=20],\n                [data-section=21],\n                [data-section=22],\n                [data-section=23]").show(),$("[data-section=2],\n                [data-section=3],\n                [data-section=5],\n                [data-section=5-1],\n                [data-section=6],\n                [data-section=7],\n                [data-section=11-1],\n                [data-section=17],\n                [data-section=19],\n                [data-section=21-1],\n                [data-section=21-2],\n                [data-section=22-1]").hide()}$(window).resize((function(){var t;(t=$(window).width())<768&&null==e?($(".cabinet-features__content-tabs").each((function(t){e=new Swiper($(".cabinet-features__content-tabs .swiper-container")[t],{slidesPerView:"auto",spaceBetween:30,freeMode:!0,navigation:{nextEl:$(".tabs-btn-next")[t],prevEl:$(".tabs-btn-prev")[t]}})})),console.log("initialized")):t>767&&null!=e&&(e.destroy(),e=void 0,console.log("destroyed"))})),$(".reviews .swiper-container").each((function(e){new Swiper($(".reviews .swiper-container")[e],{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:30,autoHeight:!0,loop:!0,pagination:{el:$(".reviews-pagination")[e],clickable:!0},navigation:{nextEl:$(".reviews-btn-next")[e],prevEl:$(".reviews-btn-prev")[e]}})})),$(".selection__button").click((function(e){e.preventDefault(),$(this).closest(".selection__buttons").children().removeClass("selected"),$(this).addClass("selected")})),$(document).on("click",".tabs .tabs__btn",(function(e){e.preventDefault();var t=$(this),n=t.index();t.closest(".tabs").find(".tabs__btn").removeClass("selected"),t.addClass("selected"),t.closest(".tabs").find(".tabs__content").removeClass("active").eq(n).addClass("active")})),$(".why-we__tab-content .swiper-container").each((function(e){new Swiper($(".why-we__tab-content .swiper-container")[e],{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:30,autoHeight:!0,loop:!0,navigation:{nextEl:$(".swiper-buttonCard-next")[e],prevEl:$(".swiper-buttonCard-prev")[e]}})})),$(".why-we__tab").click("button:not(.active-tab)",(function(){$(this).addClass("active-tab").siblings().removeClass("active-tab").closest(".why-we__inner").find(".why-we__tab-content").removeClass("content-active").eq($(this).index()).addClass("content-active")})),$(document).on("mouseenter mouseleave","[data-feature-item]",(function(){let e=$(this),t=$("[data-feature-item]");e.toggleClass("features-hover").find(".arrow-green").toggleClass("arrow-green--show"),t.not($(this)).each((function(){t.toggleClass("features-box-item-off")})),e.removeClass("features-box-item-off")})),$(document).on("mouseenter mouseleave","#feature-item-1",(function(e){$(".data-row-img-1 div:eq(0), .data-row-img-1 div:eq(1)").toggleClass("feature-item-img-active"),$(".data-row-img-2 div:eq(2)").toggleClass("feature-item-img-active"),"mouseenter"===e.type&&setIndustryGtmEvents(),$(".data-row-img-1 div:eq(2), .data-row-img-1 div:eq(3)").toggleClass("feature-item-img-off"),$(".data-row-img-2 div:eq(0), .data-row-img-2 div:eq(1), .data-row-img-2 div:eq(3)").toggleClass("feature-item-img-off")})),$(document).on("mouseenter mouseleave","#feature-item-2",(function(e){$(".data-row-img-1 div:eq(1)").toggleClass("feature-item-img-active"),"mouseenter"===e.type&&setIndustryGtmEvents(),$(".data-row-img-1 div:eq(0), .data-row-img-1 div:eq(2), .data-row-img-1 div:eq(3)").toggleClass("feature-item-img-off"),$(".data-row-img-2 div:eq(0), .data-row-img-2 div:eq(1), .data-row-img-2 div:eq(2), .data-row-img-2 div:eq(3)").toggleClass("feature-item-img-off")})),$(document).on("mouseenter mouseleave","#feature-item-3",(function(e){$(".data-row-img-1 div:eq(0), .data-row-img-1 div:eq(1), .data-row-img-1 div:eq(2), .data-row-img-1 div:eq(3)").toggleClass("feature-item-img-active"),$(".data-row-img-2 div:eq(1), .data-row-img-2 div:eq(2), .data-row-img-2 div:eq(3)").toggleClass("feature-item-img-active"),"mouseenter"===e.type&&setIndustryGtmEvents(),$(".data-row-img-2 div:eq(0)").toggleClass("feature-item-img-off")})),$(document).on("mouseenter mouseleave","#feature-item-4",(function(e){$(".data-row-img-1 div:eq(2), .data-row-img-1 div:eq(3)").toggleClass("feature-item-img-active"),$(".data-row-img-2 div:eq(3)").toggleClass("feature-item-img-active"),"mouseenter"===e.type&&setIndustryGtmEvents(),$(".data-row-img-1 div:eq(0), .data-row-img-1 div:eq(1)").toggleClass("feature-item-img-off"),$(".data-row-img-2 div:eq(0), .data-row-img-2 div:eq(1), .data-row-img-2 div:eq(2)").toggleClass("feature-item-img-off")})),$(document).on("mouseenter mouseleave","#feature-item-5",(function(e){$(".data-row-img-1 div:eq(0), .data-row-img-1 div:eq(1), .data-row-img-1 div:eq(2), .data-row-img-1 div:eq(3)").toggleClass("feature-item-img-active"),$(".data-row-img-2 div:eq(0), .data-row-img-2 div:eq(1), .data-row-img-2 div:eq(2), .data-row-img-2 div:eq(3)").toggleClass("feature-item-img-active"),"mouseenter"===e.type&&setIndustryGtmEvents()})),$(document).on("mouseenter mouseleave","#feature-item-6",(function(e){$(".data-row-img-1 div:eq(0), .data-row-img-1 div:eq(1), .data-row-img-1 div:eq(2), .data-row-img-1 div:eq(3)").toggleClass("feature-item-img-active"),$(".data-row-img-2 div:eq(0), .data-row-img-2 div:eq(1), .data-row-img-2 div:eq(2), .data-row-img-2 div:eq(3)").toggleClass("feature-item-img-active"),"mouseenter"===e.type&&setIndustryGtmEvents()})),$("[data-check-question]").on("change",(function(){let e=!1;$("[data-check-question]").each((function(){if($(this).prop("checked"))return e=!0,!1})),e?function(){let e=":checked";t(),$("#accountant-quit").is(e)&&$("[data-section=2]").show();$("#accounting-fails").is(e)&&($("[data-section=5]").show(),$("[data-section=5-1]").show());$("#сost-reduction").is(e)&&$("[data-section=3]").show();$("#no-staff").is(e)&&$("[data-section=6]").show();$("#independent-accounting").is(e)&&$("[data-section=7]").show();$("#choose-contractor").is(e)&&($("[data-section=4]").hide(),$("[data-section=9]").hide(),$("[data-section=11]").hide(),$("[data-section=11-1]").show(),$("[data-section=14]").hide(),$("[data-section=20]").hide(),$("[data-section=21]").hide(),$("[data-content-tabs]").removeClass("active"),$("[data-tabs-btn]").removeClass("selected"),$("[data-content-tabs=3]").addClass("active"),$("[data-tabs-btn=3]").addClass("selected"));$("#accountant-quit").is(e)&&$("#no-staff").is(e)&&$("[data-section=2],\n                    [data-section=6]").show();$("#сost-reduction").is(e)&&$("#accounting-fails").is(e)&&$("[data-section=3],\n                    [data-section=5],\n                    [data-section=6]").show();$("#choose-contractor").is(e)&&$("#accounting-fails").is(e)&&($("[data-section=3],\n                    [data-section=5],\n                    [data-section=6]").show(),$("[data-section=9]").hide())}():t()})),t(),$(".why-we__tab").click((function(){$("[data-regular-accounting]").hasClass("content-active")&&$("[data-section=17]").show()})),$(document).on("scroll",(function(){var e=$("[data-block-mob-feedback]").offset().top-=750,t=$("[data-block-mob-feedback]").height(),n=$(document).scrollTop();n>e&&n<e+t+9999?$(".fixed-btn-mobile").hide():$(".fixed-btn-mobile").show()})),$(".js-get-form.fixed-btn-mobile").on("click",(function(){$("body").addClass("no-scroll"),$(".fancybox-overlay").on("click",(function(e){"fancybox-overlay fancybox-overlay-fixed"===e.target.className&&$("body").removeClass("no-scroll")}))})),$(document).on("click",".fancybox-item.fancybox-close",(function(){$("body").removeClass("no-scroll")}))})),$(document).ready((function(){$((function(){$(".useful-features__tabs").on("click","button.useful-features__tab:not(.active)",(function(){$(this).addClass("active").siblings().removeClass("active").closest(".useful-features__content").find(".useful-features__body").removeClass("active").eq($(this).index()).addClass("active")}))})),$((function(){$(".useful-features__body-btn--left").click((function(){$("[data-window-1]").removeClass("active"),$("[data-window-2]").addClass("active")})),$(".useful-features__body-btn--right").click((function(){$("[data-window-2]").removeClass("active"),$("[data-window-1]").addClass("active")}))})),$((function(){$(".useful-features__body-btn").click((function(){$(this).addClass("active"),$(".useful-features__body-btn").not(this).removeClass("active")}))})),$((function(){$(".useful-features-mobile__head").click((function(){var e=$(this);e.offset().top;$(this).toggleClass("active"),$(this).next().toggleClass("active"),$(".useful-features-mobile__head").not(this).removeClass("active"),$(".useful-features-mobile__head").not(this).parent().find(".useful-features-mobile__body").removeClass("active"),setTimeout((function(){var t=e.offset().top-50;$("html, body").animate({scrollTop:t+"px"},500)}),100)}))}))})),function(e){App.Payment=App.Payment||{},App.Payment.FormAjax=can.Control.extend({pluginName:"appPaymentFormAjax",defaults:{gateway:"/ajax/forms/payment/"}},{init:function(){this.form=this.element.find("form"),this.formName=this.form.attr("name"),this.gateway=this.form.attr("action"),this.gtmCategory=this.form.attr("gtmcategory"),this.formFio=this.form.find('input[data-fieldtype="FORM_NAME"]'),this.formInn=this.form.find('input[data-fieldtype="FORM_INN"]'),this.formPhone=this.form.find('input[data-fieldtype="FORM_PHONE"]'),this.formEmail=this.form.find('input[data-fieldtype="FORM_EMAIL"]'),"function"==typeof GTMpushEventLoadForm&&GTMpushEventLoadForm(this.formName),this.form.data("validate")&&!this.form.data("validate-nomsg")?this.form.validate(window.application.validateOptionsDefault):this.form.validate(window.application.validateOptionsNoMsg),this.form.find('input[data-fieldtype="FORM_IP"]').val(Geo.ip),this.formTouchEvent(),this.on(this.form,"submit","submitForm"),this.formFio&&(this.on(this.formFio,"change","changeName"),this.onceNameSend=!0),this.formInn&&(this.on(this.formInn,"change","changeInn"),this.onceInnSend=!0),this.formPhone&&(this.on(this.formPhone,"change","changePhone"),this.oncePhoneSend=!0),this.formEmail&&(this.on(this.formEmail,"change","changeEmail"),this.onceEmailSend=!0)},changeName:function(e,t){this.form.data("validate")&&this.onceNameSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_NAME"),this.onceNameSend=!1)},changeInn:function(e,t){this.form.data("validate")&&this.onceInnSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_INN"),this.onceInnSend=!1)},changePhone:function(e,t){this.form.data("validate")&&this.oncePhoneSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_PHONE"),this.oncePhoneSend=!1)},changeEmail:function(e,t){this.form.data("validate")&&this.onceEmailSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_EMAIL"),this.onceEmailSend=!1)},formTouchEvent:function(){var e=this,t=this.form.find(":input");function n(){e.formTouch||(e.formTouch=!0,t.off("focus",n),t.off("change",n),"function"==typeof GTMpushEventTouchForm&&GTMpushEventTouchForm(e.formName))}e.formTouch=!1,t.on("focus",n),t.on("change",n)},submitForm:function(t,n){if(n.preventDefault(),this.form.data("validate")&&!this.form.valid())return"function"==typeof GTMpushEventErrorForm&&GTMpushEventErrorForm(this.formName,this.gtmCategory),!1;this.form.startWaiting(),e.post(this.gateway,this.form.serialize(),(function(){}),"json").done(this.proxy("doneSubmit")).fail(this.proxy("failSubmit"))},doneSubmit:function(t){"function"==typeof GTMpushEventSendForm&&GTMpushEventSendForm(this.formName,this.gtmCategory),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:e(t.html)})},failSubmit:function(t){"function"==typeof GTMpushEventErrorForm&&GTMpushEventErrorForm(this.formName,this.gtmCategory),this.element.html(e(t.responseText).html())}})}(jQuery),function(e){App.Payment=App.Payment||{},App.Payment.Input=can.Control.extend({pluginName:"appPaymentInput",defaults:{gateway:"/ajax/forms/payment/"}},{init:function(){this.on(this.element,"submit","submitForm")},submitForm:function(t,n){if(n.preventDefault(),this.element.data("validate")&&!this.element.valid())return!1;this.element.startWaiting();var i={action:"getForm",summ:this.element.find("#payment-sum").val(),service:this.element.find("#payment-service").val()};e.post(this.options.gateway,i,(function(){})).done(this.proxy("doneSubmit")).fail(this.proxy("failSubmit"))},failSubmit:function(e){this.element.endWaiting(),console.error(e)},doneSubmit:function(t){this.element.endWaiting(),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},beforeShow:function(){window.application.installController(".js-form-ajax-payment","appPaymentFormAjax")},content:e(t)})}})}(jQuery),function(e){App.Payment=App.Payment||{},App.Payment.ZeroReportInput=can.Control.extend({pluginName:"appPaymentZeroReportInput",defaults:{gateway:"/ajax/forms/payment/"}},{init:function(){this.on(this.element,"submit","submitForm")},submitForm:function(t,n){if(n.preventDefault(),this.element.data("validate")&&!this.element.valid())return!1;this.element.startWaiting();var i=App.ZeroWebFormValues;e.post(this.options.gateway,i,(function(){})).done(this.proxy("doneSubmit")).fail(this.proxy("failSubmit"))},failSubmit:function(e){this.element.endWaiting(),console.error(e)},doneSubmit:function(t){this.element.endWaiting(),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},beforeShow:function(){window.application.installController(".js-form-ajax-payment","appPaymentFormAjax")},content:e(t)})}})}(jQuery),function(e){App.Payment=App.Payment||{},App.Payment.Input=can.Control.extend({pluginName:"appPaymentFormZeroType",defaults:{gateway:"/ajax/forms/contact_us_zero_order/"}},{init:function(){this.on(this.element,"submit","submitForm")},submitForm:function(e,t){t.preventDefault(),this.element.startWaiting(),console.log(App.ZeroWebFormValues)},failSubmit:function(e){this.element.endWaiting(),console.error(e)},doneSubmit:function(t){this.element.endWaiting(),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},beforeShow:function(){window.application.installController(".js-form-ajax-payment","appPaymentFormAjax")},content:e(t)})}})}(jQuery),jQuery,App.Payment=App.Payment||{},App.Payment.PropsSet=can.Control.extend({pluginName:"appPaymentFormZeroPropsSet"},{init:function(){if(this.actionMethod=this.element.data("prop-act"),this.arProps=!!this.element.data("prop")&&this.element.data("prop").split("|"),this.arVals=!!this.element.data("val")&&this.element.data("val").split("|"),this.arProps&&this.arVals)switch(this.actionMethod){case"click":this.on(this.element,"click","setByClick")}},setByClick:function(e,t){var n=this;this.arProps.forEach((function(e,t){void 0!==n.arVals[t]&&(App.ZeroWebFormValues[e]=n.arVals[t],Cookies.set("ZeroWebFormValues_"+e,n.arVals[t]))}))}}),$(document).ready((function(){$(".fancyfull").each((function(){$('<div class="fancyfull--image"></div>').insertBefore($(this)).append($(this).remove())})),void 0!==$(".js-finance-slider")&&(financeOwl=$(".js-finance-slider").owlCarousel({items:1,loop:!0,nav:!0,dots:!0,dotsSpeed:800,autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,autoHeight:!1}),financeOwl.on("changed.owl.carousel",(function(e){financeOwl.trigger("stop.owl.autoplay"),financeOwl.trigger("play.owl.autoplay"),$(".js-finance-slider").find("img.lzy_img").each((function(){$(this).attr("src",$(this).data("src")),$(this).removeClass("lzy_img")}))})),financeOwl.on("initialized.owl.carousel",(function(e){$(".js-finance-slider").find("img.lzy_img").each((function(){$(this).attr("src",$(this).data("src")),$(this).removeClass("lzy_img")}))}))),void 0!==$(".js-accordion__item")&&"#big-business"==window.location.hash&&($(".js-accordion__item").each((function(){$(this).removeClass("open")})),$(".js-accordion__description").each((function(){$(this).removeClass("open"),$(this).hide()})),$('.js-accordion__item[data-hash="big-business"]').each((function(){$(this).addClass("open")})),$('.js-accordion__description[data-hash="big-business"]').each((function(){$(this).addClass("open"),$(this).show()}))),$(document).on("click",".js-finance--block-version_open_mobile",(function(){var e=$(this).parent("div"),t=e.height(),n=e.css("height","auto").height();e.hasClass("open")?(e.height(t).animate({height:74},1e3),e.removeClass("open")):(e.height(t).animate({height:n},1e3,(function(){e.height("auto")})),e.addClass("open"))})),$(document).on("click",".js-img-accounting-modal",(function(){if($(window).width()<=768){var e=document.querySelectorAll(".pswp")[0],t={closeOnScroll:!1,closeOnVerticalDrag:!1,pinchToClose:!1},n=$(this).attr("href"),i=new Image;i.src=$(this).attr("href"),$(i).one("load",(function(){orgWidth=i.width,orgHeight=i.height;var o=[{src:n,w:orgWidth,h:orgHeight}];new PhotoSwipe(e,PhotoSwipeUI_Default,o,t).init()}))}})),$(document).on("click",'a[href$="#big-business"]',(function(){"/finance-outsourcing/"==window.location.pathname&&(window.location.hash="#big-business",document.location.reload())}))})),document.addEventListener("DOMContentLoaded",(function(){$(document).find(".js-quiz-help").tooltipster({side:["bottom"],theme:"tooltipster-light-new",contentAsHTML:!0,animation:"fade",interactive:!0,maxWidth:750}),$(document).find(".js-quiz-help-mob").tooltipster({side:["bottom"],theme:"tooltipster-light-new",contentAsHTML:!0,animation:"fade",interactive:!0,maxWidth:400,trigger:"custom",triggerOpen:{click:!0,tap:!0},triggerClose:{click:!0,tap:!0}}),$(document).find(".js-quiz-ask").tooltipster({side:["left"],theme:"tooltipster-light-new",contentAsHTML:!0,animation:"fade",interactive:!0,maxWidth:300,functionPosition:function(e,t,n){return void 0!==$(".js-quiz-ask").offset&&(n.coord.top=n.coord.top+70,window.innerWidth<=600&&(n.coord.left-=100),n.size.width=window.innerWidth-n.coord.left-20),n},trigger:"custom",triggerOpen:{click:!0,tap:!0},triggerClose:{click:!0,tap:!0}}),$(document).on("click",".js-quiz-step-button",(function(){let e=$(this).data("step");if(e){localStorage.setItem("quiz_step",e),$(".quiz-container").hide(),$(".quiz-cnt-step-"+e).show();let t=$(".quiz-cnt-step-"+e).offset().top-80;$("html").animate({scrollTop:t},600)}})),$(document).on("click",".js-quiz-event-send",(function(){let e=$(this).data("event");e&&"function"==typeof GTMpushEvent&&GTMpushEvent(e)})),$(document).on("change",'input[type="checkbox"], input[type="radio"]',(function(){if($(this).prop("checked")){if($(this).hasClass("js-quiz-check-event-send")){let e=$(this).data("event");e&&"function"==typeof GTMpushEvent&&GTMpushEvent(e)}$(this).parent(".quiz-radio-list").find(".quiz-radio-sublist").each((function(){$(this).hide()})),$(this).data("sublist")&&$($(this).data("sublist")).show()}else $($(this).data("sublist")).hide();$(this).hasClass("js-quiz-btn")&&($(".js-quiz-btn:checked").length>0?($(".quiz-btn-container").removeClass("inactive"),$(".quiz-btn-submit").attr("disabled",!1)):($(".quiz-btn-container").addClass("inactive"),$(".quiz-btn-submit").attr("disabled",!0)))})),$(".quiz-radio-list").find("input").each((function(){$(this).data("sublist")&&($(this).prop("checked")?$($(this).data("sublist")).show():$($(this).data("sublist")).hide())})),$(".quiz-check-list").find("input").each((function(){$(this).data("sublist")&&($(this).prop("checked")?$($(this).data("sublist")).show():$($(this).data("sublist")).hide())})),$(document).on("scroll",(function(){if($(window).width()<"600"){var e=$("#js_quiz_cnt").height();$(".quiz-button").hasClass("quiz-button-fixed")&&(e+=96),$("#js_quiz_cnt").offset().top-$(window).scrollTop()<=0&&$("#js_quiz_cnt").offset().top+e-$(window).scrollTop()>750?$(".quiz-button").addClass("quiz-button-fixed"):$(".quiz-button").removeClass("quiz-button-fixed")}})),$(document).on("click tap",".quiz-check, .quiz-radio",(function(e){if($(e.target).hasClass("js-quiz-help"))return!1})),Modernizr.touch||$(".quiz-check").addClass("quiz-check-no-touch")})),function(e){App.Subscribe=App.Subscribe||{},App.Subscribe.Popup=can.Control.extend({pluginName:"appSubscribePopup",defaults:{gateway:"/ajax/forms/subscribe/"}},{init:function(){var e=this;Cookies.get("WA1C_USER_ADMIN")||Cookies.get("WA1C_SUBSCR_EMAIL")||Cookies.get("SubscribePopupShown")||setTimeout((function(){e.showForm()}),9e4)},showForm:function(){e.fancybox.open({href:this.options.gateway},{type:"ajax",wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},beforeShow:function(){window.application.installController(".js-form-ajax","appWidgetFormAjax");Cookies.set("SubscribePopupShown",1,{expires:1/24})},afterShow:function(){window.application.installController('form[name="POPUP_SUBSCRIPTION"]',"appWidgetCheckSubscribeForm")}})}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.Accordion=can.Control.extend({pluginName:"appWidgetAccordion",defaults:{}},{init:function(){this.btn=this.element.find(".js-accordion__item"),this.hiddenInfo=this.element.find(".js-accordion__description"),this.element.find(".js-accordion__description").filter(".open").attr("style","display: block;"),this.on(this.btn,"click touchstart","showHideDescription")},showHideDescription:function(t,n){n.preventDefault(),this.element.hasClass("js-accordion--each-item-can-open")&&(t.hasClass("open")?(t.toggleClass("open"),t.next(this.hiddenInfo).slideUp().removeClass("open")):(t.toggleClass("open"),t.next(this.hiddenInfo).slideDown().addClass("open"))),this.element.hasClass("js-accordion--each-item-can-open")||(t.hasClass("open")?t.next(this.hiddenInfo).slideUp(400,(function(){t.removeClass("open"),t.next(this.hiddenInfo).removeClass("open")})):(this.btn.removeClass("open"),t.addClass("open"),t.next().hasClass("open")||(this.element.find(this.hiddenInfo).slideUp(400,(function(){e(this).removeClass("open")})),t.next(this.hiddenInfo).slideDown().addClass("open"))))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.CostCalculator=can.Control.extend({pluginName:"appWidgetAccountingCalculator",defaults:{}},{init:function(){this.slider=this.element.find(".slider"),this.sliderElem=this.element.find(".slider__elem"),this.sliderResult=this.element.find(".slider__header-value"),this.sliderProfit=this.element.find(".slider-profit .slider__elem"),this.sliderEmployeers=this.element.find(".slider-employeers .slider__elem"),this.sliderProfitResult=this.element.find(".slider-profit .slider__header-value"),this.sliderEmployeersResult=this.element.find(".slider-employeers .slider__header-value"),this.taxSystem=this.element.find(".selected[data-tax]"),this.timeout=this.element.data("timeout"),this.gtmCategory=this.element.data("gtmcategory")?this.element.data("gtmcategory"):"homepage",this.page=!!this.element.data("page")&&this.element.data("page"),this.clearPush=!0,this.on(this.element,"mouseleave","setPush"),this.events=[],this.prices=["5 000 ₽ ‒ 7 000 ₽","22 000 ₽ ‒ 42 000 ₽","45 000 ₽ ‒ 80 000 ₽","80 000 ₽ ‒ 128 000 ₽","67 000 ₽ ‒ 115 000 ₽","150 000 ₽ ‒ 220 000 ₽","220 000 ₽ ‒ 350 000 ₽","350 000 ₽ ‒ 500 000 ₽","от 500 000 ₽","‒","от 20 000 ₽","30 000 ₽ ‒ 55 000 ₽","65 000 ₽ ‒ 100 000 ₽","90 000 ₽ ‒ 150 000 ₽","108 000 ₽ ‒ 156 000 ₽","179 000 ₽ ‒ 227 000 ₽","291 000 ₽ ‒ 339 000 ₽","163 000 ₽ ‒ 233 000 ₽","191 000 ₽ ‒ 261 000 ₽","262 000 ₽ ‒ 332 000 ₽","374 000 ₽ ‒ 444 000 ₽","233 000 ₽ ‒ 363 000 ₽","261 000 ₽ ‒ 391 000 ₽","332 000 ₽ ‒ 462 000 ₽","444 000 ₽ ‒ 574 000 ₽","363 000 ₽ ‒ 513 000 ₽","391 000 ₽ ‒ 541 000 ₽","462 000 ₽ ‒ 612 000 ₽","574 000 ₽ ‒ 724 000 ₽","103 000 ₽ ‒ 163 000 ₽","131 000 ₽ ‒ 191 000 ₽","202 000 ₽ ‒ 262 000 ₽","314 000 ₽ ‒ 374 000 ₽","от 513 000 ₽","от 541 000 ₽","от 612 000 ₽","от 724 000 ₽"],this.sliderProfitElem=this.element.find(".slider-profit .slider__elem"),this.sliderEmplElem=this.element.find(".slider-employeers .slider__elem"),this.finalPriceElem=this.element.find(".callback__header-value"),this.selectionTaxButton=this.element.find(".selection__button"),this.onceProfit=!0,this.onceEmployeers=!0;var e=this;this.sliderProfit.slider({animate:"slow",range:"min",value:15,min:0,max:150,slide:function(t,n){e.calcProfitResult(n.value),e.submitForm(!0),e.onceProfit&&(e.pushMomentEvents(["Income"],e.gtmCategory),e.onceProfit=!1)}}),this.sliderEmployeers.slider({animate:"slow",range:"min",value:5,min:0,max:150,slide:function(t,n){e.calcEmplResult(n.value),e.submitForm(!0),e.onceEmployeers&&(e.pushMomentEvents(["Employee"],e.gtmCategory),e.onceEmployeers=!1)}}),this.on(this.selectionTaxButton,"click","selectTax"),this.submitForm(!1)},calcProfitResult:function(e){switch(this.sliderResult=this.element.find(".slider-profit .slider__header-value"),!0){case e<10:this.printResult("до 10 млн");break;case e>=10&&e<=29:this.printResult("до 30 млн");break;case e>=30&&e<=49:this.printResult("до 80 млн");break;case e>=50&&e<=70:this.printResult("до 120 млн");break;case e>=71&&e<=93:this.printResult("до 400 млн");break;case e>=94&&e<=115:this.printResult("до 800 млн");break;case e>=116&&e<=138:this.printResult("до 2 млрд");break;case e>=139:this.printResult("более 2 млрд");break;default:this.printResult("индивидуально")}},calcEmplResult:function(e){switch(this.sliderResult=this.element.find(".slider-employeers .slider__header-value"),!0){case e<10:this.printResult("до 30 чел");break;case e>=10&&e<=74:this.printResult("до 100 чел");break;case e>=75&&e<=139:this.printResult("до 500 чел");break;case e>=140:this.printResult("более 500 чел");break;default:this.printResult("индивидуально")}},printResult:function(e){this.sliderResult.html(e)},submitForm:function(t){if(taxSystem=this.element.find(".selected[data-tax]").data("tax"),uiValue=this.sliderProfitElem.slider("value"),uiValue2=this.sliderEmplElem.slider("value"),this.compare(uiValue,uiValue2,taxSystem),t){switch("accounting"==this.page&&(uiValue<=115?(e("[data-section=11]").show(),e("[data-section=11-1]").hide(),e("[data-section=14]").show(),e("[data-content-tabs]").removeClass("active"),e("[data-tabs-btn]").removeClass("selected"),e("[data-section=18]").hide(),e("[data-section=21]").show(),e("[data-section=21-2]").hide(),e("[data-section=19]").hide(),e("[data-section=17]").show(),e("[data-section=18]").show(),e("[data-section=21]").hide(),e("[data-section=21-1]").show(),e("[data-section=22]").hide(),e("[data-section=22-1]").show(),e("[data-btn-innovations=3]").addClass("selected"),e("[data-content-innovations=3]").addClass("active"),e("[data-btn-innovations=1]").removeClass("selected"),e("[data-btn-innovations=2]").removeClass("selected"),e("[data-content-innovations=1]").removeClass("active"),e("[data-content-innovations=2]").removeClass("active"),e("[data-content-tabs=2]").addClass("active"),e("[data-tabs-btn=2]").addClass("selected"),e("[data-content-tabs=1], [data-content-tabs=3]").removeClass("active"),e("[data-tabs-btn=1], [data-tabs-btn=3]").removeClass("selected"),uiValue2>=75&&(e("[data-section=19]").hide(),e("[data-section=17]").hide(),e("[data-section=18]").hide(),e("[data-section=20]").hide(),e("[data-section=22-1]").hide(),e("[data-section=21-1]").hide(),e("[data-section=21]").show(),e("[data-section=22]").show(),e("[data-content-tabs]").removeClass("active"),e("[data-tabs-btn]").removeClass("selected"),e("[data-section=11]").hide(),e("[data-section=11-1]").show(),e("[data-section=14]").hide(),e("[data-content-tabs=3]").addClass("active"),e("[data-tabs-btn=3]").addClass("selected"),e("[data-section=18]").show(),e("[data-section=21]").hide(),e("[data-section=21-2]").show())):uiValue>=116&&(e("[data-section=19]").hide(),e("[data-section=17]").hide(),e("[data-section=18]").hide(),e("[data-section=20]").hide(),e("[data-section=22-1]").hide(),e("[data-section=21-1]").hide(),e("[data-section=21]").show(),e("[data-section=22]").show(),e("[data-content-tabs]").removeClass("active"),e("[data-tabs-btn]").removeClass("selected"),e("[data-section=11]").hide(),e("[data-section=11-1]").show(),e("[data-section=14]").hide(),e("[data-content-tabs=3]").addClass("active"),e("[data-tabs-btn=3]").addClass("selected"),e("[data-section=18]").show(),e("[data-section=21]").hide(),e("[data-section=21-2]").show(),e("[data-btn-innovations=1]").addClass("selected"),e("[data-content-innovations=1]").addClass("active"),e("[data-btn-innovations=3]").removeClass("selected"),e("[data-btn-innovations=2]").removeClass("selected"),e("[data-content-innovations=3]").removeClass("active"),e("[data-content-innovations=2]").removeClass("active"),uiValue2>=75&&e("[data-section=19]").show()),uiValue2>=75?(e("[data-section=17]").hide(),e("[data-section=18]").hide(),e("[data-section=19]").show(),e("[data-section=22-1]").hide(),e("[data-section=21-1]").hide(),e("[data-section=21]").show(),e("[data-section=22]").show(),e("[data-content-tabs]").removeClass("active"),e("[data-tabs-btn]").removeClass("selected"),e("[data-section=11]").hide(),e("[data-section=11-1]").show(),e("[data-section=14]").hide(),e("[data-content-tabs=3]").addClass("active"),e("[data-tabs-btn=3]").addClass("selected"),e("[data-section=18]").show(),e("[data-section=21]").hide(),e("[data-section=21-2]").show()):(e("[data-content-tabs]").removeClass("active"),e("[data-tabs-btn]").removeClass("selected"),e("[data-content-tabs=3]").addClass("active"),e("[data-tabs-btn=3]").addClass("selected")),"simplified"==taxSystem&&(e("[data-section=11]").show(),e("[data-section=11-1]").hide(),e("[data-section=14]").show(),e("[data-content-tabs]").removeClass("active"),e("[data-tabs-btn]").removeClass("selected"),e("[data-section=18]").hide(),e("[data-section=21]").show(),e("[data-section=21-2]").hide(),e("[data-section=19]").hide(),e("[data-section=17]").show(),e("[data-section=18]").show(),e("[data-section=21]").hide(),e("[data-section=21-1]").show(),e("[data-section=22]").hide(),e("[data-section=22-1]").show(),e("[data-content-tabs=2]").addClass("active"),e("[data-tabs-btn=2]").addClass("selected"),e("[data-btn-innovations=3]").addClass("selected"),e("[data-btn-innovations=1], [data-btn-innovations=2]").removeClass("selected"),e("[data-content-innovations=3]").addClass("active"),e("[data-content-innovations=2], [data-content-innovations=1]").removeClass("active")),"main"==taxSystem&&uiValue<=115?(e("[data-section=21-1]").show(),e("[data-section=21-2]").hide()):"main"==taxSystem&&uiValue>=116&&(e("[data-section=21-1]").hide(),e("[data-section=21-2]").show())),this.events=[],taxSystem){case"simplified":gtmSnoEvent="set_sno_uproshenka";break;case"main":gtmSnoEvent="set_sno_basic";break;case"other":gtmSnoEvent="set_sno_other";break;default:gtmSnoEvent="set_sno_other"}switch(!0){case uiValue<=10:gtmIncomeEvent="set_income_10";break;case uiValue>10&&uiValue<=30:gtmIncomeEvent="set_income_30";break;case uiValue>30&&uiValue<=50:gtmIncomeEvent="set_income_80";break;case uiValue>50&&uiValue<=70:gtmIncomeEvent="set_income_120";break;case uiValue>70&&uiValue<=93:gtmIncomeEvent="set_income_400";break;case uiValue>93&&uiValue<=115:gtmIncomeEvent="set_income_800";break;case uiValue>115&&uiValue<=138:gtmIncomeEvent="set_income_2000";break;case uiValue>138:gtmIncomeEvent="set_income_over_2000";break;default:gtmIncomeEvent="set_income_20"}switch(!0){case uiValue2<=30:gtmEmployeeEvent="set_employee_30";break;case uiValue2>30&&uiValue2<=74:gtmEmployeeEvent="set_employee_100";break;case uiValue2>74&&uiValue2<=139:gtmEmployeeEvent="set_employee_500";break;case uiValue2>139:gtmEmployeeEvent="set_employee_over_500";break;default:gtmEmployeeEvent="set_employee_30"}this.events.push(gtmSnoEvent),this.events.push(gtmIncomeEvent),this.events.push(gtmEmployeeEvent)}},compare:function(e,t,n){switch(!0){case e<10&&("other"==n||"simplified"==n):this.finalPriceElem.html(this.prices[0]);break;case e<10&&"main"==n:this.finalPriceElem.html(this.prices[10]);break;case e>=10&&e<=29&&("other"==n||"simplified"==n):this.finalPriceElem.html(this.prices[1]);break;case e>=10&&e<=29&&"main"==n:this.finalPriceElem.html(this.prices[11]);break;case e>=30&&e<=49&&("other"==n||"simplified"==n):this.finalPriceElem.html(this.prices[2]);break;case e>=30&&e<=49&&"main"==n:this.finalPriceElem.html(this.prices[12]);break;case e>=50&&e<=70&&("other"==n||"simplified"==n)&&t<10:this.finalPriceElem.html(this.prices[3]);break;case e>=50&&e<=70&&("other"==n||"simplified"==n)&&t>=10&&t<=74:this.finalPriceElem.html(this.prices[14]);break;case e>=50&&e<=70&&("other"==n||"simplified"==n)&&t>=75&&t<=139:this.finalPriceElem.html(this.prices[15]);break;case e>=50&&e<=70&&("other"==n||"simplified"==n)&&t>=140:this.finalPriceElem.html(this.prices[16]);break;case e>=50&&e<=70&&"main"==n&&t<10:this.finalPriceElem.html(this.prices[29]);break;case e>=50&&e<=70&&"main"==n&&t>=10&&t<=74:this.finalPriceElem.html(this.prices[30]);break;case e>=50&&e<=70&&"main"==n&&t>=75&&t<=139:this.finalPriceElem.html(this.prices[31]);break;case e>=50&&e<=70&&"main"==n&&t>=140:this.finalPriceElem.html(this.prices[32]);break;case e>=71&&e<=93&&t<10:this.finalPriceElem.html(this.prices[17]);break;case e>=71&&e<=93&&t>=10&&t<=74:this.finalPriceElem.html(this.prices[18]);break;case e>=71&&e<=93&&t>=75&&t<=139:this.finalPriceElem.html(this.prices[19]);break;case e>=71&&e<=93&&t>=140:this.finalPriceElem.html(this.prices[20]);break;case e>=94&&e<=115&&t<10:this.finalPriceElem.html(this.prices[21]);break;case e>=94&&e<=115&&t>=10&&t<=74:this.finalPriceElem.html(this.prices[22]);break;case e>=94&&e<=115&&t>=75&&t<=139:this.finalPriceElem.html(this.prices[23]);break;case e>=94&&e<=115&&t>=140:this.finalPriceElem.html(this.prices[24]);break;case e>=116&&e<=138&&t<10:this.finalPriceElem.html(this.prices[25]);break;case e>=116&&e<=138&&t>=10&&t<=74:this.finalPriceElem.html(this.prices[26]);break;case e>=116&&e<=138&&t>=75&&t<=139:this.finalPriceElem.html(this.prices[27]);break;case e>=116&&e<=138&&t>=140:this.finalPriceElem.html(this.prices[28]);break;case e>=139&&t<10:this.finalPriceElem.html(this.prices[33]);break;case e>=139&&t>=10&&t<=74:this.finalPriceElem.html(this.prices[34]);break;case e>=139&&t>=75&&t<=139:this.finalPriceElem.html(this.prices[35]);break;case e>=139&&t>=140:this.finalPriceElem.html(this.prices[36]);break;default:this.finalPriceElem.html(this.prices[9])}},pushEvents:function(e,t){"function"==typeof GTMpushEvent&&e.forEach((function(e){GTMpushEvent(e,t,"Form_Accounting_Calculator_Extended")}))},pushMomentEvents:function(e,t){"function"==typeof GTMpushEvent&&e.forEach((function(e){GTMpushEvent("Form_Accounting_Calculator_Extended_Choosed_"+e,t)}))},selectTax:function(t,n){if(n.preventDefault(),this.element.find(".selected[data-tax]").data("tax")!=e(t).data("tax")){t.closest(".selection__buttons").children().removeClass("selected"),t.addClass("selected");var i=!1;"main"==e(t).data("tax")&&(i=["Osnovnaya"]),"simplified"==e(t).data("tax")&&(i=["Uproschenka"]),"other"==e(t).data("tax")&&(i=["Drugoe"]),i&&this.pushMomentEvents(i,this.gtmCategory),this.submitForm(!0)}},setPush:function(){this.events.length>0&&(this.timeout?setTimeout(this.pushEvents,1e3*this.timeout,this.events,this.gtmCategory):this.pushEvents(this.events,this.gtmCategory),this.events=[])}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.BackToTop=can.Control.extend({pluginName:"appWidgetBackToTop",defaults:{}},{init:function(){this.offset=1e3,this.on(this.element,"click","scrollToTop")},scrollToTop:function(t,n){n.preventDefault(),e("html, body").animate({scrollTop:0},1800),"function"==typeof GTMpushEvent&&window.matchMedia("(max-width: 768px)").matches&&GTMpushEvent("MobileButtonClick","MobileButton")},"{window} scroll":function(){e(window).scrollTop()>this.offset?this.element.removeClass("hide"):this.element.addClass("hide")}})}(jQuery),function(e){App.Widgets.Banner=App.Widgets.Banner||{},App.Widgets.Banner.LazyLoad=can.Control.extend({pluginName:"appWidgetBannerLazyLoad",defaults:{gateway:"/ajax/banners/"}},{init:function(){if(this.bannerID=this.element.data("banner"),this.requestParams=window.location.search.replace("?","").split("&").reduce((function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e}),{}),this.bannerID)try{e.get(this.options.gateway,{id:this.bannerID,clear_cache:this.requestParams.clear_cache},this.proxy("insertBanner"))}catch(e){console.error("ERROR: appWidgetBannerLazyLoad unable to load banner ID "+this.bannerID)}},insertBanner:function(e,t,n){this.element.html(e)}})}(jQuery),jQuery,App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.BlogAccordion=can.Control.extend({pluginName:"appWidgetBlogAccordion",defaults:{}},{init:function(){this.btn=this.element,this.on(this.btn,"click touchstart","showHideDescription")},showHideDescription:function(e,t){t.preventDefault(),e.hasClass("open")?(e.toggleClass("open"),e.next().slideUp().removeClass("open")):(e.toggleClass("open"),e.next().slideDown().addClass("open"))}}),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.BlogArchive=can.Control.extend({pluginName:"appWidgetBlogArchive",defaults:{}},{init:function(){this.filterItem=this.element.find(".js-blog-filter-item"),this.tags=e(".js-blog-tags"),this.blogField=e(".js-blog-field"),this.blogFieldUl=e(".js-blog-field > .js-blog-ul"),this.blogFieldPager=e(".js-blog-field > .js-pagination--blog"),this.on(this.filterItem,"click","filterArchiveOnClick")},filterArchiveOnClick:function(e,t){e.hasClass("current")?e.find(".current-close").remove():e.prepend('<span class="current-close">close</span>'),e.toggleClass("current"),this.updateBlogArchive()},updateBlogArchive:function(){var t=0,n=[],i=this,o=[];this.element.find(".js-blog-filter-item.current").each((function(){n[t]=e(this).data("month")+"-"+e(this).data("year"),t++})),t=0,this.tags.find(".js-blog-tag-item.current").each((function(){var n;n=e(this).data("tag"),o[t]=n,t++})),e.get("",{"DATE[]":n,tags:o,isAjax:!0}).done((function(e){i.blogField.empty(),i.blogField.append(e)})).error((function(){console.log("ERROR ADDING BLOG")}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.BlogTags=can.Control.extend({pluginName:"appWidgetBlogTags",defaults:{}},{init:function(){this.filterItem=this.element.find(".js-blog-tag-item"),this.archive=e(".js-blog-archive"),this.blogField=e(".js-blog-field"),this.blogFieldUl=e(".js-blog-field > .js-blog-ul"),this.blogFieldPager=e(".js-blog-field > .js-pagination--blog"),this.on(this.filterItem,"click","filterTagOnClick")},filterTagOnClick:function(e,t){t.preventDefault(),e.toggleClass("active"),this.updateBlog()},updateBlog:function(){var t=0,n=[],i=this,o=[];this.archive.find(".js-blog-filter-item.current").each((function(){n[t]=e(this).data("month")+"-"+e(this).data("year"),t++})),t=0,this.element.find(".js-blog-tag-item.active").each((function(){var n;n=e(this).data("tag"),o[t]=n,t++})),e.get("",{"DATE[]":n,tags:o,AJAX:"Y"}).done((function(e){i.blogField.empty(),i.blogField.append(e)})).error((function(){console.log("ERROR ADDING BLOG")}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.BurgerMobile=can.Control.extend({pluginName:"appWidgetBurgerMobile",defaults:{}},{init:function(){this.burgerBtn=this.element.find(".burger__btn"),this.burgerNav=this.element.find(".burger__wrapper"),this.burgerClose=this.element.find(".burger__close"),this.burgerNavSlide=this.element.find(".burger__nav-slide"),this.burgerNavLink=this.element.find(".burger__nav-link"),this.on(this.burgerBtn,"click","openNav"),this.on(this.burgerClose,"click","closeNav"),this.on(this.burgerNavSlide,"click","slideNavItem"),this.on(this.burgerNavLink,"click","slideNavItem")},openNav:function(t,n){n.preventDefault(),this.burgerNav.addClass("active"),e("body").addClass("overflow-is-hidden")},closeNav:function(t,n){n.preventDefault(),this.burgerNav.removeClass("active"),e("body").removeClass("overflow-is-hidden")},slideNavItem:function(t,n){"#"==e(t).attr("href")&&(n.preventDefault(),e(t).closest(".burger__nav-item").toggleClass("open"),e(t).next(".burger__subnav").slideToggle(),e(t).next().next(".burger__subnav").slideToggle())}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.CostCalculator=can.Control.extend({pluginName:"appWidgetCostCalculator",defaults:{}},{init:function(){this.rangeSlider=this.element.find(".js-cost-calculator__range"),this.result=this.element.find(".js-cost-calculator__result"),this.form=this.element.find(".form--calculator-send"),this.formEmail=this.form.find('input[data-fieldtype="FORM_EMAIL"]'),this.button=e(".js-send-rusult"),this.whatInPrice=this.element.find(".js-modal"),this.sendBlock=this.element.find(".js-calculator-form"),this.priceInput=this.element.find('input[name="PRICE"]');var t=this;this.rangeSlider.slider({range:"min",min:0,max:165,step:1,value:10,slide:function(e,n){t.calculateCost(n.value)}}),this.button.on("click",this.submitForm),this.whatInPrice.on("click",this.sendWhatEvent),this.formEmail&&(this.on(this.formEmail,"change","changeEmail"),this.onceEmailSend=!0)},changeEmail:function(t,n){e(this.form).data("validate")&&this.onceEmailSend&&"function"==typeof GTMpushEvent&&(GTMpushEvent("Form_Accounting_Calculator_Filled_Email","Form_Accounting_Calculator"),this.onceEmailSend=!1)},sendWhatEvent:function(){"function"==typeof GTMpushEvent&&GTMpushEvent("Form_Accounting_Calculator_Click_What_Affects","Form_Accounting_Calculator")},printResult:function(e,t){var n=this.result;t?n.hasClass("cost-calculator__result-small")||n.addClass("cost-calculator__result-small"):n.hasClass("cost-calculator__result-small")&&n.removeClass("cost-calculator__result-small"),this.priceInput.val(e),n.text(e)},submitForm:function(t){if(t.preventDefault(),e(this.form).validate(window.application.validateOptionsDefault),e(this.form).data("validate")&&!e(this.form).valid())return!1;e(this.form).startWaiting(),e.post("/ajax/interface/calculator/",e(this.form).serialize(),(function(t){t.success?(e(".form--calculator-send").endWaiting(),"function"==typeof GTMpushEvent&&GTMpushEvent("Form_Accounting_Calculator_Sent","Form_Accounting_Calculator"),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:e(t.html)})):("function"==typeof GTMpushEvent&&GTMpushEvent("Form_Accounting_Calculator_Error","Form_Accounting_Calculator"),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:e('<div class="modal modal--visible"><div class="modal__title">Сервис временно не доступен</div><p>Повторите попытку позже</p></div>')}))}),"json")}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ChangeableContacts=can.Control.extend({pluginName:"appWidgetChangeableContacts",defaults:{}},{init:function(){this.initMap("59.971244564100715,30.312669999999944"),this.selectCity=this.element.find(".js-select"),this.addressValue=this.element.find(".js-changeable-contacts-address"),this.codeValue=this.element.find(".js-changeable-contacts-phone .js-site-phone-ccode"),this.phoneValue=this.element.find(".js-changeable-contacts-phone .js-site-phone-local"),this.telValue=this.element.find(".js-changeable-contacts-phone .js-site-phone-a"),this.selectElement=this.element.find(".js-changeable-contacts-phone .js-site-phone-a").parent().parent().parent(),this.parentElement=this.element.find(".contact-list--custom-margin"),this.howToGet=this.element.find(".js-changeable-contacts-how-to-get"),this.on(this.selectCity,"change","selectCityChange");var t=new URI(window.location.href);if(t.fragmentPrefix("!"),t.fragment(!0)){var n=t.fragment(!0);"code"in n&&(this.selectCity.val(n.code).trigger("change"),e("html, body").animate({scrollTop:e("#spb").offset().top-60},1500))}var i=this;e(document).on("click",".js-contact-header-link",(function(){var t=new URI(e(this).attr("href"));if(t.fragmentPrefix("!"),t.fragment(!0)){var n=t.fragment(!0);"code"in n&&(i.selectCity.val(n.code).trigger("change"),e("html, body").animate({scrollTop:e("#spb").offset().top-60},1500))}}))},selectCityChange:function(t,n){var i=n.target,o=e(i).find(":selected").data("param"),r=o.phone.split(","),s=o.coordinates.split(","),a='<a target="_blank" href="https://yandex.ru/maps/?z=16&ll='+(s[1]+","+s[0])+"&l=map&rtext=~"+o.coordinates+'&origin=jsapi_2_1_72&from=api-maps">'+o.address+"</a>";if(this.addressValue.html(a),r.length>=1&&""!=o.pcode)if(1==r.length){var l=r[0].replace("-","").replace("-","");this.codeValue.html(o.pcode),this.phoneValue.html(r[0]),this.telValue[0].setAttribute("href","tel:+7"+o.pcode+l),this.telValue[0].setAttribute("title","+7"+o.pcode+l),this.telValue.parent().parent().parent().removeClass("none"),e(".js-changeable-contacts-phone-two").parent().remove()}else{l=r[0].replace("-","").replace("-","");this.codeValue.html(o.pcode),this.phoneValue.html(r[0]),this.telValue[0].setAttribute("href","tel:+7"+o.pcode+l),this.telValue[0].setAttribute("title","+7"+o.pcode+l),this.telValue.parent().parent().parent().removeClass("none"),l=r[1].replace("-","").replace("-","");var c=document.createElement("div");c.className="contact-list__row",c.innerHTML='<div class="contact-list__column"></div><div class="contact-list__column contact-list__column--phone js-changeable-contacts-phone-two"><span class="js-site-phone"><a href="tel:+7'+o.code+l+'" title="+7'+o.code+l+'" class="no-underline black-link js-site-phone-a"><nobr><span class="js-site-phone-wcode">+7</span> (<span class="js-site-phone-ccode">'+o.pcode+'</span>) <strong><span class="js-site-phone-local">'+r[1]+"</span></strong></nobr></a></span></div>",this.parentElement[0].insertBefore(c,this.selectElement[0].nextSibling)}else this.telValue.parent().parent().parent().addClass("none");"sankt-peterburg"==o.code?this.howToGet.removeClass("none"):this.howToGet.addClass("none"),this.destroyMap(),this.initMap(o.coordinates)},initMap:function(t){ymaps.ready((function(){waMap=new ymaps.Map("changeable-map",{center:t.split(","),zoom:16,controls:["zoomControl"]}),waMap.behaviors.disable("drag");waPlacemark=new ymaps.Placemark(t.split(","),{},{balloonShadow:!1,iconLayout:"default#image",iconImageHref:"/local/templates/main/build/images/wa-map-mark.png",iconImageSize:[49,45],zIndex:98}),waMap.geoObjects.add(waPlacemark),window.addEventListener("resize",(function(){waMap.setCenter(t.split(","))})),e(".js-changeable-contacts-address").on("click",(function(){waMap.panTo([t.split(",")])}))}))},destroyMap:function(){ymaps.ready((function(){waMap.destroy()}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.Changes=can.Control.extend({pluginName:"appWidgetChanges",defaults:{}},{init:function(){this.LPRItem=this.element.find(".js-lpr"),this.businessItem=this.element.find(".js-business-type"),this.taxItem=this.element.find(".js-tax-type"),this.changeItem=this.element.find(".js-change-type"),this.contentField=e(".js-changes-content"),this.on(this.LPRItem,"click","filterChangesOnClick"),this.on(this.businessItem,"click","filterChangesOnClick"),this.on(this.taxItem,"click","filterChangesOnClick"),this.on(this.changeItem,"click","filterChangesOnClick")},filterChangesOnClick:function(t,n){t.hasClass("js-lpr")?t.hasClass("active")?e(".js-lpr").removeClass("active"):(e(".js-lpr").removeClass("active"),t.addClass("active")):(t.hasClass("js-business-type")||t.hasClass("js-tax-type")||t.hasClass("js-change-type"))&&t.toggleClass("active"),this.updateContent()},updateContent:function(){var t=0,n=[],i=this,o=[],r=[],s=[];this.element.find(".js-lpr.active").each((function(){n[t]=e(this).data("code"),t++})),t=0,this.element.find(".js-business-type.active").each((function(){o[t]=e(this).data("code"),t++})),t=0,this.element.find(".js-tax-type.active").each((function(){r[t]=e(this).data("code"),t++})),t=0,this.element.find(".js-change-type.active").each((function(){s[t]=e(this).data("code"),t++})),e.get("",{"LPR[]":n,"business_type[]":o,"tax_type[]":r,"change_type[]":s}).done((function(e){i.contentField.empty(),i.contentField.append(e),window.application.installController(".js-accordion","appWidgetAccordion")})).error((function(){console.log("ERROR ADDING CONTENT")}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.CheckSubscribeForm=can.Control.extend({pluginName:"appWidgetCheckSubscribeForm",defaults:{}},{init:function(){e('form[name="POPUP_SUBSCRIPTION"]').find(".js-icheckbox.rubrics").on("ifClicked",(function(){e('form[name="POPUP_SUBSCRIPTION"]').find(".js-icheckbox.rubrics").iCheck("uncheck"),e(this).iCheck("check")})),e('form[name="POPUP_SUBSCRIPTION"]').find(".js-icheckbox.cities").on("ifClicked",(function(){e('form[name="POPUP_SUBSCRIPTION"]').find(".js-icheckbox.cities").iCheck("uncheck"),e(this).iCheck("check")}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ClientsFilter=can.Control.extend({pluginName:"appWidgetClientsFilter",defaults:{}},{init:function(){this.filterBtn=this.element.find(".js-clients-filter__btn"),this.filterBtnsList=this.element.find(".js-clients-filter__btns-list"),this.filterItem=this.element.find(".js-clients-filter__item"),this.selectMenu=this.element.find(".js-clients-filter__select-menu"),this.showMoreBtn=this.element.find(".js-clients-filter__show-more-btn"),this.foreignClients=this.element.find(".js-clients-filter__foreign"),this.filterByCountryList=this.element.find(".js-clients-filter__by-country-list"),this.filterByCountryBtn=this.element.find(".js-clients-filter__by-country-btn"),this.filterByCountryBtnAll=this.element.find('.js-clients-filter__by-country-btn[data-id="foreign-clients"]');this.element.hasClass("js-clients-filter--no-slice")?this.element.hasClass("js-clients-filter--no-slice")&&e(window).width()<1003?this.filterItem.slice(0,12).removeClass("hide"):this.filterItem.removeClass("hide"):this.filterItem.slice(0,12).removeClass("hide"),this.on(this.filterBtn,"click","switchTabOnClick"),this.on(this.filterByCountryBtn,"click","filterByCountry"),this.on(this.selectMenu,"click","showTabsListOnClick"),this.on(this.showMoreBtn,"click","showMoreItems")},switchTabOnClick:function(t,n){var i=t.attr("data-id");this.filterBtn.removeClass("active"),t.addClass("active");var o=t.data("color"),r=[];e(".js-clients-filter__btn").each((function(){var t=e(this).data("color");r.push(t)}));for(var s=0;s<r.length;s++){var a=r[s];t.parent().removeClass("horizontal-tabs__list--"+a).addClass("horizontal-tabs__list--"+o)}this.filterItem.addClass("hide");var l=this.element.find('[data-filter~="'+i+'"]');return this.element.hasClass("js-clients-filter--no-slice")?this.element.hasClass("js-clients-filter--no-slice")&&e(window).width()<1003?l.slice(0,12).removeClass("hide"):l.removeClass("hide"):l.slice(0,12).removeClass("hide"),this.foreignClients.removeClass("horizontal-tabs__2-3-col"),this.filterByCountryList.addClass("hide"),t.hasClass("js-clients-filter__btn--foreign")&&!this.foreignClients.hasClass("horizontal-tabs__2-3-col")&&(this.foreignClients.addClass("horizontal-tabs__2-3-col"),this.filterByCountryList.removeClass("hide")),this.filterByCountryBtn.removeClass("active"),this.filterByCountryBtnAll.addClass("active"),this.activeTabText=t.text(),this.selectMenu.text(this.activeTabText),this.showTabsListOnClick(),l},showTabsListOnClick:function(t,n){e(window).width()<1003&&this.filterBtnsList.slideToggle("fast")},filterByCountry:function(t,n){this.filterByCountryBtn.removeClass("active"),t.addClass("active"),this.filterItem.addClass("hide");var i=t.attr("data-id"),o=this.element.find('[data-filter~="'+i+'"]');this.element.hasClass("js-clients-filter--no-slice")?this.element.hasClass("js-clients-filter--no-slice")&&e(window).width()<1003?o.slice(0,12).removeClass("hide"):o.removeClass("hide"):o.slice(0,12).removeClass("hide")},showMoreItems:function(){countryId=this.filterByCountryBtn.filter(".active").data("id"),this.hiddenItems=this.element.find(".js-clients-filter__item").filter('[data-filter~="'+countryId+'"]').filter(":hidden"),this.hiddenItems.slice(0,12).removeClass("hide")}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.CustomFormElement=can.Control.extend({pluginName:"appWidgetCustomFormElement",defaults:{}},{init:function(){this.checkbox=this.element.find(".js-custom-form-element__checkbox"),this.radio=this.element.find(".js-custom-form-element__radio"),this.checkbox.iCheck({checkboxClass:"custom-checkbox",checkedCheckboxClass:"custom-checkbox--checked",cursor:!0}),this.radio.iCheck({radioClass:"custom-radio",checkedRadioClass:"custom-radio--checked",cursor:!0}),this.radio.on("ifChecked",(function(){"true"==this.getAttribute("data-error")?(0==e(".form__errors p").length&&e(".form__errors").append("<p></p>"),0==e("#form_radio_FORM_STATUS-error").length&&e(".form__errors p").append('<font id="form_radio_FORM_STATUS-error" class="errortext">Извините, но это закрытое мероприятие только для генеральных директоров и собственников бизнеса<br></font>')):e("#form_radio_FORM_STATUS-error").detach();var t=e(".other-input");"true"==this.getAttribute("data-parent")?t.show():t.length>0&&t.hide()})),e(".js-custom-form-element__checkbox").filter('[data-parent="true"]').on("ifChecked",(function(){e(".other-theme-input").show()})),e(".js-custom-form-element__checkbox").filter('[data-parent="true"]').on("ifUnchecked",(function(){e(".other-theme-input").hide()}))}})}(jQuery),jQuery,App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.CustomSelect=can.Control.extend({pluginName:"appWidgetCustomSelect",defaults:{}},{init:function(){this.select=this.element.select2({width:"off",minimumResultsForSearch:-1,dropdownAutoWidth:!1})}}),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.DropdownMenu=can.Control.extend({pluginName:"appWidgetDropdownMenu",defaults:{}},{init:function(){this.menuToggleBtn=this.element.find(".js-menu__toggle-btn"),this.menuItem=this.element.find(".js-menu__item"),this.menuList=this.element.find(".js-menu__list");var t=this.element;this.menuItem.on("mouseenter mouseleave",(function(n){this.menuContainer=t.find(".js-menu__container"),this.menuContainerWidth=this.menuContainer.outerWidth(),this.menuContainerOffsetLeft=this.menuContainer.offset().left,this.dropdown=e(this).find(".js-menu__dropdown"),this.dropdownWidth=this.dropdown.outerWidth(),this.dropdownOffsetLeft=this.dropdown.offset().left,this.dropdownOffsetLeft+this.dropdownWidth<=this.menuContainerWidth+this.menuContainerOffsetLeft?e(this).find(".js-menu__dropdown").removeClass("main-nav__dropdown--right"):e(this).find(".js-menu__dropdown").addClass("main-nav__dropdown--right")})),this.menuToggleBtn.on("click",(function(){e(this).toggleClass("main-nav__menu-btn--active"),e(".js-menu__list").toggleClass("main-nav__list--open"),t.toggleClass("main-nav--open"),e("body").toggleClass("overflow-is-hidden")}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.EqualHeightBlocks=can.Control.extend({pluginName:"appWidgetEqualHeightBlocks",defaults:{}},{init:function(){this.items=this.element.find(".js-equal-height-blocks__item"),this.images=this.element.find("img"),this.setHeight(),this.on(window,"resize","setHeight"),this.on(this.images,"load","setHeight")},setHeight:function(){var t=0;this.items.css("height","auto"),this.items.each((function(n){var i=parseInt(e(this).outerHeight());i>t&&(t=i)})),this.items.css("height",t)}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.EventsArchive=can.Control.extend({pluginName:"appWidgetEventsArchive",defaults:{}},{init:function(){this.filterItem=this.element.find(".js-events-filter-item"),this.entityField=e(".js-event-list"),this.entityFieldPager=e(".js-event-list > .js-pagination--events"),this.on(this.filterItem,"click","filterArchiveOnClick")},filterArchiveOnClick:function(e,t){e.hasClass("current")?e.find(".current-close").remove():e.prepend('<span class="current-close">close</span>'),e.toggleClass("current"),this.updateEvents()},updateEvents:function(){var t=0,n=[],i=this;this.element.find(".js-events-filter-item.current").each((function(){n[t]=e(this).data("month")+"-"+e(this).data("year"),t++})),e.get("",{"DATE[]":n}).done((function(e){i.entityField.empty(),i.entityField.append(e)})).error((function(){console.log("ERROR ADDING EVENTS")}))}})}(jQuery),function(e){App.Widgets.Event=App.Widgets.Event||{},App.Widgets.Event.LazyLoad=can.Control.extend({pluginName:"appWidgetEventLazyLoad",defaults:{gateway:"/ajax/events.insert/"}},{init:function(){if(this.pid=this.element.data("pid"),this.requestParams=window.location.search.replace("?","").split("&").reduce((function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e}),{}),this.pid||0===this.pid)try{e.get(this.options.gateway,{id:this.pid,clear_cache:this.requestParams.clear_cache},this.proxy("insertEvent"))}catch(e){console.error("ERROR: appWidgetEventLazyLoad unable to load banner ID "+this.PID)}},insertEvent:function(e,t,n){this.element.html(e),this.initEvents()},initEvents:function(){window.application.installController(this.element.find(".js-get-event-form"),"appWidgetEventFormGet");var t=this.element.find(".video"),n=this.element.find(".event__props-place"),i=this;t.on("click",(function(){var t=e(this).attr("data-video-src");t=t.replace(new RegExp("watch\\?v=","i"),"v/"),t+="?fs=1&autoplay=1&rel=0",e.fancybox({padding:0,href:t,type:"swf",swf:{wmode:"transparent",allowfullscreen:"true"}})})),n.on("click",(function(){var t=e(this).data("id"),n=e(this).data("lat"),o=e(this).data("long");e.fancybox.open({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},href:"/local/components/wiseadvice/events/templates/.default/map.php",type:"ajax",ajax:{type:"POST",data:{id:t}},afterShow:function(){e.getScript("https://api-maps.yandex.ru/2.1/?lang=ru_RU",(function(){i.mapReady(n,o)}))}})}))},mapReady:function(e,t){var n=this;ymaps.ready(setTimeout((function(){n.initMap(e,t)}),1e3))},initMap:function(e,t){var n=[e,t];console.log(n);var i=new ymaps.Map("js-map",{center:n,zoom:13,controls:[]});i.behaviors.disable(["scrollZoom","drag"]);var o=new ymaps.Placemark(n,{},{balloonShadow:!1,iconLayout:"default#image",iconImageHref:"/local/templates/main/build/images/wa-map-mark.png",iconImageSize:[49,45],zIndex:98});i.geoObjects.add(o),window.addEventListener("resize",(function(){i.setCenter(n)}))}})}(jQuery),jQuery,App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.Filter=can.Control.extend({pluginName:"appWidgetFilter",defaults:{}},{init:function(){this.filterBtn=this.element.find(".js-filter__btn"),this.filterItem=this.element.find(".js-filter__item"),this.on(this.filterBtn,"click","filterOnClick")},filterOnClick:function(e,t){var n=e.attr("data-id");this.filterItem.hide(),this.element.find('[data-filter~="'+n+'"]').show()}}),jQuery,App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.FlipCard=can.Control.extend({pluginName:"appWidgetFlipCard",defaults:{}},{init:function(){this.flipCardFront=this.element.find(".js-flip-card__front"),this.flipCardBack=this.element.find(".js-flip-card__back"),this.on(this.element,"mouseenter","flipOnMouseenter"),this.on(this.element,"mouseleave","flipBackOnMouseleave"),this.on(this.element,"click","flipOnClick")},flipOnClick:function(){window.USER_IS_TOUCHING&&(this.element.hasClass("flip--hovered")&&this.element.removeClass("flip--hovered"),this.element.toggleClass("flip--clicked"))},flipOnMouseenter:function(){window.USER_IS_TOUCHING||(this.element.hasClass("flip--clicked")&&this.element.removeClass("flip--clicked"),this.element.addClass("flip--hovered"))},flipBackOnMouseleave:function(){window.USER_IS_TOUCHING||(this.element.hasClass("flip--clicked")&&this.element.removeClass("flip--clicked"),this.element.removeClass("flip--hovered"))}}),jQuery,App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.FormSelect=can.Control.extend({pluginName:"appWidgetFormSelect",defaults:{}},{init:function(){this.select=this.element.select2({minimumResultsForSearch:1/0,theme:"form-select"})}}),function(e){App.Plugins=App.Plugins||{},App.Plugins.HRTest=can.Control.extend({pluginName:"appPluginHRTest",defaults:{}},{init:function(){this.gateway=this.element.data("gateway"),this.body=this.element.find(".js-plugin-body"),this.baseAnswerClass="test-questions__answer"},reloadBody:function(t){this.body.startWaiting(),e.post(this.gateway,t,this.proxy("_replaceBodyContent"))},_replaceBodyContent:function(t){var n=this;n.body.html(t),n.radioBtn=n.element.find(".js-answer");var i=n.element.find(".js-question").data("num");n.radioBtn.iCheck({radioClass:"custom-radio",checkedRadioClass:"custom-radio--checked",cursor:!0}),n.body.endWaiting(),n.radioBtn.on("ifChanged",(function(t){e.post(n.gateway,{action:"getcomment",q:i,a:e(t.currentTarget).data("num")},n.proxy((function(i){n._getAnswerComment(i,e(t.currentTarget))})),"json"),n.element.find(".js-button-1").attr("disabled",!1)}))},_getAnswerComment:function(e,t){var n=t.parent().parent();n.addClass(this.baseAnswerClass+"--"+e.type+" is-selected"),n.parent().find(".js-comment").html(e.text).addClass("is-shown")},".js-button-1 click":function(t,n){n.preventDefault();var i=e.extend(t.data("param"),{q:e(".js-question").attr("data-num"),a:e(".js-answer:checked").attr("data-num")});this.reloadBody(i)},".js-button-2 click":function(e,t){t.preventDefault();var n=this.element.find(".js-usermail").val();this._validMail(n)?this.reloadBody({action:"email",email:n}):this.element.find(".js-usermail").addClass("form__input--invalid")},_validMail:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.LanguagesSwitch=can.Control.extend({pluginName:"appWidgetLanguagesSwitch",defaults:{}},{init:function(){var t=e(".js-languages-switch__btn");t.each((function(){e(this).hasClass("from-cacheurl")||(currentUrl=e(this).attr("href")+window.location.pathname.substring(1),e.get(currentUrl).done((function(e){switch(this.url.substring(0,4)){case"/en/":t.filter('[href="/en/"]').attr("href",this.url);break;case"/de/":t.filter('[href="/de/"]').attr("href",this.url);break;case"/fr/":t.filter('[href="/fr/"]').attr("href",this.url);break;default:t.filter('[href="/"]').attr("href",this.url)}})))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.LazyLoad=can.Control.extend({pluginName:"appWidgetLazyLoad",defaults:{gateway:"/ajax/content/"}},{init:function(){if(this.includePath=this.element.data("ajax--url"),this.gateway=this.element.data("gateway")?this.options.gateway+this.element.data("gateway")+"/":this.options.gateway,this.includePath)try{e.post(this.gateway,{path:this.includePath},this.proxy("insertContent"))}catch(e){console.error("ERROR: appWidgetLazyLoad unable to load path "+this.includePath)}},insertContent:function(e,t,n){this.element.html(e);var i=this.element.find(".js-accordion");window.application.installController(i,"appWidgetAccordion")}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.NewLazyLoad=can.Control.extend({pluginName:"appWidgetNewLazyLoad"},{init:function(t,n){this.requestKey=this.element.data("lazyload-key"),this.gateway=this.prepareUri(),this.control=this.element.data("controller").split(","),this.controllers={},""!=this.element.data("controller")&&(this.control=this.element.data("controller").split(","),this.controllers=this.getController(this.control));var i=this;if(this.requestKey)try{var o=window.location.pathname,r={};["/company/blog/","/client/club/"].indexOf(o)>-1&&(r={url:this.element.prev().attr("href")}),e.get(this.gateway,r,(function(t){if(i.element.removeData().unbind(),i.element.replaceWith(t),Object.keys(i.controllers).length>0)for(selector in i.controllers)window.application.installController(selector,i.controllers[selector]);if(""!=window.location.hash&&0==e(".js-lazyload").length){var n=e(window.location.hash);n.length&&e("html, body").animate({scrollTop:n.offset().top-60},750)}}))}catch(e){console.error("ERROR: LazyLoad не отвчает по пути "+this.gateway)}},insertContent:function(e,t,n){this.element.removeData().unbind(),this.element.replaceWith(e)},prepareUri:function(){var e=new URI;return e.setSearch("LAZY","Y").setSearch("KEY",this.requestKey).toString(),e},getController:function(e){for(var t={appWidgetTabs:"#company-team .js-tabs",appWidgetShowInfo:"#company-team .js-show-info",appWidgetContentSlider:".owl-carousel.js-content-slider",appWidgetFormGet:"#zverskie .js-get-form",appWidgetEventPush:"#zverskie .js-push-event"},n={},i=0;i<e.length;i++)n[t[e[i]]]=e[i];return n}})}(jQuery),jQuery,App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.LongTable=can.Control.extend({pluginName:"appWidgetLongTable",defaults:{}},{init:function(){this.table=this.element.find(".js-long-table__table"),this.openBtnContainer=this.element.find(".js-long-table__open-btn-wrap"),this.openBtn=this.element.find(".js-long-table__open-btn"),this.tableContainer=this.element.find(".js-long-table__container"),this.tableHeight=1950,this.on(this.openBtn,"click","openTable")},openTable:function(e,t){var n=this;this.element.hasClass("js-long-table--accounting")?(this.tableHeight=this.table.outerHeight(),this.tableContainer.animate({height:this.tableHeight},500,(function(){n.openBtnContainer.fadeOut(300)}))):this.element.hasClass("js-long-table--insurance-funds")?(this.tableHeight=this.table.outerHeight()+127,this.tableContainer.animate({height:this.tableHeight},500,(function(){n.openBtnContainer.fadeOut(300)}))):this.element.hasClass("js-long-table--employees-tax")?(this.tableHeight=this.table.outerHeight()+162,this.tableContainer.animate({height:this.tableHeight},500,(function(){n.openBtnContainer.fadeOut(300)}))):this.tableContainer.animate({height:this.tableHeight},500,(function(){n.openBtnContainer.fadeOut(300),n.table.stickyTableHeaders({fixedOffset:46})}))}}),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.Map=can.Control.extend({pluginName:"appWidgetMap",defaults:{}},{init:function(){ymaps.ready(this.initMap)},initMap:function(){var t=[55.718324068999664,37.79198949999998],n=[55.69208956902164,37.34761950000001],i={balloonShadow:!1,iconLayout:"default#image",iconImageHref:"/local/templates/main/build/images/wa-map-mark.png",iconImageSize:[49,45],zIndex:98};if(e("#moscowMap").length){var o=new ymaps.Map("moscowMap",{center:t,zoom:16,controls:["zoomControl"]});o.behaviors.disable("drag");var r=new ymaps.Placemark(t,{},i);o.geoObjects.add(r),window.addEventListener("resize",(function(){o.setCenter(t)})),e(".js-map-address").on("click",(function(){o.panTo(t)}))}if(e("#skolkovo-map").length){var s=new ymaps.Map("skolkovo-map",{center:n,zoom:16,controls:["zoomControl"]});s.behaviors.disable("drag");var a=new ymaps.Placemark(n,{},i);s.geoObjects.add(a),window.addEventListener("resize",(function(){s.setCenter(n)})),e(".js-map-address-skolkovo").on("click",(function(){s.panTo(n)}))}}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.NewsArchive=can.Control.extend({pluginName:"appWidgetNewsArchive",defaults:{}},{init:function(){this.filterItem=this.element.find(".js-news-filter-item"),this.newsField=e(".js-news-field"),this.newsFieldUl=e(".js-news-field > ul"),this.newsFieldPager=e(".js-news-field > .pagination--news"),this.on(this.filterItem,"click","filterArchiveOnClick")},filterArchiveOnClick:function(e,t){e.hasClass("current")?e.find(".current-close").remove():e.prepend('<span class="current-close">close</span>'),e.toggleClass("current"),this.updateNews()},updateNews:function(){var t=0,n=[],i=this;this.element.find(".js-news-filter-item.current").each((function(){n[t]=e(this).data("month")+"-"+e(this).data("year"),t++})),e.get("",{"DATE[]":n}).done((function(e){i.newsField.empty(),i.newsField.append(e)})).error((function(){console.log("ERROR ADDING NEWS")}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.OffCanvasMobile=can.Control.extend({pluginName:"appWidgetOffCanvasMobile",defaults:{}},{init:function(){this.trigger=this.element.find(".js-off-canvas-mobile-trigger"),this.menu=this.element.find(".js-off-canvas-mobile-menu"),this.overlay=this.element.find(".js-off-canvas-mobile-overlay"),this.on(this.trigger,"click","showOffCanvasMobile"),this.on(this.overlay,"click","hideOffCanvasMobile")},showOffCanvasMobile:function(t,n){n.preventDefault(),e("body").addClass("off-canvas-overflow"),this.menu.addClass("active"),this.overlay.addClass("active")},hideOffCanvasMobile:function(t,n){e("body").removeClass("off-canvas-overflow"),this.menu.removeClass("active"),this.overlay.removeClass("active")}})}(jQuery),function(e){App.Widgets.Print=App.Widgets.Print||{},App.Widgets.Print.Print=can.Control.extend({pluginName:"appWidgetPrint",defaults:{}},{init:function(){},".js-print-btn click":function(t,n){n.preventDefault();var i="."+t.data("print"),o=e(i).clone(!0);o.find(".content-banner").addClass("no-print"),t.data("printlogo")&&o.prepend('<div style="text-align: center;"><img src="/local/templates/main/build/images/logo.png"></div>'),o.printThis({removeScripts:!0,printDelay:450})}})}(jQuery),jQuery,App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.QuizEvents=can.Control.extend({pluginName:"appWidgetQuizEvents",defaults:{}},{init:function(){this.submitBtn=this.element.find(".question__label"),this.gtmCategory=this.element.data("gtmcategory"),this.on(this.submitBtn,"click","submitBtnOnClick"),this.send=[]},submitBtnOnClick:function(e){-1!=this.send.indexOf(e.find("[data-check-question]").data("push"))||this.pushEvent(e,this.gtmCategory)},pushEvent:function(e,t){this.send.push(e.find("[data-check-question]").data("push")),console.log(t+"_Choosed_"+e.find("[data-check-question]").data("push")),"function"==typeof GTMpushEvent&&GTMpushEvent(t+"_Choosed_"+e.find("[data-check-question]").data("push"),t)}}),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ScrollTo=can.Control.extend({pluginName:"appWidgetScrollTo",defaults:{}},{init:function(){this.on(this.element,"click","scrollTo")},scrollTo:function(t,n){n.preventDefault(),this.targetId=t.attr("href").substring(1),this.targetObject=e("#"+this.targetId),e("html, body").animate({scrollTop:this.targetObject.offset().top-60},1500),this.element.hasClass("js-scroll-to--secret-info-tab")?e(".js-tabs__tab[data-id=secret-info]").click():this.element.hasClass("js-scroll-to--company-chief-accountants-tab")&&e(".js-tabs__tab[data-id=company-chief-accountants]").click()}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ShowInfo=can.Control.extend({pluginName:"appWidgetShowInfo",defaults:{}},{init:function(){this.btn=this.element.find(".js-show-info__btn"),this.hiddenInfo=this.element.find(".js-show-info__info"),this.on(this.btn,"click","showHiddenInfo")},scrollTo:function(){e("html, body").animate({scrollTop:e("[data-target="+this.dataTarget+"]").offset().top-60},1500)},showHiddenInfo:function(t,n){n.preventDefault();var i=!1;!t.hasClass("open")&&t.data("scroll-to")&&(i=!0),t.toggleClass("open"),t.next(this.hiddenInfo).slideToggle(),this.element.hasClass("js-show-info--no-animation")&&t.next(this.hiddenInfo).toggle(),this.element.filter("[data-attribute]")&&!this.element.hasClass("js-show-info--no-animation")?(this.dataTarget=t.attr("data-attribute"),e("[data-target="+this.dataTarget+"]").slideToggle()):this.element.filter("[data-attribute]")&&this.element.hasClass("js-show-info--no-animation")&&(this.dataTarget=t.attr("data-attribute"),e("[data-target="+this.dataTarget+"]").toggle()),i&&this.scrollTo()}})}(jQuery),jQuery,App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ShowMore=can.Control.extend({pluginName:"appWidgetShowMore",defaults:{}},{init:function(){this.items=this.element.find(".js-show-more__item"),this.showMoreBtn=this.element.find(".js-show-more__btn"),this.items.slice(0,3).removeClass("hide"),this.on(this.showMoreBtn,"click","showMoreOnClick")},showMoreOnClick:function(){this.hiddenItems=this.element.find(".js-show-more__item.hide"),this.hiddenItems.slice(0,3).removeClass("hide")}}),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ShowSearchForm=can.Control.extend({pluginName:"appWidgetShowSearchForm",defaults:{}},{init:function(){this.hiddenOnClick=this.element.find(".js-show-search-form__hidden"),this.shownOnClick=this.element.find(".js-show-search-form__shown"),this.showFormBtn=this.element.find(".js-show-search-form__btn"),this.on(this.showFormBtn,"click","showFormOnClick")},showFormOnClick:function(){this.hiddenOnClick.addClass("none"),this.shownOnClick.removeClass("none")},hideFormOnClick:function(){this.hiddenOnClick.removeClass("none"),this.shownOnClick.addClass("none")},"{document} keyup":function(e,t){27==t.keyCode&&this.hideFormOnClick()},"{document} click":function(t,n){if(!this.shownOnClick.hasClass("none")){if(e(n.target).closest(".js-show-search-form__shown").length||e(n.target).hasClass("js-show-search-form__btn"))return;this.hideFormOnClick(),n.stopPropagation()}}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.PaginationPortfolio=can.Control.extend({pluginName:"appPaginationPortfolio",defaults:{}},{init:function(){this.portfolioField=this.element.find(".js-portfolio-item"),this.paginationBlock=e(".js-pagination--portfolio"),this.paginationCurrentItem=e(".js-pagination--portfolio > div.pagination__item"),this.preparePaginator()},preparePaginator:function(){this.paginationItem=e(".js-pagination--portfolio a.pagination__item"),this.on(this.paginationItem,"click","paginatePortfolio")},paginatePortfolio:function(e,t){t.preventDefault(),this.updateItem(e.attr("href"))},updateItem:function(t){this.element.startWaiting(),e.get(t,this.proxy("showResult"))},showResult:function(e){this.portfolioField.empty(),this.portfolioField.append(e),this.paginationItem.off(),this.preparePaginator(),this.element.endWaiting()}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ImageZoom=can.Control.extend({pluginName:"appImageZoom",defaults:{}},{init:function(){var t={step1:[{img:"/local/templates/main/images/instrukcia_alfa_bank/step1_1.png"},{img:"/local/templates/main/images/instrukcia_alfa_bank/step1_2.png"}],step2:[{img:"/local/templates/main/images/instrukcia_alfa_bank/step2_1.png"},{img:"/local/templates/main/images/instrukcia_alfa_bank/step2_2.png"},{img:"/local/templates/main/images/instrukcia_alfa_bank/step2_3.png"}],step3:[{img:"/local/templates/main/images/instrukcia_alfa_bank/step3_1.png"},{img:"/local/templates/main/images/instrukcia_alfa_bank/step3_2.png"},{img:"/local/templates/main/images/instrukcia_alfa_bank/step3_3.png"}],step4:[{img:"/local/templates/main/images/instrukcia_alfa_bank/step4_1.png"},{img:"/local/templates/main/images/instrukcia_alfa_bank/step4_2.png"},{img:"/local/templates/main/images/instrukcia_alfa_bank/step4_3.png"},{img:"/local/templates/main/images/instrukcia_alfa_bank/step4_4.png"},{img:"/local/templates/main/images/instrukcia_alfa_bank/step4_5.png"}],step5:[{img:"/local/templates/main/images/instrukcia_alfa_bank/step5_1.png"}]},n="step1",i=e("#image-gallery-"+n),o=(t[n].length,1);e(".fancybox").fancybox({arrows:!1}),e(document).on("click mouseenter touchstart",".js-zoom-slide-select",(function(){o!=e(this).data("slidenum")&&(o=e(this).data("slidenum"),e(i).find(".fancybox").attr("href",t[n][o-1].img),e(i).find(".fancybox img").attr("src",t[n][o-1].img))})),e(document).on("click touchstart",".js-slider-zoom-lens",(function(t){e(this).parent(".slider-zoom-img").find(".fancybox").click()})),e(document).on("click",".js-zoom_tab",(function(){""!=e(this).data("step")&&e(this).data("step")!=n&&(n=e(this).data("step"),i=e("#image-gallery-"+n),t[n].length,o=1,e(i).find(".fancybox").attr("href",t[n][0].img),e(i).find(".fancybox img").attr("src",t[n][0].img))}))}})}(jQuery),function(e,t,n,i){"use strict";var o=function(){},r=e("body"),s=e(t),a=e(n);function l(e,t,n,i){return e/=i,-n*(--e*e*e*e-1)+t}!function(){for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[n[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[i]+"CancelAnimationFrame"]||t[n[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n,i){var o=(new Date).getTime(),r=Math.max(0,16-(o-e)),s=t.setTimeout((function(){n(o+r)}),r);return e=o+r,s}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)})}();var c='<div class="iv-loader"></div> <div class="iv-snap-view"><div class="iv-snap-image-wrap"><div class="iv-snap-handle"></div></div><div class="iv-zoom-slider"><div class="iv-zoom-handle"></div></div></div><div class="iv-image-view" ><div class="iv-image-wrap" ></div></div>';function u(e,t){this.container=e,this.onStart=t.onStart||o,this.onMove=t.onMove||o,this.onEnd=t.onEnd||o,this.sliderId=t.sliderId||"slider"+Math.ceil(1e6*Math.random())}function d(t,n){t.is("#iv-container")&&(this._fullPage=!0),this.container=t,n=this.options=e.extend({},d.defaults,n),this.zoomValue=100,t.find(".snap-view").length||t.prepend(c),t.addClass("iv-container"),"static"==t.css("position")&&t.css("position","relative"),this.snapView=t.find(".iv-snap-view"),this.snapImageWrap=t.find(".iv-snap-image-wrap"),this.imageWrap=t.find(".iv-image-wrap"),this.snapHandle=t.find(".iv-snap-handle"),this.zoomHandle=t.find(".iv-zoom-handle"),this._viewerId="iv"+Math.floor(1e6*Math.random())}e((function(){r.length||(r=e("body")),r.append('<div id="iv-container">'+c+'<div class="iv-close"></div><div>')})),u.prototype.init=function(){var e=this,t=(this.container,"."+this.sliderId);return this.container.on("touchstart"+t+" mousedown"+t,(function(n){n.preventDefault();var i=("touchstart"==n.type?"touchmove":"mousemove")+t,o=("touchstart"==n.type?"touchend":"mouseup")+t,r=n.originalEvent,s=r.clientX||r.touches[0].clientX,l=r.clientY||r.touches[0].clientY;if(!1!==e.onStart(n,{x:s,y:l})){var c=function(t){t.preventDefault();var n=(r=t.originalEvent).clientX||r.touches[0].clientX,i=r.clientY||r.touches[0].clientY;e.onMove(t,{dx:n-s,dy:i-l,mx:n,my:i})},u=function(){a.off(i,c),a.off(o,u),e.onEnd()};a.on(i,c),a.on(o,u)}})),this},d.prototype={constructor:d,_init:function(){var e=this,t=e.options,n=!1,i=this.container,o="."+e._viewerId,r=this.snapHandle,c=this.snapImageWrap,d=this.imageWrap,p=new u(c,{sliderId:e._viewerId,onStart:function(){if(!e.loaded)return!1;var t=r[0].style;this.curHandleTop=parseFloat(t.top),this.curHandleLeft=parseFloat(t.left),this.handleWidth=parseFloat(t.width),this.handleHeight=parseFloat(t.height),this.width=c.width(),this.height=c.height(),clearInterval(h.slideMomentumCheck),cancelAnimationFrame(h.sliderMomentumFrame)},onMove:function(t,n){var i=this.curHandleLeft+100*n.dx/this.width,o=this.curHandleTop+100*n.dy/this.height;i=Math.max(0,i),i=Math.min(100-this.handleWidth,i),o=Math.max(0,o),o=Math.min(100-this.handleHeight,o);var s=e.containerDim,a=e.imageDim.w*(e.zoomValue/100),l=e.imageDim.h*(e.zoomValue/100),c=a<s.w?(s.w-a)/2:-a*i/100,u=l<s.h?(s.h-l)/2:-l*o/100;r.css({top:o+"%",left:i+"%"}),e.currentImg.css({left:c,top:u})}}).init(),h=e._imageSlider=new u(d,{sliderId:e._viewerId,onStart:function(t,i){if(!e.loaded)return!1;if(!n){var o=this;p.onStart(),o.imgWidth=e.imageDim.w*e.zoomValue/100,o.imgHeight=e.imageDim.h*e.zoomValue/100,o.positions=[i,i],o.startPosition=i,e._clearFrames(),o.slideMomentumCheck=setInterval((function(){o.currentPos&&(o.positions.shift(),o.positions.push({x:o.currentPos.mx,y:o.currentPos.my}))}),50)}},onMove:function(e,t){n||(this.currentPos=t,p.onMove(e,{dx:-t.dx*p.width/this.imgWidth,dy:-t.dy*p.height/this.imgHeight}))},onEnd:function(){if(!n){var e=this,t=this.positions[1].x-this.positions[0].x,i=this.positions[1].y-this.positions[0].y;if(Math.abs(t)>30||Math.abs(i)>30){var o=1,r=e.currentPos.dx,s=e.currentPos.dy;!function n(){o<=60&&(e.sliderMomentumFrame=requestAnimationFrame(n)),r+=l(o,t/3,-t/3,60),s+=l(o,i/3,-i/3,60),p.onMove(null,{dx:-r*p.width/e.imgWidth,dy:-s*p.height/e.imgHeight}),o++}()}}}}).init(),f=0;d.on("mousewheel"+o+" DOMMouseScroll"+o,(function(n){if(t.zoomOnMouseWheel&&e.loaded){e._clearFrames();var o=Math.max(-1,Math.min(1,n.originalEvent.wheelDelta||-n.originalEvent.detail)),r=e.zoomValue*(100+15*o)/100;if(r>=100&&r<=t.maxZoom?f=0:f+=Math.abs(o),!(f>5)){n.preventDefault();var s=i.offset(),a=(n.pageX||n.originalEvent.pageX)-s.left,l=(n.pageY||n.originalEvent.pageY)-s.top;e.zoom(r,{x:a,y:l}),b()}}})),d.on("touchstart"+o,(function(t){if(e.loaded){var o=t.originalEvent.touches[0],r=t.originalEvent.touches[1];if(o&&r){n=!0;var s=i.offset(),l=Math.sqrt(Math.pow(r.pageX-o.pageX,2)+Math.pow(r.pageY-o.pageY,2)),c=e.zoomValue,u={x:(r.pageX+o.pageX)/2-s.left,y:(r.pageY+o.pageY)/2-s.top},d=function(t){t.preventDefault();var n=t.originalEvent.touches[0],i=t.originalEvent.touches[1],o=Math.sqrt(Math.pow(i.pageX-n.pageX,2)+Math.pow(i.pageY-n.pageY,2)),r=c+(o-l)/2;e.zoom(r,u)},p=function(){a.off("touchmove",d),a.off("touchend",p),n=!1};a.on("touchmove",d),a.on("touchend",p)}}}));var m,g;d.on("mousedown"+o+" touchstart"+o,(function(e){m={x:0,y:0},void 0!==e.pageX?(m.x=e.pageX,m.y=e.pageY):(m.x=e.originalEvent.touches[0].pageX,m.y=e.originalEvent.touches[0].pageY)})),d.on("mouseup"+o+" touchend"+o,(function(n){if(g={x:0,y:0},void 0!==n.pageX?(g.x=n.pageX,g.y=n.pageY):(g.x=n.originalEvent.changedTouches[0].pageX,g.y=n.originalEvent.changedTouches[0].pageY),Math.abs(g.x-m.x)<50&&Math.abs(g.y-m.y)<50)if(e.zoomValue==t.maxZoom)e.zoom(100);else for(var i=2;i<=t.maxZoom/100;i++)if(e.zoomValue/100<i){e.zoom(100*i);break}}));var v,y,_=e.snapView.find(".iv-zoom-slider");new u(_,{sliderId:e._viewerId,onStart:function(t){if(!e.loaded)return!1;this.leftOffset=_.offset().left,this.handleWidth=e.zoomHandle.width(),this.onMove(t)},onMove:function(n,i){var o=(n.pageX||n.originalEvent.touches[0].pageX)-this.leftOffset-this.handleWidth/2;o=Math.max(0,o),o=Math.min(e._zoomSliderLength,o);var r=100+(t.maxZoom-100)*o/e._zoomSliderLength;e.zoom(r)}}).init();function b(n){t.snapView&&(y||e.zoomValue<=100||!e.loaded||(clearTimeout(v),y=!0,e.snapView.css("opacity",1),n||(v=setTimeout((function(){e.snapView.css("opacity",0),y=!1}),4e3))))}d.on("touchmove"+o+" mousemove"+o,(function(){b()}));var w={};w["mouseenter"+o+" touchstart"+o]=function(){y=!1,b(!0)},w["mouseleave"+o+" touchend"+o]=function(){y=!1,b()},e.snapView.on(w),t.refreshOnResize&&s.on("resize"+o,(function(){e.refresh()})),e._fullPage&&(i.on("touchmove"+o+" mousewheel"+o+" DOMMouseScroll"+o,(function(e){e.preventDefault()})),i.find(".iv-close").on("click"+o,(function(){e.hide()})))},zoom:function(e,t){e=Math.round(Math.max(100,e)),e=Math.min(this.options.maxZoom,e),t=t||{x:this.containerDim.w/2,y:this.containerDim.h/2};var n=this,i=this.options.maxZoom,o=this.zoomValue,r=this.currentImg,s=this.containerDim,a=parseFloat(r.css("left")),c=parseFloat(r.css("top"));n._clearFrames();var u=0,d=(s=n.containerDim,n.imageDim),p=(s.w-d.w)/2,h=(s.h-d.h)/2,f=s.w-p,m=s.h-h;!function s(){++u<20&&(n._zoomFrame=requestAnimationFrame(s));var d=l(u,o,e-o,20),g=d/o,v=n.imageDim.w*d/100,y=n.imageDim.h*d/100,_=-((t.x-a)*g-t.x),b=-((t.y-c)*g-t.y);_=Math.min(_,p),b=Math.min(b,h),_+v<f&&(_=f-v),b+y<m&&(b=m-y),r.css({height:y+"px",width:v+"px",left:_+"px",top:b+"px"}),n.zoomValue=d,n._resizeHandle(v,y,_,b),n.zoomHandle.css("left",(d-100)*n._zoomSliderLength/(i-100)+"px")}()},_clearFrames:function(){clearInterval(this._imageSlider.slideMomentumCheck),cancelAnimationFrame(this._imageSlider.sliderMomentumFrame),cancelAnimationFrame(this._zoomFrame)},resetZoom:function(){this.zoom(this.options.zoomValue)},_calculateDimensions:function(){var e=this.currentImg,t=this.container,n=this.snapView,i=e.width(),o=e.height(),r=t.width(),s=t.height(),a=n.innerWidth(),l=n.innerHeight();this.containerDim={w:r,h:s};var c,u,d=i/o;u=(c=i>o&&s>=r||d*s>r?r:d*s)/d,this.imageDim={w:c,h:u},e.css({width:c+"px",height:u+"px",left:(r-c)/2+"px",top:(s-u)/2+"px","max-width":"none","max-height":"none"});var p=c>u?a:c*l/u,h=u>c?l:u*a/c;this.snapImageDim={w:p,h:h},this.snapImg.css({width:p,height:h}),this._zoomSliderLength=a-this.zoomHandle.outerWidth()},refresh:function(){this.loaded&&(this._calculateDimensions(),this.resetZoom())},_resizeHandle:function(e,t,n,i){var o=this.currentImg,r=e||this.imageDim.w*this.zoomValue/100,s=t||this.imageDim.h*this.zoomValue/100,a=Math.max(100*-(n||parseFloat(o.css("left")))/r,0),l=Math.max(100*-(i||parseFloat(o.css("top")))/s,0),c=Math.min(100*this.containerDim.w/r,100),u=Math.min(100*this.containerDim.h/s,100);this.snapHandle.css({top:l+"%",left:a+"%",width:c+"%",height:u+"%"})},show:function(e,t){this._fullPage&&(this.container.show(),e&&this.load(e,t))},hide:function(){this._fullPage&&this.container.hide()},options:function(e,t){if(!t)return this.options[e];this.options[e]=t},destroy:function(e,t){var n="."+this._viewerId;return this._fullPage?(container.off(n),container.find('[class^="iv"]').off(n)):this.container.remove('[class^="iv"]'),s.off(n),null},load:function(t,n){var i=this,o=this.container;o.find(".iv-snap-image,.iv-large-image").remove(),this.container.find(".iv-snap-image-wrap").prepend('<img class="iv-snap-image" src="'+t+'" />'),this.imageWrap.prepend('<img class="iv-large-image" src="'+t+'" />'),n&&this.imageWrap.append('<img class="iv-large-image" src="'+n+'" />');var r,s=this.currentImg=this.container.find(".iv-large-image");function a(){i.loaded=!0,i.zoomValue=100,s.show(),i.snapImg.show(),i.refresh(),i.resetZoom(),o.find(".iv-loader").hide()}this.snapImg=this.container.find(".iv-snap-image"),i.loaded=!1,o.find(".iv-loader").show(),s.hide(),i.snapImg.hide(),!(r=s[0]).complete||void 0!==r.naturalWidth&&0===r.naturalWidth?e(s[0]).on("load",a):a()}},d.defaults={zoomValue:100,snapView:!0,maxZoom:500,refreshOnResize:!0,zoomOnMouseWheel:!0},t.ImageViewer=function(t,n){var i,o,r;t&&("string"==typeof t||t instanceof Element||t[0]instanceof Element)||(n=t,t=e("#iv-container")),(t=e(t)).is("img")?(o=(i=t)[0].src,r=i.attr("high-res-src")||i.attr("data-high-res-src"),t=i.wrap('<div class="iv-container" style="display:inline-block; overflow:hidden"></div>').parent(),i.css({opacity:0,position:"relative",zIndex:-1})):(o=t.attr("src")||t.attr("data-src"),r=t.attr("high-res-src")||t.attr("data-high-res-src"));var s=new d(t,n);return s._init(),o&&s.load(o,r),s},e.fn.ImageViewer=function(n){return this.each((function(){var i=e(this),o=t.ImageViewer(i,n);i.data("ImageViewer",o)}))}}(window.jQuery,window,document),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Ajax=can.Control.extend({pluginName:"appWidgetEventFormAjax",defaults:{ZATOgateway:"/ajax/interface/zato/"}},{init:function(){this.form=this.element.find("form"),this.formName=this.form.attr("name"),this.gateway=this.form.attr("action"),this.KISDirection=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),this.KISComment=this.form.find('input[data-fieldtype="KIS_COMMENT"]').val(),this.KISType=this.form.find('input[data-fieldtype="TYPE"]').val(),this.KISCode=this.form.find('input[data-fieldtype="CODE"]').val(),"function"==typeof GTMpushEventLoadForm&&GTMpushEventLoadForm(this.formName),this.form.data("validate")&&!this.form.data("validate-nomsg")?this.form.validate(window.application.validateOptionsDefault):this.form.validate(window.application.validateOptionsNoMsg),this.form.find('input[data-fieldtype="FORM_REGION"]').val(Geo.region);var e="";e="undefined"==typeof waTrack?getGAClientID():waTrack.clientID,this.form.find('input[data-fieldtype="FORM_CID"]').val(e),this.form.find('input[data-fieldtype="FORM_URL"]').val(window.location.toString()),this.formTouchEvent(),this.on(this.form,"submit","submitForm")},getNotRusLang:function(){var e=window.location.pathname.split("/");return-1!==["en","de","fr"].indexOf(e[1])},formTouchEvent:function(){var e=this,t=this.form.find(":input");function n(){e.formTouch||(e.formTouch=!0,t.off("focus",n),t.off("change",n),"function"==typeof GTMpushEventTouchForm&&GTMpushEventTouchForm(e.formName))}e.formTouch=!1,t.on("focus",n),t.on("change",n)},exportFieldsZATO:function(){if("undefined"==typeof SubmitSender2Mail2CT);else if(this.KISDirection&&this.KISDirection.length){var t={};t.name=this.form.find('input[data-fieldtype="NAME"]').val(),t.phone=this.form.find('input[data-fieldtype="PHONE"]').val(),t.direction=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),t.clientId=this.form.find('input[data-fieldtype="FORM_CID"]').val(),t.inUrl=this.form.find('input[data-fieldtype="FORM_URL"]').val(),t.email=this.form.find('input[data-fieldtype="EMAIL"]').val(),t.autocall=!(this.getNotRusLang()||t.phone.length<=0),t.comment="",this.KISComment&&(t.comment+=this.KISComment),this.form.find('*[data-fieldtype="FORM_COMMENT"]').val()&&(t.comment+=" "+this.form.find('*[data-fieldtype="FORM_COMMENT"]').val()),this.form.find('input[data-fieldtype="COMPANY"]').val()&&(t.comment+=" Название компании:"+this.form.find('input[data-fieldtype="COMPANY"]').val()),this.form.find('input[data-fieldtype="STATUS"]:checked').attr("data-name")&&(t.comment+=" Статус:"+this.form.find('input[data-fieldtype="STATUS"]:checked').attr("data-name"));var n,i={ZATO:SubmitSender2Mail2CT(t)};n&&4!=n.readyState&&n.abort(),n=e.post(this.options.ZATOgateway,i)}},submitForm:function(t,n){if(n.preventDefault(),this.form.data("validate")&&!this.form.valid())return!1;var i;this.form.startWaiting(),i&&4!=i.readyState&&i.abort(),i=e.ajax({type:"POST",url:this.gateway,data:this.form.serialize(),success:this.proxy("doneSubmit"),error:this.proxy("failSubmit"),dataType:"json"}),console.log(this.form.serialize())},doneSubmit:function(t){this.exportFieldsZATO(),this.form[0].reset(),this.form.endWaiting(),"function"==typeof GTMpushEventSendForm&&("table"==this.KISType||"breakfast"==this.KISType?this.eventName="formSeminarSent":"webinar"==this.KISType?this.eventName="formWebinarSent":"recording"==this.KISType?this.eventName="formWebinarRecSent":this.eventName=this.formName,GTMpushEventSendForm(this.eventName)),this.on(this.form,"submit","submitForm"),t=jQuery.parseJSON(JSON.stringify(t)),this.element.html(t.html),e.fancybox.update(),setTimeout((function(){e.fancybox.update()}),1500)},failSubmit:function(e){console.log(e)}})}(jQuery),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Ajax=can.Control.extend({pluginName:"appWidgetFormAjax",defaults:{ZATOgateway:"/ajax/interface/zato/",demoAccessGateway:"/ajax/interface/demoaccess/"}},{init:function(){this.form=this.element.find("form"),this.formName=this.form.attr("name"),this.gtmCategory=this.form.attr("gtmcategory"),this.gateway=this.form.attr("action"),this.KISDirection=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),this.KISIdentity=this.form.attr("data-kis-identity"),this.customPosition=this.form.attr("data-custom-position"),this.KISComment=this.form.find('input[data-fieldtype="KIS_COMMENT"]').val(),this.KISType=0,this.formFio=this.form.find('input[data-fieldtype="FORM_NAME"]'),this.formComment=this.form.find('*[data-fieldtype="FORM_COMMENT"]'),this.formPhone=this.form.find('input[data-fieldtype="FORM_PHONE"]'),this.formEmail=this.form.find('input[data-fieldtype="FORM_EMAIL"]'),this.formWhatsapp=this.form.find('input[data-fieldtype="FORM_WHATSAPP"]'),this.formFacebook=this.form.find('input[data-fieldtype="FORM_FACEBOOK"]'),this.formSkype=this.form.find('input[data-fieldtype="FORM_SKYPE"]'),"POPUP_SUBSCRIPTION"==this.formName&&(this.formlabel=this.form.find("label.form__label--checkbox-inline")),this.formInterestCheckbox=this.form.find("label.form__field--checkboxes"),this.formInterest=this.form.find('*[data-fieldtype="FORM_CONCRETELY_INTERESTED"]'),this.phoneBut=this.form.find(".js-site-phone").find("a"),this.timeSelect=this.form.find('select[name="form_dropdown_FORM_TIME_TO_CALL"]'),this.getDemoaccess=this.form.attr("data-get-demoaccess");var t=this.form.find('input[data-fieldtype="KIS_TYPE"]');t.length>0&&t.val()&&(this.KISType=t.val()),"function"==typeof GTMpushEventLoadForm&&GTMpushEventLoadForm(this.formName,this.gtmCategory),this.form.data("validate")&&!this.form.data("validate-nomsg")?this.form.validate(window.application.validateOptionsDefault):this.form.validate(window.application.validateOptionsNoMsg),this.form.find('input[data-fieldtype="FORM_REGION"]').val(Geo.region);var n="";n="undefined"==typeof waTrack?getGAClientID():waTrack.clientID,this.form.find('input[data-fieldtype="FORM_CID"]').val(n),this.form.find('input[data-fieldtype="FORM_URL"]').val(window.location.toString()),this.formTouchEvent(),this.on(this.form,"submit","submitForm"),this.formFio&&(this.on(this.formFio,"change","changeName"),this.onceNameSend=!0),this.formComment&&(this.on(this.formComment,"change","changeComment"),this.onceCommentSend=!0),this.formPhone&&(this.on(this.formPhone,"change","changePhone"),this.oncePhoneSend=!0),this.formEmail&&(this.on(this.formEmail,"change","changeEmail"),this.onceEmailSend=!0),this.formWhatsapp&&(this.on(this.formWhatsapp,"change","changeWhatsapp"),this.onceWhatsappSend=!0),this.formFacebook&&(this.on(this.formFacebook,"change","changeFacebook"),this.onceFacebookSend=!0),this.formSkype&&(this.on(this.formSkype,"change","changeSkype"),this.onceSkypeSend=!0),this.phoneBut&&(this.on(this.phoneBut,"click","clickTel"),this.onceTelSend=!0),this.timeSelect&&(this.on(this.timeSelect,"change","changeTimeSelect"),this.onceSelectSend=!0),this.formInterest&&(this.on(this.formInterest,"change","changeInterest"),this.onceInterestSend=!0),this.formInterestCheckbox&&(self=this,this.formInterestCheckbox.each((function(t){self.on(e(this),"click","changeInterestCheckbox")}))),this.formlabel&&(this.checkboxOnce=[],self=this,this.formlabel.each((function(t){self.checkboxOnce.push(e(this).attr("for")),self.on(e(this),"click","changeCheckBox")})))},changeCheckBox:function(t,n){var i=e(t).attr("for"),o=this.inArray(i,this.checkboxOnce);this.form.data("validate")&&-1!=o&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,i),delete this.checkboxOnce[o])},inArray:function(e,t){var n=-1;return t.forEach((function(t,i){e===t&&(n=i)})),n},changeTimeSelect:function(e,t){this.form.data("validate")&&this.onceSelectSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_TIME"),this.onceSelectSend=!1)},clickTel:function(e,t){this.form.data("validate")&&this.onceTelSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_TEL"),this.onceTelSend=!1)},changeName:function(e,t){this.form.data("validate")&&this.onceNameSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_NAME"),this.onceNameSend=!1)},changeComment:function(e,t){this.form.data("validate")&&this.onceCommentSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_COMMENT"),this.onceCommentSend=!1)},changePhone:function(e,t){this.form.data("validate")&&this.oncePhoneSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_PHONE"),this.oncePhoneSend=!1)},changeEmail:function(e,t){this.form.data("validate")&&this.onceEmailSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_EMAIL"),this.onceEmailSend=!1)},changeWhatsapp:function(e,t){this.form.data("validate")&&this.onceWhatsappSend&&(GTMpushEventTouchForm(this.formWhatsapp,this.gtmCategory,"FORM_WHATSAPP"),this.onceWhatsappSend=!1)},changeFacebook:function(e,t){this.form.data("validate")&&this.onceFacebookSend&&(GTMpushEventTouchForm(this.formFacebook,this.gtmCategory,"FORM_FACEBOOK"),this.onceFacebookSend=!1)},changeSkype:function(e,t){this.form.data("validate")&&this.onceSkypeSend&&(GTMpushEventTouchForm(this.formSkype,this.gtmCategory,"FORM_SKYPE"),this.onceSkypeSend=!1)},changeInterest:function(e,t){this.form.data("validate")&&this.onceInterestSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_CONCRETELY_INTERESTED"),this.onceInterestSend=!1)},changeInterestCheckbox:function(t,n){this.form.data("validate")&&GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_INTERESTED_"+(e(t).index()+1))},formTouchEvent:function(){var e=this,t=this.form.find(":input");function n(){e.formTouch||(e.formTouch=!0,t.off("focus",n),t.off("change",n),"function"==typeof GTMpushEventTouchForm&&GTMpushEventTouchForm(e.formName))}e.formTouch=!1,t.on("focus",n),t.on("change",n)},getNotRusLang:function(){var e=window.location.pathname.split("/");return-1!==["en","de","fr"].indexOf(e[1])},exportFieldsZATO:function(){if("undefined"==typeof SubmitSender2Mail2CT)console.error("waTrack is undefined");else if(this.KISDirection&&this.KISDirection.length){var t={};t.name=this.form.find('input[data-fieldtype="FORM_NAME"]').val(),t.phone=this.form.find('input[data-fieldtype="FORM_PHONE"]').val(),t.direction=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),t.clientId=this.form.find('input[data-fieldtype="FORM_CID"]').val(),t.inUrl=this.form.find('input[data-fieldtype="FORM_URL"]').val(),t.email=this.form.find('input[data-fieldtype="FORM_EMAIL"]').val(),t.type=this.KISType,t.formIdentity=this.KISIdentity,t.autocall=!(this.getNotRusLang()||t.phone.length<=0);var n=this.form.find('[data-checkboxes="FORM_WHO"] input[type="checkbox"]:checked').data("val");t.position=n||this.customPosition;var i={};if("true"==this.getDemoaccess){var o={};""==t.name||"Аноним"==t.name?o.username=t.email:o.username=t.name,o.CID=t.clientId,o.Name=t.email,o.Email=t.email,o.Company="FRM",o.phoneNumber=t.phone,o.Position=t.position,i=this.getDemoaccessData(o)}if(i&&(t.access_demo=i),"FORM_UPRAVLENKA"==this.formName&&(t.callback=!1,t.autocall=!1),t.comment="","blog"===this.form.data("open-from")){var r=this.form.data("title");"string"==typeof r&&r.length>0&&(t.comment+="Тип услуги: "+r+"\n");var s=this.form.find('*[data-fieldtype="FORM_COMMENT"]').val();s.length&&(t.comment+="Комментарий: "+s)}else{this.form.find('input[data-fieldtype="FORM_WHATSAPP"]').val()&&(t.comment+="WhatsApp: "+this.form.find('input[data-fieldtype="FORM_WHATSAPP"]').val()+" "),this.form.find('input[data-fieldtype="FORM_FACEBOOK"]').val()&&(t.comment+="Facebook: "+this.form.find('input[data-fieldtype="FORM_FACEBOOK"]').val()+" "),this.form.find('input[data-fieldtype="FORM_SKYPE"]').val()&&(t.comment+="Skype:  "+this.form.find('input[data-fieldtype="FORM_SKYPE"]').val()+" "),this.KISComment&&(t.comment+=this.KISComment),this.form.find('*[data-fieldtype="FORM_COMMENT"]').val()&&(t.comment+=" "+this.form.find('*[data-fieldtype="FORM_COMMENT"]').val()),this.form.find('input[data-fieldtype="FORM_CORP"]').val()&&(t.comment+=" Название компании:"+this.form.find('input[data-fieldtype="FORM_CORP"]').val()),this.form.find('input[data-fieldtype="FORM_STATE_QTY"]').val()&&(t.comment+=" Штат (чел):"+this.form.find('input[data-fieldtype="FORM_STATE_QTY"]').val()),this.form.find('input[name="form_radio_FORM_STATUS"]:checked').attr("data-name")&&(t.comment+=" Статус:"+this.form.find('input[name="form_radio_FORM_STATUS"]:checked').attr("data-name")),this.form.find('input[data-fieldtype="FORM_OTHER"]').val()&&"Другое"==this.form.find('input[name="form_radio_FORM_STATUS"]:checked').attr("data-name")&&(t.comment+=" - "+this.form.find('input[data-fieldtype="FORM_OTHER"]').val());var a=[];e('input[data-fieldtype="FORM_THEME"]:checked').each((function(){a.push(e(this).closest(".form__field").find("label").text())})),a.length&&(t.comment+=" Темы: ["+a.join(", ")+"]"),this.form.find('input[data-fieldtype="FORM_THEME_OTHER"]').val()&&this.form.find('input[data-name="Предложить свою тему"]:checked')&&(t.comment+=" - "+this.form.find('input[data-fieldtype="FORM_THEME_OTHER"]').val());var l=this.form.find('[data-checkboxes="FORM_CITY"] input[type="checkbox"]:checked').data("name");l&&"Другое"!==l&&(t.city=l)}var c={ZATO:SubmitSender2Mail2CT(t)};e.post(this.options.ZATOgateway,c)}},submitForm:function(t,n){if(n.preventDefault(),this.form.data("validate")&&!this.form.valid())return"function"==typeof GTMpushEventErrorForm&&GTMpushEventErrorForm(this.formName,this.gtmCategory),!1;this.form.startWaiting(),e.post(this.gateway,this.form.serialize(),(function(){}),"json").done(this.proxy("doneSubmit")).fail(this.proxy("failSubmit"))},doneSubmit:function(t){this.exportFieldsZATO(),this.form[0].reset(),this.form.endWaiting(),"function"==typeof GTMpushEventSendForm&&GTMpushEventSendForm(this.formName,this.gtmCategory),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:e(t.html)})},failSubmit:function(t){"function"==typeof GTMpushEventErrorForm&&GTMpushEventErrorForm(this.formName,this.gtmCategory),this.element.html(e(t.responseText).html())},getDemoaccessData:function(t){var n=null;return e.ajax({async:!1,url:this.options.demoAccessGateway,data:t,dataType:"json"}).done((function(e){n="error"==e.ResultState?"error":"_"+e.Login+"&P="+e.Password})),n}})}(jQuery),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Default=can.Control.extend({pluginName:"appWidgetFormDefault"},{init:function(){this.form=this.element.find("form"),this.formName=this.form.attr("name"),this.gateway=this.form.attr("action"),this.gtmCategory=this.form.attr("gtmcategory"),this.formFio=this.form.find('input[data-fieldtype="FORM_NAME"]'),this.formComment=this.form.find('*[data-fieldtype="FORM_COMMENT"]'),this.formPhone=this.form.find('input[data-fieldtype="FORM_PHONE"]'),this.formEmail=this.form.find('input[data-fieldtype="FORM_EMAIL"]'),this.phoneBut=this.form.find(".js-site-phone").find("a"),this.form.data("validate")&&!this.form.data("validate-nomsg")?this.form.validate(window.application.validateOptionsDefault):this.form.validate(window.application.validateOptionsNoMsg),this.form.find('input[data-fieldtype="FORM_REGION"]').val(Geo.region);var e="";e="undefined"==typeof waTrack?getGAClientID():waTrack.clientID,this.form.find('input[data-fieldtype="FORM_CID"]').val(e),this.form.find('input[data-fieldtype="FORM_URL"]').val(window.location.toString()),this.on(this.form,"submit","submitForm"),this.formFio&&(this.on(this.formFio,"change","changeName"),this.onceNameSend=!0),this.formComment&&(this.on(this.formComment,"change","changeComment"),this.onceCommentSend=!0),this.formPhone&&(this.on(this.formPhone,"change","changePhone"),this.oncePhoneSend=!0),this.formEmail&&(this.on(this.formEmail,"change","changeEmail"),this.onceEmailSend=!0),this.phoneBut&&(this.on(this.phoneBut,"click","clickTel"),this.onceTelSend=!0)},clickTel:function(e,t){this.onceTelSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_TEL"),this.onceTelSend=!1)},changeName:function(e,t){this.form.data("validate")&&this.onceNameSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_NAME"),this.onceNameSend=!1)},changeComment:function(e,t){this.form.data("validate")&&this.onceCommentSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_COMMENT"),this.onceCommentSend=!1)},changePhone:function(e,t){this.form.data("validate")&&this.oncePhoneSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_PHONE"),this.oncePhoneSend=!1)},changeEmail:function(e,t){this.form.data("validate")&&this.onceEmailSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_EMAIL"),this.onceEmailSend=!1)},formTouchEvent:function(){var e=this,t=this.form.find(":input");function n(){e.formTouch||(e.formTouch=!0,t.off("focus",n),t.off("change",n),"function"==typeof GTMpushEventTouchForm&&GTMpushEventTouchForm(e.formName))}e.formTouch=!1,t.on("focus",n),t.on("change",n)},getNotRusLang:function(){var e=window.location.pathname.split("/");return-1!==["en","de","fr"].indexOf(e[1])},submitForm:function(t,n){if(n.preventDefault(),this.form.data("validate")&&!this.form.valid())return"function"==typeof GTMpushEventErrorForm&&GTMpushEventErrorForm(this.formName,this.gtmCategory),!1;this.form.startWaiting(),e.post(this.gateway,this.form.serialize(),(function(){}),"json").done(this.proxy("doneSubmit")).fail(this.proxy("failSubmit"))},doneSubmit:function(t){this.form[0].reset(),this.form.endWaiting(),"function"==typeof GTMpushEventSendForm&&GTMpushEventSendForm(this.formName,this.gtmCategory),"function"==typeof fbq&&fbq("track","Lead"),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:e(t.html)})},failSubmit:function(t){this.element.html(e(t.responseText).html()),"function"==typeof GTMpushEventErrorForm&&GTMpushEventErrorForm(this.formName,this.gtmCategory)}})}(jQuery),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Dummy=can.Control.extend({pluginName:"appWidgetFormDummy",defaults:{}},{init:function(){this.phoneCallOrderBtn=this.element.find(".js-form__phone-call-order-btn"),this.callOrderBtn=this.element.find(".js-form__call-order-btn"),this.contactsOrderBtn=this.element.find(".js-form__contacts-order-btn"),this.testResultOrderBtn=this.element.find(".js-form__test-results-order-btn"),this.userSurveyBtn=this.element.find(".js-form__user-survey-btn"),this.emailField=this.element.find(".js-form__email");var t=this;this.on(this.element,"submit","successMessage"),this.emailField.on("change",(function(n,i){var o=e(this).val();t.contactsOrderBtn.fancybox({content:'<div class="modal modal--visible"><div class="modal__title">Спасибо</div><p>Наши контакты отправлены на почту <b>'+o+"</b></p></div>",wrapCSS:"modal-wrapper",margin:e(window).width()>768?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}}})})),this.phoneCallOrderBtn.fancybox({content:'<div class="modal modal--visible"><div class="modal__title">Заявка отправлена</div><p>Спасибо! Наш специалист свяжется с Вами в ближайшее время.</p></div>',wrapCSS:"modal-wrapper",margin:e(window).width()>768?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}}}),this.userSurveyBtn.fancybox({content:'<div class="modal modal--visible"><div class="modal__title">Ваш голос учтен</div><p>Спасибо за ваше участие в опросе</p></div>',wrapCSS:"modal-wrapper",margin:e(window).width()>768?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}}}),this.testResultOrderBtn.fancybox({content:'<div class="modal modal--small modal--visible"><div class="modal__title">Спасибо</div><p>Ссылка отправлена на Вашу почту</p></div>',wrapCSS:"modal-wrapper",margin:e(window).width()>768?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}}}),this.callOrderBtn.fancybox({content:'<div class="modal modal--small modal--has-bg modal--visible"><div class="modal__title">Спасибо.</div><p>Мы свяжемся с вами в выбранное время.</p></div>',wrapCSS:"modal-wrapper",margin:e(window).width()>768?20:5,padding:0,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}}})},successMessage:function(e,t){t.preventDefault()}})}(jQuery),jQuery,App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Track=can.Control.extend({pluginName:"appWidgetFormTrack",defaults:{}},{init:function(){this.inputs=this.element.find("[data-fieldtype]"),this.element.find('input[data-fieldtype="FORM_REGION"]').val(Geo.region);var e="";e="undefined"==typeof waTrack?getGAClientID():waTrack.clientID,this.element.find('input[data-fieldtype="FORM_CID"]').val(e),this.element.find('input[data-fieldtype="FORM_URL"]').val(window.location.toString()),this.on(this.element,"submit","saveValues")},saveValues:function(e,t){console.log(this.inputs)}}),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Get=can.Control.extend({pluginName:"appWidgetEventFormGet",defaults:{formGatewayStartPath:"/ajax/forms/event_invite/"}},{init:function(){this.eventId=this.element.data("event-id")?this.element.data("event-id"):"",this.eventType=this.element.data("event-type")?this.element.data("event-type"):"",this.eventCode=this.element.data("event-code")?this.element.data("event-code"):"",this.on(this.element,"click","showForm")},showForm:function(t,n){var i=this.options.formGatewayStartPath+"?event_id="+this.eventId+"&event_type="+this.eventType+"&code="+this.eventCode;e.fancybox.open({href:i},{type:"ajax",autoSize:!0,wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:0,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},beforeShow:function(){window.application.installController(".js-event-form-ajax","appWidgetEventFormAjax")},afterShow:function(){e.fancybox.update()}})}})}(jQuery),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Get=can.Control.extend({pluginName:"appWidgetFormGetFile",defaults:{formGatewayStartPath:"/ajax/forms/"}},{init:function(){if(str=this.element.attr("href"),this.fileName=str.split("/").pop()?"&fileName="+str.split("/").pop():"",this.formName=this.element.data("form"),this.formLang=this.element.data("form-lang")?this.element.data("form-lang"):window.Lang?window.Lang:"ru",this.paramsId=this.element.data("id")?"&id="+this.element.data("id"):"",this.paramsCity=this.element.data("city")?this.element.data("city"):"","function"==typeof URL)var e=new URL(window.location.href).searchParams.get("show_callback");else e=this.getParams("show_callback");"Y"!=e||"form_for_callback"!=this.formName&&"business_raiffeisen"!=this.formName||this.showForm(),this.formName?this.on(this.element,"click","showForm"):console.error("data-form is not set for element:",this.element)},getParams:function(e){e=e.replace(/([\[\]])/g,"\\$1");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return t?t[1]:""},showForm:function(t,n){var i=this.options.formGatewayStartPath+this.formName+"/?LANG="+this.formLang+this.paramsId+this.fileName;e.fancybox.open({href:i},{type:"ajax",wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},beforeShow:function(){window.application.installController(".js-form-ajax","appWidgetFormAjax"),window.application.installController(".js-zero-contact-form","appPaymentFormZeroContact")}})}})}(jQuery),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Get=can.Control.extend({pluginName:"appWidgetFormGet",defaults:{formGatewayStartPath:"/ajax/forms/"}},{init:function(){if(this.formName=this.element.data("form"),this.formTitle=this.element.data("form-title"),this.formKisIdentity=this.element.data("kis-identity"),this.serviceCode=this.element.data("service-code"),this.serviceCode?this.serviceCode="&service="+this.serviceCode:this.serviceCode="",this.formTitle?this.formTitle="&name="+this.formTitle:this.formTitle="",this.formClose="N"!=this.element.data("close"),this.formPadding="N"==this.element.data("padding")?0:15,this.formOpenFrom=this.element.data("form-open-from"),this.formOpenFrom?this.formOpenFrom="&openFrom="+this.formOpenFrom:this.formOpenFrom="",this.formLang=this.element.data("form-lang")?this.element.data("form-lang"):window.Lang?window.Lang:"ru",this.paramsId=this.element.data("id")?"&id="+this.element.data("id"):"",this.paramsCity=this.element.data("city")?this.element.data("city"):"",this.formKisIdentity=this.element.data("kis-identity")?"&kis-identity="+this.element.data("kis-identity"):"",this.getDemoAccess=this.element.data("get-demoaccess")?"&get-demoaccess="+this.element.data("get-demoaccess"):"","function"==typeof URL)var e=new URL(window.location.href).searchParams.get("show_callback");else e=this.getParams("show_callback");"Y"!=e||"form_for_callback"!=this.formName&&"business_raiffeisen"!=this.formName||this.showForm(),this.formName?this.on(this.element,"click","showForm"):console.error("data-form is not set for element:",this.element)},getParams:function(e){e=e.replace(/([\[\]])/g,"\\$1");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return t?t[1]:""},showForm:function(t,n){n.preventDefault();var i=this.options.formGatewayStartPath+this.formName+"/?LANG="+this.formLang+this.paramsId+this.formTitle+this.formOpenFrom+this.serviceCode+this.formKisIdentity+this.getDemoAccess,o=this.formName,r=this.paramsCity,s=this.formPadding,a=this.formClose;e.fancybox.open({href:i},{type:"ajax",wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:s,closeBtn:a,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},beforeShow:function(){window.application.installController(".js-form-ajax","appWidgetFormAjax"),window.application.installController(".js-form-default","appWidgetFormDefault"),window.application.installController(".js-zero-contact-form","appPaymentFormZeroContact")},afterShow:function(){if("contact_us"==o||"contact_hans"==o){var t=e('form[name="CONTACT_US_FORM"]').find(".js-accordion");t.length<=0&&(t=e('form[name="Form_Main_Foreign"]').find(".js-accordion")),window.application.installController(t,"appWidgetAccordion")}if("contact_us"==o&&"spb"==r){var n=e(".modal--visible");n.find("a.js-site-phone-a").attr("title","+7 (812) 309-71-93"),n.find("a.js-site-phone-a").attr("href","tel:++78123097193"),n.find(".js-site-phone-ccode").text("812"),n.find(".js-site-phone-local").text("309-71-93")}"subscribe"==o&&window.application.installController('form[name="POPUP_SUBSCRIPTION"]',"appWidgetCheckSubscribeForm")}})}})}(jQuery),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Poll=can.Control.extend({pluginName:"appWidgetFormPoll",defaults:{}},{init:function(){this.gateway=this.element.attr("action"),this.on(this.element,"submit","submitForm")},submitForm:function(t,n){n.preventDefault(),this.element.startWaiting(),e.post(this.gateway,this.element.serialize(),this.proxy("showResult"))},showResult:function(t){"function"==typeof GTMpushEvent&&(GTMpushEvent("FormYouDontCallSent"),GTMpushEvent("SuccessSend")),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:t}),this.element.endWaiting()}})}(jQuery),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Subscribe=can.Control.extend({pluginName:"appWidgetSliderForm",defaults:{ZATOgateway:"/ajax/interface/zato/"}},{init:function(){this.form=this.element,this.formName=this.form.attr("name"),this.gateway=this.element.attr("action"),this.gtmCategory=this.form.attr("gtmcategory"),this.on(this.element,"submit","submitForm"),this.KISDirection=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),this.KISComment=this.form.find('input[data-fieldtype="KIS_COMMENT"]').val(),this.formFio=this.form.find('input[data-fieldtype="FORM_NAME"]'),this.formPhone=this.form.find('input[data-fieldtype="FORM_PHONE"]'),this.formFio&&(this.on(this.formFio,"change","changeName"),this.onceNameSend=!0),this.formPhone&&(this.on(this.formPhone,"change","changePhone"),this.oncePhoneSend=!0)},changePhone:function(e,t){this.element.data("validate")&&this.oncePhoneSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_PHONE"),this.oncePhoneSend=!1)},changeName:function(e,t){this.element.data("validate")&&this.onceNameSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_NAME"),this.onceNameSend=!1)},submitForm:function(t,n){if(n.preventDefault(),this.element.data("validate")&&!this.element.valid())return"function"==typeof GTMpushEventErrorForm&&GTMpushEventErrorForm(this.formName,this.gtmCategory),!1;this.element.startWaiting(),e.post(this.gateway,this.element.serialize(),this.proxy("showResult"))},showResult:function(t){this.exportFieldsZATO(),"function"==typeof GTMpushEventSendForm&&GTMpushEventSendForm(this.formName,this.gtmCategory);var n='<div class="modal modal--visible"><div class="modal__title">Заявка отправлена</div><p>Спасибо! Наш специалист свяжется с Вами в ближайшее время.</p></div>';"en"===window.location.pathname.split("/")[1]&&(n='<div class="modal modal--visible"><div class="modal__title">Thank you!</div><p>We will contact you at the chosen time!</p></div>'),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:n}),this.element.endWaiting()},getNotRusLang:function(){var e=window.location.pathname.split("/");return-1!==["en","de","fr"].indexOf(e[1])},exportFieldsZATO:function(){if("undefined"==typeof SubmitSender2Mail2CT)console.error("waTrack is undefined");else if(this.KISDirection&&this.KISDirection.length){var t={};t.name=this.form.find('input[data-fieldtype="FORM_NAME"]').val(),t.phone=this.form.find('input[data-fieldtype="FORM_PHONE"]').val(),t.direction=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),t.inUrl=this.form.find('input[data-fieldtype="FORM_URL"]').val(),t.formIdentity=this.form.attr("data-kis-identity"),t.autocall=!(this.getNotRusLang()||t.phone.length<=0),t.comment="",this.KISComment&&(t.comment+=this.KISComment),this.form.find('*[data-fieldtype="FORM_COMMENT"]').val()&&(t.comment+=" "+this.form.find('*[data-fieldtype="FORM_COMMENT"]').val());var n={ZATO:SubmitSender2Mail2CT(t)};e.post(this.options.ZATOgateway,n)}}})}(jQuery),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Subscribe=can.Control.extend({pluginName:"appWidgetFormSubscribe",defaults:{ZATOgateway:"/ajax/interface/zato/"}},{init:function(){this.form=this.element,this.KISDirection=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),this.KISComment=this.form.find('input[data-fieldtype="KIS_COMMENT"]').val(),this.KISType=this.form.find('input[data-fieldtype="KIS_TYPE"]').val(),this.form.find('input[data-fieldtype="FORM_REGION"]').val(Geo.region);var t="";t="undefined"==typeof waTrack?getGAClientID():waTrack.clientID,this.form.find('input[data-fieldtype="FORM_CID"]').val(t),this.form.find('input[data-fieldtype="FORM_URL"]').val(window.location.toString()),e('form[name="SUBSCRIPTION_BLOG"]').find(".js-icheckbox.rubrics").on("ifClicked",(function(){e('form[name="SUBSCRIPTION_BLOG"]').find(".js-icheckbox.rubrics").iCheck("uncheck"),e(this).iCheck("check")})),e('form[name="SUBSCRIPTION_BLOG"]').find(".js-icheckbox.cities").on("ifClicked",(function(){e('form[name="SUBSCRIPTION_BLOG"]').find(".js-icheckbox.cities").iCheck("uncheck"),e(this).iCheck("check")})),this.gateway=this.element.attr("action"),this.on(this.element,"submit","submitForm")},submitForm:function(t,n){if(n.preventDefault(),this.element.data("validate")&&!this.element.valid())return!1;this.element.startWaiting(),e.post(this.gateway,this.element.serialize(),this.proxy("showResult"))},showResult:function(t){0==e(t).find('input[name="subscribe_error"]').length&&(this.exportFieldsZATO(),"function"==typeof GTMpushEvent&&GTMpushEvent("InfoSubscriptionSent")),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:t}),this.element.endWaiting()},exportFieldsZATO:function(){if("undefined"==typeof SubmitSender2Mail2CT)console.error("waTrack is undefined");else if(this.KISDirection&&this.KISDirection.length){var t={name:"",phone:""};t.direction=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),t.clientId=this.form.find('input[data-fieldtype="FORM_CID"]').val(),t.inUrl=this.form.find('input[data-fieldtype="FORM_URL"]').val(),t.email=this.form.find('input[data-fieldtype="FORM_EMAIL"]').val(),t.type=this.KISType;var n=this.form.find('[data-checkboxes="FORM_WHO"] input[type="checkbox"]:checked').data("val");n&&(t.position=n);var i=this.form.find('[data-checkboxes="FORM_CITY"] input[type="checkbox"]:checked').data("name");i&&"Другое"!==i&&(t.city=i),t.comment="",this.KISComment&&(t.comment+=this.KISComment);var o={ZATO:SubmitSender2Mail2CT(t)};e.post(this.options.ZATOgateway,o)}}})}(jQuery),function(e){App.Widgets.Form=App.Widgets.Form||{},App.Widgets.Form.Ajax=can.Control.extend({pluginName:"appWidgetFormTestCollect",defaults:{ZATOgateway:"/ajax/interface/zato/",ZATOgatewayAction:"/ajax/interface/zato/action/"}},{init:function(){this.form=this.element.find("form"),this.formName=this.form.attr("name"),this.gateway=this.form.attr("action"),this.KISDirection=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),this.KISComment=this.form.find('input[data-fieldtype="KIS_COMMENT"]').val(),this.KISType=this.form.find('input[data-fieldtype="KIS_TYPE"]').val(),this.KISAction={type:this.form.find('input[data-fieldtype="FORM_KIS_ACTION"]').val(),email:this.form.find('input[data-fieldtype="CHIEF_EMAIL"]').val(),details:{accounting_type:this.form.find('input[data-fieldtype="ACCOUNTING_TYPE"]').val()}},this.KISActionContext={},this.form.find('input[data-fieldtype="FORM_REGION"]').val(Geo.region);var e="";e="undefined"==typeof waTrack?getGAClientID():waTrack.clientID,this.form.find('input[data-fieldtype="FORM_CID"]').val(e),this.form.find('input[data-fieldtype="FORM_URL"]').val(window.location.toString()),this.on(this.form,"submit","submitForm")},submitForm:function(t,n){if(n.preventDefault(),this.form.data("validate")&&!this.form.valid())return!1;this.form.startWaiting(),e.post(this.gateway,this.form.serialize(),(function(){}),"json").done(this.proxy("doneSubmit")).fail(this.proxy("failSubmit"))},doneSubmit:function(t){this.exportFieldsZATO(),this.prepareZATOAction(),this.form.endWaiting(),1==t.success&&(e.isEmptyObject(this.KISActionContext)||e.post(this.options.ZATOgatewayAction,this.KISActionContext),this.form.remove()),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:e(t.html)})},failSubmit:function(t){this.exportFieldsZATO(),this.element.html(e(t.responseText).html()),this.form=this.element.find("form"),this.gateway=this.form.attr("action"),this.on(this.form,"submit","submitForm")},exportFieldsZATO:function(){if("undefined"==typeof SubmitSender2Mail2CT)console.error("waTrack is undefined");else if(this.KISDirection&&this.KISDirection.length){var t={name:"",position:"",phone:""};t.direction=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),t.clientId=this.form.find('input[data-fieldtype="FORM_CID"]').val(),t.inUrl=this.form.find('input[data-fieldtype="FORM_URL"]').val(),t.email=this.form.find('input[data-fieldtype="FORM_EMAIL"]').val(),t.type=this.KISType,t.comment="",this.KISComment&&(t.comment+=this.KISComment);var n=this.form.find('[data-checkboxes="FORM_WHO"] input[type="radio"]:checked').data("name");n&&(t.comment+=" Кто вы: "+n,t.position=this.form.find('[data-checkboxes="FORM_WHO"] input[type="radio"]:checked').val());var i={ZATO:SubmitSender2Mail2CT(t)};e.post(this.options.ZATOgateway,i)}},prepareZATOAction:function(){if("undefined"==typeof SubmitAction2Mail2CT)console.error("waTrack is incorrect");else if(this.KISAction.type&&this.KISAction.type.length){this.KISAction.comment="";var e=this.form.find('input[data-fieldtype="FORM_EMAIL"]').val();e&&("1cwa_test_send"===this.KISAction.type?this.KISAction.comment+="Отправил тест для : ":"1cwa_test_completed"===this.KISAction.type&&(this.KISAction.comment+="Пройден тест : "),this.KISAction.comment+=e);var t=SubmitAction2Mail2CT(this.KISAction);this.KISActionContext={Action:t}}}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ClientsSlider=can.Control.extend({pluginName:"appWidgetClientsSlider",defaults:{}},{init:function(){this.element.owlCarousel({autoplay:!0,autoplayHoverPause:!0,autoplayTimeout:2e3,autoplaySpeed:700,loop:!0,nav:!1,responsive:{0:{items:1},200:{items:2},450:{items:3},600:{items:4},1e3:{items:5}}}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ContentSlider=can.Control.extend({pluginName:"appWidgetContentSlider",defaults:{}},{init:function(){this.scrollYTop=e(window).scrollTop(),this.windowHeight=e(window).height(),this.scrollYBottom=this.scrollYTop+this.windowHeight,this.elementOffsetTop=this.element.parent().offset().top,this.element.owlCarousel({items:1,autoplay:!0,autoplayHoverPause:!0,autoplayTimeout:1e4,autoplaySpeed:850,navSpeed:850,loop:!0,nav:!0,navText:"",autoHeight:!0}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))})),this.elementHeight=this.element.parent().outerHeight(),this.elementOffsetBottom=this.elementOffsetTop+this.elementHeight;var t=this;e(window).on("scroll",(function(){this.scrollYTop=e(window).scrollTop(),this.scrollYBottom=this.scrollYTop+t.windowHeight,this.scrollYBottom>t.elementOffsetTop&&this.scrollYTop<t.elementOffsetBottom?t.element.trigger("play.owl.autoplay",[1e4,850]):t.element.trigger("stop.owl.autoplay",[1e4,850])}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.DottedNavSlider=can.Control.extend({pluginName:"appWidgetDottedNavSliderNoAuto",defaults:{}},{init:function(){this.element.owlCarousel({items:1,loop:!0,dotsEach:!0,dotsSpeed:800,autoplay:!1,autoHeight:!0}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.DottedNavSlider=can.Control.extend({pluginName:"appWidgetDottedNavSlider",defaults:{}},{init:function(){this.element.owlCarousel({items:1,loop:!0,dotsEach:!0,dotsSpeed:800,autoplay:!0,autoplayTimeout:6e3,autoplaySpeed:800,autoplayHoverPause:!0}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.EmployeeReviewsSlider=can.Control.extend({pluginName:"appWidgetEmployeeReviewsSlider",defaults:{}},{init:function(){this.element.owlCarousel({items:1,navSpeed:850,loop:!0,nav:!0,navText:"",autoHeight:!0}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ImagesCarousel=can.Control.extend({pluginName:"appWidgetImagesCarousel",defaults:{}},{init:function(){this.element.owlCarousel({autoplay:!0,autoplayTimeout:2e3,autoplaySpeed:700,loop:!0,nav:!0,responsive:{0:{items:1,nav:!1},200:{items:2,nav:!1},605:{items:3,nav:!1},800:{items:4},980:{items:4}}}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.MainSlider=can.Control.extend({pluginName:"appWidgetMainSlider",defaults:{}},{isMouseLeave:!0,init:function(){var t=this.element;t.owlCarousel({items:1,loop:!0,dotsEach:!0,nav:!1,animateOut:"fadeOut",autoplay:!1,autoHeight:!0,mouseDrag:!1}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}));var n=this;t.on("mouseleave",(function(){n.isMouseLeave=!0})),t.on("mouseenter",(function(){n.isMouseLeave=!1})),this.slideNext()},slideNext:function(){var e=this.element,t=this;setTimeout((function(){t.isMouseLeave&&e.trigger("next.owl.carousel"),t.slideNext(!0)}),4500)}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.PartnersCarouselMob=can.Control.extend({pluginName:"appWidgetPartnersCarouselMob",defaults:{}},{init:function(){this.element.owlCarousel({loop:!0,nav:!1,dots:!0,responsive:{0:{items:2,nav:!1,margin:5},480:{items:3,nav:!1,margin:5}}}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.PartnersCarouselNav=can.Control.extend({pluginName:"appWidgetPartnersCarouselNav",defaults:{}},{init:function(){this.element.owlCarousel({autoplay:!0,autoplayTimeout:2e3,autoplaySpeed:700,loop:!0,nav:!0,dots:!1,responsive:{0:{nav:!1,margin:10,dots:!0,autoWidth:!0},425:{nav:!1,margin:10,dots:!0,autoWidth:!0},480:{nav:!1,margin:10,dots:!0,autoWidth:!0},768:{items:4,margin:10},980:{items:6,margin:30}}}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.PartnersCarousel=can.Control.extend({pluginName:"appWidgetPartnersCarousel",defaults:{}},{init:function(){this.element.owlCarousel({autoplay:!0,autoplayTimeout:2e3,autoplaySpeed:700,loop:!0,nav:!1,dots:!1,responsive:{0:{items:1,nav:!1,margin:10},425:{items:2,nav:!1,margin:10},480:{items:3,nav:!1,margin:10},768:{items:4,margin:10},980:{items:6,margin:20}}}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.Slider=can.Control.extend({pluginName:"appWidgetSlider",defaults:{}},{init:function(){this.element.owlCarousel({items:1,loop:!0,animateOut:"fadeOut",autoplay:!0,autoplayTimeout:3e3}),this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.SyncSlider=can.Control.extend({pluginName:"appWidgetSyncSlider",defaults:{}},{slidesPerPage:5,syncedSecondary:!1,init:function(){var t=this,n=this.element.find(".js-sync-slider-big"),i=this.element.find(".js-sync-slider-preview");this.element.find("img.lzy_img").each((function(){e(this).attr("src",e(this).data("src"))})),n.owlCarousel({items:1,loop:!0,dots:!1,nav:!0,animateOut:"fadeOut",autoplay:!0,autoplayHoverPause:!0,autoplayTimeout:5e3,autoHeight:!0,mouseDrag:!0,responsiveRefreshRate:200,responsive:{0:{nav:!1},800:{nav:!0}}}).on("changed.owl.carousel",(function(e){var t=e.item.count-1,n=Math.round(e.item.index-e.item.count/2-.5),o=i.find(".owl-item.active").length-1;n<0&&(n=t);n>t&&(n=0);i.find(".owl-item").removeClass("current").eq(n).addClass("current"),i.data("owl.carousel").to(n-o,100,!0)})),i.on("initialized.owl.carousel",(function(){i.find(".owl-item").eq(0).addClass("current")})).owlCarousel({margin:30,items:t.slidesPerPage,dots:!1,nav:!1,smartSpeed:200,slideSpeed:500,slideBy:t.slidesPerPage,responsiveRefreshRate:100,responsive:{0:{items:1},200:{items:2},605:{items:3},800:{items:4},980:{items:4}}}).on("changed.owl.carousel",(function(e){if(t.syncedSecondary){var i=e.item.index;n.data("owl.carousel").to(i,100,!0)}})),i.on("click",".owl-item",(function(t){t.preventDefault();var i=e(this).index();n.data("owl.carousel").to(i,300,!0)})),i.mouseover((function(){n.trigger("stop.owl.autoplay")})).mouseout((function(){n.trigger("play.owl.autoplay",[5e3])}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.MobileAppTabs=can.Control.extend({pluginName:"appWidgetMobileAppTabs",defaults:{}},{init:function(){this.elementHeight=this.element.outerHeight(),this.tab=this.element.find(".js-mobile-app-tabs__tab"),this.tabContainer=this.element.find(".js-mobile-app-tabs__container"),this.tabContainerHeight=this.tabContainer.outerHeight(),this.tabContent=this.element.find(".js-mobile-app-tabs__content"),this.pushPoint=this.tabContainer.offset().top,this.stopPoint=this.pushPoint+this.elementHeight-this.tabContainerHeight,this.scrollYTop=e(window).scrollTop(),this.on(this.tab,"mouseover","switchTabOnHover")},switchTabOnHover:function(t,n){this.tab.removeClass("active"),t.addClass("active");var i=t.data("id");this.tabContent.removeClass("active"),e("#"+i).addClass("active")},"{window} scroll":function(t){this.scrollYTop=e(window).scrollTop(),this.scrollYTop>this.pushPoint&&this.scrollYTop<this.stopPoint?(this.tabContainer.addClass("sticky"),this.tabContainer.removeClass("not-sticky")):this.scrollYTop>this.stopPoint?(this.tabContainer.removeClass("sticky"),this.tabContainer.addClass("not-sticky")):(this.tabContainer.removeClass("sticky"),this.tabContainer.removeClass("not-sticky"))},"{window} resize":function(){this.elementHeight=this.element.outerHeight(),this.stopPoint=this.pushPoint+this.elementHeight-this.tabContainerHeight,this.scrollYTop>this.pushPoint&&this.scrollYTop<this.stopPoint?(this.tabContainer.addClass("sticky"),this.tabContainer.removeClass("not-sticky")):this.scrollYTop>this.stopPoint?(this.tabContainer.removeClass("sticky"),this.tabContainer.addClass("not-sticky")):(this.tabContainer.removeClass("sticky"),this.tabContainer.removeClass("not-sticky"))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.OvalTabs=can.Control.extend({pluginName:"appWidgetOvalTabs",defaults:{}},{init:function(){this.tabContentIdIdArray=[],this.tab=this.element.find(".js-oval-tabs__tab"),this.tabContent=this.element.find(".js-oval-tabs__content"),this.scrollTo=!1;var t=this;this.on(this.tab,"click","switchTabOnClick"),this.tab.each((function(){this.tabContentId=e(this).data("id"),t.tabContentIdIdArray.push(this.tabContentId)}));var n=new URI(window.location.href);if(n.fragmentPrefix("!"),n.fragment(!0)){var i=n.fragment(!0);"oval-tabs"in i&&(this.lochash=i["oval-tabs"]),"scroll-to"in i&&(this.scrollTo=i["scroll-to"])}this.tabContentIdIdArray.forEach((function(e){t.lochash===e&&t.element.find("[data-id="+e+"]").click()})),t.scrollTo&&e("html, body").animate({scrollTop:e("#"+t.scrollTo).offset().top-60},1500)},switchTabOnClick:function(t,n){this.tab.removeClass("active"),t.addClass("active");var i=t.data("id");this.tabContent.removeClass("active"),e("#"+i).addClass("active")}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.Tabs=can.Control.extend({pluginName:"appWidgetTabs",defaults:{}},{init:function(){this.tabContentIdIdArray=[],this.tab=this.element.find(".js-tabs__tab"),this.tabContent=this.element.find(".js-tabs__content"),this.pieTab=this.element.find(".js-tabs__pie-tab");var t=this;if(this.on(this.tab,"click","switchTabOnClick"),this.on(this.pieTab,"click","switchPieTabOnClick"),this.element.hasClass("js-tabs--transformer")&&(this.selectMenu=this.element.find(".js-tabs__select-menu"),this.tabsList=this.element.find(".js-tabs__list"),this.on(this.selectMenu,"click","showTabsOnClick")),this.element.hasClass("js-tabs--autoswitch")){var n=setInterval(()=>{this.tabsAutoSwitch(this.element)},2e3);this.on(this.tab,"click",()=>{clearInterval(n)}),this.on(this.tabContent,"mouseover",()=>{clearInterval(n)})}this.tab.each((function(){this.tabContentId=e(this).data("id"),t.tabContentIdIdArray.push(this.tabContentId)})),window.location.hash&&(this.lochash=window.location.hash.substring(1)),this.tabContentIdIdArray.forEach((function(e){itemArr=e.split(" "),itemArr.forEach((function(e){t.lochash===e&&t.element.find("[data-id~="+e+"]").click()}))}))},switchTabOnClick:function(t,n){this.tab.removeClass("active"),t.addClass("active");var i=t.data("id").split(" ")[0];if(this.tabContent.removeClass("active"),e("#"+i).addClass("active"),this.element.hasClass("js-tabs--horizontal")){var o=t.data("color"),r=[];e(".js-tabs--horizontal .js-tabs__tab").each((function(){var t=e(this).data("color");r.push(t)}));for(var s=0;s<r.length;s++){var a=r[s];t.parent().removeClass("horizontal-tabs__list--"+a).addClass("horizontal-tabs__list--"+o)}}if(this.element.hasClass("js-tabs--pie-tabs")){var l=t.data("pie");r=[];e(".js-tabs--pie-tabs .js-tabs__tab").each((function(){var t=e(this).data("pie");r.push(t)}));for(s=0;s<r.length;s++){a=r[s];t.parent().removeClass("pie-tabs__list--"+a).addClass("pie-tabs__list--"+l)}}this.element.hasClass("js-tabs--transformer")&&(this.activeTabText=t.text(),this.selectMenu.text(this.activeTabText),this.showTabsOnClick())},switchPieTabOnClick:function(t,n){this.pieTab.removeClass("active"),t.addClass("active");var i=t.data("id").split(" ")[0];this.tabContent.removeClass("active"),e("#"+i).addClass("active"),e(this.tab).filter('[data-id~="'+i+'"]').click()},showTabsOnClick:function(t,n){(e(window).width()<783&&this.element.hasClass("js-tabs--vertical")||e(window).width()<983&&this.element.hasClass("js-tabs--vertical-large")||e(window).width()<1003&&this.element.hasClass("js-tabs--horizontal"))&&this.tabsList.slideToggle("fast")},tabsAutoSwitch:function(t){var n=this.tab.filter(".active"),i=this.tabContent.filter(".active");n.removeClass("active"),n.next().addClass("active"),n.is(":last-child")&&this.tab.eq(0).addClass("active");var o=(n=this.tab.filter(".active")).data("id").split(" ")[0];i.removeClass("active"),e("#"+o).addClass("active")}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ZeroReportingOrder=can.Control.extend({pluginName:"appPaymentFormZeroContact",defaults:{ZATOgateway:"/ajax/interface/zato/"}},{init:function(){this.form=this.element.find("form"),this.formName=this.form.attr("name"),this.gateway=this.form.attr("action"),this.gtmCategory=this.form.attr("gtmcategory"),this.formFio=this.form.find('input[data-fieldtype="FORM_NAME"]'),this.formComment=this.form.find('*[data-fieldtype="FORM_COMMENT"]'),this.formPhone=this.form.find('input[data-fieldtype="FORM_PHONE"]'),this.formEmail=this.form.find('input[data-fieldtype="FORM_EMAIL"]'),this.phoneBut=this.form.find(".js-site-phone-a"),this.payBut=this.form.find(".js-zcf2pay"),this.KISDirection=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),this.KISComment=this.form.find('input[data-fieldtype="KIS_COMMENT"]').val(),"function"==typeof GTMpushEventLoadForm&&GTMpushEventLoadForm(this.formName),this.form.data("validate")&&!this.form.data("validate-nomsg")?this.form.validate(window.application.validateOptionsDefault):this.form.validate(window.application.validateOptionsNoMsg),this.form.find('input[data-fieldtype="FORM_IP"]').val(Geo.ip),this.form.find('input[data-fieldtype="FORM_SERVICE"]').val(App.ZeroWebFormValues.service),this.form.find('input[data-fieldtype="FORM_REGION"]').val(Geo.region);var e="";e="undefined"==typeof waTrack?getGAClientID():waTrack.clientID,this.form.find('input[data-fieldtype="FORM_CID"]').val(e),this.formTouchEvent(),this.on(this.form,"submit","submitForm"),this.formFio&&(this.on(this.formFio,"change","changeName"),this.onceNameSend=!0),this.formComment&&(this.on(this.formComment,"change","changeComment"),this.onceCommentSend=!0),this.formPhone&&(this.on(this.formPhone,"change","changePhone"),this.oncePhoneSend=!0),this.formEmail&&(this.on(this.formEmail,"change","changeEmail"),this.onceEmailSend=!0),this.phoneBut&&(this.on(this.phoneBut,"click","clickTel"),this.onceTelSend=!0),this.payBut&&(this.oncePaySend=!0)},clickTel:function(e,t){this.onceTelSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_TEL"),this.onceTelSend=!1)},changeName:function(e,t){this.form.data("validate")&&this.onceNameSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_NAME"),this.onceNameSend=!1)},changeComment:function(e,t){this.form.data("validate")&&this.onceCommentSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_COMMENT"),this.onceCommentSend=!1)},changePhone:function(e,t){this.form.data("validate")&&this.oncePhoneSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_PHONE"),this.oncePhoneSend=!1)},changeEmail:function(e,t){this.form.data("validate")&&this.onceEmailSend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_EMAIL"),this.onceEmailSend=!1)},formTouchEvent:function(){var e=this,t=this.form.find(":input");function n(){e.formTouch||(e.formTouch=!0,t.off("focus",n),t.off("change",n),"function"==typeof GTMpushEventTouchForm&&GTMpushEventTouchForm(e.formName))}e.formTouch=!1,t.on("focus",n),t.on("change",n)},submitForm:function(t,n){if(n.preventDefault(),this.form.data("validate")&&!this.form.valid())return"function"==typeof GTMpushEventErrorForm&&GTMpushEventErrorForm(this.formName,this.gtmCategory),!1;this.form.startWaiting(),e.post(this.gateway,this.form.serialize(),(function(){}),"json").done(this.proxy("doneSubmit")).fail(this.proxy("failSubmit"))},doneSubmit:function(t){this.exportFieldsZATO(),"function"==typeof GTMpushEventSendForm&&GTMpushEventSendForm(this.formName,this.gtmCategory),e.fancybox({wrapCSS:"modal-wrapper",margin:e(window).width()>937?20:5,padding:15,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.5)"}}},content:e(t.html)})},failSubmit:function(t){"function"==typeof GTMpushEventErrorForm&&GTMpushEventErrorForm(this.formName,this.gtmCategory),this.element.html(e(t.responseText).html()),this.form=this.element.find("form"),this.gateway=this.form.attr("action"),this.on(this.form,"submit","submitForm")},exportFieldsZATO:function(){if("undefined"==typeof SubmitSender2Mail2CT)console.error("waTrack is undefined");else if(this.KISDirection.length){var t={};t.name=this.form.find('input[data-fieldtype="FORM_NAME"]').val(),t.phone=this.form.find('input[data-fieldtype="FORM_PHONE"]').val(),t.direction=this.form.find('input[data-fieldtype="FORM_DIRECTION"]').val(),t.clientId=this.form.find('input[data-fieldtype="FORM_CID"]').val(),t.inUrl=this.form.find('input[data-fieldtype="FORM_URL"]').val(),t.email=this.form.find('input[data-fieldtype="FORM_EMAIL"]').val(),t.comment="",this.KISComment&&(t.comment+=this.KISComment),this.form.find('*[data-fieldtype="FORM_COMMENT"]').val()&&(t.comment+=" "+this.form.find('*[data-fieldtype="FORM_COMMENT"]').val());var n={ZATO:SubmitSender2Mail2CT(t)};e.post(this.options.ZATOgateway,n)}},".js-zcf2pay click":function(e,t){if(Cookies.set("ZeroWebFormValues_name",this.form.find('input[data-fieldtype="FORM_NAME"]').val()),Cookies.set("ZeroWebFormValues_phone",this.form.find('input[data-fieldtype="FORM_PHONE"]').val()),Cookies.set("ZeroWebFormValues_email",this.form.find('input[data-fieldtype="FORM_EMAIL"]').val()),Cookies.set("ZeroWebFormValues_inn",this.form.find('input[data-fieldtype="FORM_INN"]').val()),Cookies.set("ZeroWebFormValues_service",this.form.find('input[data-fieldtype="FORM_SERVICE"]').val()),Cookies.set("ZeroWebFormValues_comment",this.form.find('*[data-fieldtype="FORM_COMMENT"]').val()),this.oncePaySend&&(GTMpushEventTouchForm(this.formName,this.gtmCategory,"FORM_PAY"),this.oncePaySend=!1),this.form.data("validate")&&!this.form.valid())return t.preventDefault(),!1}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ZeroReportingOrder=can.Control.extend({pluginName:"appWidgetZeroReportingOrder",defaults:{}},{init:function(){this.option=this.element.find(".js-zero-reporting-order__option"),this.optionPrice=this.element.find(".js-zero-reporting-order__option-price"),this.totalPrice=this.element.find(".js-zero-reporting-order__total-price");var t=this;this.option.on("ifChecked",(function(){var n=+t.totalPrice.text()+ +e(this).parent().siblings(t.optionPrice).find("span").text();t.totalPrice.text(n);var i=e(this).data("prop"),o=e(this).data("val");App.ZeroWebFormValues[i]=o,Cookies.set("ZeroWebFormValues_"+i,o),App.ZeroWebFormValues.summ=n,Cookies.set("ZeroWebFormValues_summ",n)})),this.option.on("ifUnchecked",(function(){var n=+t.totalPrice.text()-+e(this).parent().siblings(t.optionPrice).find("span").text();t.totalPrice.text(n);var i=e(this).data("prop");App.ZeroWebFormValues[i]="",Cookies.set("ZeroWebFormValues_"+i,""),App.ZeroWebFormValues.summ=n,Cookies.set("ZeroWebFormValues_summ",n)}))}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ZeroReportingPayment=can.Control.extend({pluginName:"appWidgetZeroReportingPayment",defaults:{}},{init:function(){this.option=this.element.find(".js-zero-reporting-payment__option"),this.extraOptions=this.element.find(".js-zero-reporting-payment__extra-options"),this.pricingPlan=this.element.find(".js-zero-reporting-payment__pricing-plan"),this.discount=this.element.find(".js-zero-reporting-payment__discount"),this.noDiscounts=this.element.find(".js-zero-reporting-payment__discount--zero"),this.optionPrice=this.element.find(".js-zero-reporting-payment__option-price"),this.totalPrice=this.element.find(".js-zero-reporting-payment__total-price"),this.totalPriceNum=+this.totalPrice.val();var t=this;this.pricingPlan.on("ifChecked",(function(){t.totalPriceNum=+e(this).parent().siblings(t.optionPrice).find("span").text(),t.totalPrice.val(t.totalPriceNum),App.ZeroWebFormValues.summ=t.totalPriceNum,Cookies.set("ZeroWebFormValues_summ",t.totalPriceNum),t.discount.each((function(n,i){e(this).iCheck("uncheck"),App.ZeroWebFormValues.sale_code?t.element.find("#"+App.ZeroWebFormValues.sale_code).iCheck("check"):t.noDiscounts.iCheck("check")})),t.option.each((function(t,n){e(this).iCheck("uncheck")})),e(this).hasClass("js-zero-reporting-payment__pricing-plan--comfort")?(t.extraOptions.removeClass("hide"),App.ZeroWebFormValues.service='Пакет "Комфорт"',App.ZeroWebFormValues.service_code=2,Cookies.set("ZeroWebFormValues_service",'Пакет "Комфорт"'),Cookies.set("ZeroWebFormValues_service_code",2)):(t.extraOptions.addClass("hide"),App.ZeroWebFormValues.service='Пакет "Эконом"',App.ZeroWebFormValues.service_code=1,Cookies.set("ZeroWebFormValues_service",'Пакет "Эконом"'),Cookies.set("ZeroWebFormValues_service_code",1),App.ZeroWebFormValues.options_electron="",Cookies.set("ZeroWebFormValues_options_electron",""),App.ZeroWebFormValues.options_courier="",Cookies.set("ZeroWebFormValues_options_courier",""))})),this.discount.on("ifChecked",(function(){var n=e(this).parent().siblings(t.optionPrice).find("span").text()/100,i=t.totalPriceNum-t.totalPriceNum*n;t.option.parent().each((function(n,o){if(e(this).hasClass("custom-checkbox--checked")){var r=+e(this).siblings(t.optionPrice).find("span").text();i+=r}})),t.totalPrice.val(i),App.ZeroWebFormValues.summ=i,Cookies.set("ZeroWebFormValues_summ",i),e(this).attr("id")&&"no-discounts"!==e(this).attr("id")?(App.ZeroWebFormValues.sale=e(this).val(),App.ZeroWebFormValues.sale_code=e(this).attr("id"),Cookies.set("ZeroWebFormValues_sale",e(this).val()),Cookies.set("ZeroWebFormValues_sale_code",e(this).attr("id"))):(App.ZeroWebFormValues.sale="",App.ZeroWebFormValues.sale_code="",Cookies.set("ZeroWebFormValues_sale",""),Cookies.set("ZeroWebFormValues_sale_code",""))})),this.option.on("ifChecked",(function(){var n=+t.totalPrice.val()+ +e(this).parent().siblings(t.optionPrice).find("span").text();t.totalPrice.val(n),App.ZeroWebFormValues.summ=n,Cookies.set("ZeroWebFormValues_summ",n);var i=e(this).data("opt-name");App.ZeroWebFormValues[i]="Y",Cookies.set("ZeroWebFormValues_"+i,"Y")})),this.option.on("ifUnchecked",(function(){var n=+t.totalPrice.val()-+e(this).parent().siblings(t.optionPrice).find("span").text();t.totalPrice.val(n),App.ZeroWebFormValues.summ=n,Cookies.set("ZeroWebFormValues_summ",n);var i=e(this).data("opt-name");App.ZeroWebFormValues[i]="",Cookies.set("ZeroWebFormValues_"+i,"")})),this.setStartVals()},setStartVals:function(){App.ZeroWebFormValues.service_code&&2==App.ZeroWebFormValues.service_code&&(this.element.find(".js-zero-reporting-payment__pricing-plan--comfort").iCheck("check"),App.ZeroWebFormValues.options_electron&&"Y"==App.ZeroWebFormValues.options_electron&&this.element.find("#zero-reporting-sending").iCheck("check"),App.ZeroWebFormValues.options_courier&&"Y"==App.ZeroWebFormValues.options_courier&&this.element.find("#zero-reporting-courier").iCheck("check")),App.ZeroWebFormValues.sale_code&&this.element.find("#"+App.ZeroWebFormValues.sale_code).iCheck("check")}})}(jQuery),function(e){App.Widgets.Widgets=App.Widgets.Widgets||{},App.Widgets.Widgets.ZeroReportingTest=can.Control.extend({pluginName:"appWidgetZeroReportingTest",defaults:{}},{init:function(){var t=this;this.$questions=this.element.find(".test-questions li"),this.$answers=this.element.find(".js-zero-reporting-test__answer"),this.$btn=this.element.find(".js-zero-reporting-test__btn"),this.$answers.on("ifChecked",(function(){var n=!1,i=!1;t.$questions.each((function(){e(this).find("input:radio").is(":checked")?"true"==e(this).find("input:radio:checked").val()&&(i=!0):n=!0})),n||(t.$btn.removeClass("disabled"),i?t.$btn.attr("href","#no-zero-reporting"):t.$btn.attr("href","#zero-reporting"))}))}})}(jQuery);